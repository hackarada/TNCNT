!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),txv.tips=n(28);var i=n(29),o=n(54);n(55),n(57)(),n(59),n(65),n(70),n(71),n(75),n(77),n(78),n(119),n(121),n(122),n(124),n(125),n(135),n(137),n(139),n(148),n(151),n(154),n(156),n(158),n(163),n(164),n(167),n(172),n(173),n(177),n(182),n(184),n(187),n(191),n(193),n(195),n(197),n(209),n(213),n(218),n(220),n(221),n(223),n(231),n(232),n(233),n(235),n(237),n(239),n(242),n(243);window.PageMessage;t.exports=i("page2017",{}),Reve.set({"catch":!0}),new Reve({el:document.body}),$.getScript("//vm.gtimg.cn/tencentvideo/script/module/followSeries.js"),$.getScript("//vm.gtimg.cn/tencentvideo/script/index2017/public_comps/index.min.js"),$.getScript("//vm.gtimg.cn/tencentvideo/script/index2017/public_comps/shortcut.min.js").done(function(){window.shortcut&&window.shortcut.init({miniplayer:!0,wxapp:!0})}),o(),txv.Boss&&txv.Boss.wind()},function(t,e,n){window.txv=window.txv||{},window.JSON||(window.JSON=$.JSON);n(2);n(3)},function(t,e){t.exports=Promise},function(t,e,n){var i=n(4),o=n(5),a=n(22),r=n(26);n(27);a.registerRequestor("jsonp",function(t,e){var n=i.extend({},t,{url:t.url.replace(/^jsonp:/,""),dataType:"jsonp",success:function(t){e(null,t)},error:function(t,n,i){e(i)}});n.data=i.extend({},n.data||{}),n.data._ext=undefined,i.ajax(n)});var s={};a.registerRequestor("vunion",function(t,e){var n,i=t.url.match(/^vunion:\/\/(\d+)(\?ids=([\w,]+))?$/),o=i&&i[1],a=i&&i[3];if(n=a?a.split(","):t.data.ids,+o>0&&n&&n.length>0){var c=s[o];c||(c=s[o]=r(o)),c(n,e)}else e(new Error("ids check failed"))}),t.exports=o},function(t,e){t.exports=$},function(t,e,n){"use strict";function i(t,e){try{t.emit.apply(t,e)}catch(n){}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(6),r=n(10),s=n(14),c=n(15),l=n(19),d=n(20),u=n(21),p=a("auto-creating"),f=a("auto-serving"),v=n(25);(t.exports=function(t,e){e=e||{},r.equal(o(t.data=t.data||{}),"object","please give pigfarm.js a datasource map"),t.render||(t=s({},t),t.template?t.render=c(t.template,t.helper||{}):t.render=t.render||function(t){return JSON.stringify(t)});var n={},a={},_={},h=t.render,m=function(r){var c=this;return new Promise(function(u,p){f("start",e),e.timeout&&!isNaN(+e.timeout)&&setTimeout(function(){p(new Error("pigfarm timeout"))},e.timeout);var v=r||{},g=s(v,JSON.parse(JSON.stringify(n)));Object.keys(a).forEach(function(t){var e=a[t](v);"object"===(void 0===e?"undefined":o(e))?d(t,g)(e):console.log("WARNING: static "+t+" is ignored, function of value must return object")});var y={};f("fetch start"),i(m,["fetchstart",c]),Object.keys(_).forEach(function(e){y[e]={dep:t.data[e].dependencies,factory:function(t){var n=Date.now();return _[e].call(c,s({},t,v)).then(function(t){return t=t.data,i(m,["anyfetchsuccess",c,{time:Date.now()-n,name:e}]),void 0===t||null===t||!1===t?{}:t})["catch"](function(t){throw i(m,["anyfetcherror",c,{time:Date.now()-n,name:e}]),t})}}}),l.call(c,y).then(function(e){f("fetch end"),i(m,["fetchend",c]),Object.keys(e).forEach(function(n){var i=e[n],o=t.data[n].dependencies;o&&!t.data[n].mountatglobal?d(n)(i,e[o[0]]):d(n,g)(i)}),i(m,["renderstart",c]),f("renderData keys",Object.keys(g));try{var n=h(g)}catch(o){return o.status=o.status||555,o.renderData=g,p(o)}i(m,["renderend",c]),u(n)})["catch"](p)})["catch"](function(t){throw t.status=t.status||503,t})};return s(m,v.prototype),p("reading data sources"),Object.keys(t.data).forEach(function(e){var i=t.data[e];if("request"==i.type)_[e]=i.action,_[e].name=e;else{if("static"!=i.type)throw new Error("must indicate a type for datasource");"function"==typeof i.value?a[e]=i.value:d(e,n)(i.value)}}),_=u(_),p("readed data sources, static:",n),m}).useFetcher=function(t){u.useFetcher.apply(this,arguments)}},function(t,e,n){(function(i){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function a(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var i="color: "+this.color;t.splice(1,0,i,"color: inherit");var o=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(a=o))}),t.splice(a,0,i)}}function r(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function c(){var t;try{t=e.storage.debug}catch(n){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t}e=t.exports=n(8),e.log=r,e.formatArgs=a,e.save=s,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(e,n(7))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(d===setTimeout)return setTimeout(t,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function a(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function r(){_&&f&&(_=!1,f.length?v=f.concat(v):h=-1,v.length&&s())}function s(){if(!_){var t=o(r);_=!0;for(var e=v.length;e;){for(f=v,v=[];++h<e;)f&&f[h].run();h=-1,e=v.length}f=null,_=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var d,u,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(t){d=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var f,v=[],_=!1,h=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||_||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){function i(t){var n,i=0;for(n in t)i=(i<<5)-i+t.charCodeAt(n),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,i=+new Date,o=i-(l||i);t.diff=o,t.prev=l,t.curr=i,l=i;for(var a=new Array(arguments.length),r=0;r<a.length;r++)a[r]=arguments[r];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;s++;var o=e.formatters[i];if("function"==typeof o){var r=a[s];n=o.call(t,r),a.splice(s,1),s--}return n}),e.formatArgs.call(t,a);(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=i(t),"function"==typeof e.init&&e.init(n),n}function a(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length,o=0;o<i;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function r(){e.enable("")}function s(t){var n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o["default"]=o,e.coerce=c,e.disable=r,e.enable=a,e.enabled=s,e.humanize=n(9),e.names=[],e.skips=[],e.formatters={};var l},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined}}}}function i(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=s?Math.round(t/s)+"m":t>=r?Math.round(t/r)+"s":t+"ms"}function o(t){return a(t,l,"day")||a(t,c,"hour")||a(t,s,"minute")||a(t,r,"second")||t+" ms"}function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var r=1e3,s=60*r,c=60*s,l=24*c,d=365.25*l;t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return n(t);if("number"===a&&!1===isNaN(t))return e["long"]?o(t):i(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(e){"use strict";function i(t,e){if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function a(t){return Object.prototype.toString.call(t)}function r(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(w.isFunction(t)){if(k)return t.name;var e=t.toString(),n=e.match(O);return n&&n[1]}}function c(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function l(t){if(k||!w.isFunction(t))return w.inspect(t);var e=s(t);return"[Function"+(e?": "+e:"")+"]"}function d(t){return c(l(t.actual),128)+" "+t.operator+" "+c(l(t.expected),128)}function u(t,e,n,i,o){throw new $.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:o})}function p(t,e){t||u(t,!0,e,"==",$.ok)}function f(t,e,n,s){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(w.isDate(t)&&w.isDate(e))return t.getTime()===e.getTime();if(w.isRegExp(t)&&w.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(r(t)&&r(e)&&a(t)===a(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;s=s||{actual:[],expected:[]};var c=s.actual.indexOf(t);return-1!==c&&c===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),_(t,e,n,s))}return n?t===e:t==e}function v(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function _(t,e,n,i){if(null===t||t===undefined||null===e||e===undefined)return!1;if(w.isPrimitive(t)||w.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=v(t),a=v(e);if(o&&!a||!o&&a)return!1;if(o)return t=b.call(t),e=b.call(e),f(t,e,n);var r,s,c=I(t),l=I(e);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!==l[s])return!1;for(s=c.length-1;s>=0;s--)if(r=c[s],!f(t[r],e[r],n,i))return!1;return!0}function h(t,e,n){f(t,e,!0)&&u(t,e,n,"notDeepStrictEqual",h)}function m(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function g(t){var e;try{t()}catch(n){e=n}return e}function y(t,e,n,i){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),o=g(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!o&&u(o,n,"Missing expected exception"+i);var a="string"==typeof i,r=!t&&w.isError(o),s=!t&&o&&!n;if((r&&a&&m(o,n)||s)&&u(o,n,"Got unwanted exception"+i),t&&o&&n&&!m(o,n)||!t&&o)throw o}var w=n(11),x=Object.prototype.hasOwnProperty,b=Array.prototype.slice,k=function(){return"foo"===function(){}.name}(),$=t.exports=p,O=/\s*function\s+([^\(\s]*)\s*/;$.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=d(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,o=s(e),a=i.indexOf("\n"+o);if(a>=0){var r=i.indexOf("\n",a+1);i=i.substring(r+1)}this.stack=i}}},w.inherits($.AssertionError,Error),$.fail=u,$.ok=p,$.equal=function(t,e,n){t!=e&&u(t,e,n,"==",$.equal)},$.notEqual=function(t,e,n){t==e&&u(t,e,n,"!=",$.notEqual)},$.deepEqual=function(t,e,n){f(t,e,!1)||u(t,e,n,"deepEqual",$.deepEqual)},$.deepStrictEqual=function(t,e,n){f(t,e,!0)||u(t,e,n,"deepStrictEqual",$.deepStrictEqual)},$.notDeepEqual=function(t,e,n){f(t,e,!1)&&u(t,e,n,"notDeepEqual",$.notDeepEqual)},$.notDeepStrictEqual=h,$.strictEqual=function(t,e,n){t!==e&&u(t,e,n,"===",$.strictEqual)},$.notStrictEqual=function(t,e,n){t===e&&u(t,e,n,"!==",$.notStrictEqual)},$["throws"]=function(t,e,n){y(!0,t,e,n)},$.doesNotThrow=function(t,e,n){y(!1,t,e,n)},$.ifError=function(t){if(t)throw t};var I=Object.keys||function(t){var e=[];for(var n in t)x.call(t,n)&&e.push(n);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t,i){function o(t,n){var i={seen:[],stylize:r};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),_(n)?i.showHidden=n:n&&e._extend(i,n),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),c(i,t,i.depth)}function a(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function r(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,n,i){if(t.customInspect&&n&&I(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(i,t);return y(o)||(o=c(t,o,i)),o}var a=l(t,n);if(a)return a;var r=Object.keys(n),_=s(r);if(t.showHidden&&(r=Object.getOwnPropertyNames(n)),O(n)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return d(n);if(0===r.length){if(I(n)){var h=n.name?": "+n.name:"";return t.stylize("[Function"+h+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if($(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return d(n)}var m="",g=!1,w=["{","}"];if(v(n)&&(g=!0,w=["[","]"]),I(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(b(n)&&(m=" "+RegExp.prototype.toString.call(n)),$(n)&&(m=" "+Date.prototype.toUTCString.call(n)),O(n)&&(m=" "+d(n)),0===r.length&&(!g||0==n.length))return w[0]+m+w[1];if(i<0)return b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=g?u(t,n,i,_,r):r.map(function(e){return p(t,n,i,_,e,g)}),t.seen.pop(),f(x,m,w)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):h(e)?t.stylize("null","null"):void 0}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,n,i,o){for(var a=[],r=0,s=e.length;r<s;++r)P(e,String(r))?a.push(p(t,e,n,i,String(r),!0)):a.push("");return o.forEach(function(o){o.match(/^\d+$/)||a.push(p(t,e,n,i,o,!0))}),a}function p(t,e,n,i,o,a){var r,s,l;if(l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),P(i,o)||(r="["+o+"]"),s||(t.seen.indexOf(l.value)<0?(s=h(n)?c(t,l.value,null):c(t,l.value,n-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(r)){if(a&&o.match(/^\d+$/))return s;r=JSON.stringify(""+o),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=t.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=t.stylize(r,"string"))}return r+": "+s}function f(t,e,n){var i=0;return t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function h(t){return null===t}function m(t){return null==t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function b(t){return k(t)&&"[object RegExp]"===E(t)}function k(t){return"object"==typeof t&&null!==t}function $(t){return k(t)&&"[object Date]"===E(t)}function O(t){return k(t)&&("[object Error]"===E(t)||t instanceof Error)}function I(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function E(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}function V(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var S=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,a=i.length,r=String(t).replace(S,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(_){return"[Circular]"}default:return t}}),s=i[n];n<a;s=i[++n])h(s)||!k(s)?r+=" "+s:r+=" "+o(s);return r},e.deprecate=function(n,o){function a(){if(!r){if(i.throwDeprecation)throw new Error(o);i.traceDeprecation?console.trace(o):console.error(o),r=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===i.noDeprecation)return n;var r=!1;return a};var q,R={};e.debuglog=function(t){if(x(q)&&(q=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(q)){var n=i.pid;R[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else R[t]=function(){};return R[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=v,e.isBoolean=_,e.isNull=h,e.isNullOrUndefined=m,e.isNumber=g,e.isString=y,e.isSymbol=w,e.isUndefined=x,e.isRegExp=b,e.isObject=k,e.isDate=$,e.isError=O,e.isFunction=I,e.isPrimitive=C,e.isBuffer=n(12);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",V(),e.format.apply(e,arguments))},e.inherits=n(13),e._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(e,function(){return this}(),n(7))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},a=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var a;for(a in t);return void 0===a||n.call(t,a)};t.exports=function r(){var t,e,n,i,s,c,l=arguments[0],d=1,u=arguments.length,p=!1;for("boolean"==typeof l&&(p=l,l=arguments[1]||{},d=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});d<u;++d)if(null!=(t=arguments[d]))for(e in t)n=l[e],i=t[e],l!==i&&(p&&i&&(a(i)||(s=o(i)))?(s?(s=!1,c=n&&o(n)?n:[]):c=n&&a(n)?n:{},l[e]=r(p,c,i)):void 0!==i&&(l[e]=i));return l}},function(t,e,n){"use strict";var i=n(16),o=n(17),a=n(14),r=function(t,e){var n="";try{for(var i,o=t.stack.split("\n"),a=0;a<o.length;a++){var r=o[a];if(-1!=r.indexOf("your-template.tpl")){i=r.split(":")[1]-1;break}}n="";for(var a=Math.max(0,i-2);a<Math.min(e.length,i+3);a++)n+=a+1+(i==a?" >":"  ")+" | "+e[a]+"\n"}catch(s){}return n};t.exports=function(t,e){var n=a(i.bind(null),e);try{var s=new o.Script("(data, _)=>{with(data){return `"+t+"`}}",{filename:"your-template.tpl"});s=s.runInThisContext()}catch(l){throw l.wrapper="pigfarm-render: template compile error",l}var c=t.split("\n");return function(t){try{return s(t,n)}catch(l){throw l.wrapper=r(l,c),l.kind="render error",l}}}},function(t,e){"use strict";t.exports=function(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):""}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(18),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,i=n.eval,o=n.execScript;!i&&o&&(o.call(n,"null"),i=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var a=Object_keys(n),r=i.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(a,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),r},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e,n){"use strict";function i(){var t=null,e=null;return{promise:new Promise(function(n,i){t=n,e=i}),resolve:t,reject:e}}var o=n(10);t.exports=function(t){var e={},n={},a=this,r=Object.keys(t);return r.forEach(function(o){e[o]=i(),e[o].promise=e[o].promise.then(function(e){var n={};return t[o].dep&&t[o].dep.forEach(function(t,i){n[t]=e[i]}),t[o].factory.call(a,n)}),t[o].dep?t[o].dep.forEach(function(t){n[t]||(n[t]=[]),n[t].push(o)}):e[o].resolve([])}),r.forEach(function(n){t[n].dep&&Promise.all(t[n].dep.map(function(t){return o(!!e[t],"invalid dependency:"+t),e[t].promise})).then(e[n].resolve)["catch"](e[n].reject)}),Promise.all(r.map(function(t){return e[t].promise})).then(function(t){var e={};return t.forEach(function(t,n){e[r[n]]=t}),e})}},function(t,e){"use strict";t.exports=function(t,e){var n=e,i=t;return function(t,e){var o=n,a=i;if(o=o||e)if(-1==a.indexOf("."))o[a]=t;else{var r=o,s=a.split(".");s.forEach(function(e,n){n!=s.length-1?r=r[e]=r[e]||{}:r[e]=t})}else;}}},function(t,e,n){"use strict";var i=n(22),o=(n(6)("autoserver-fetcher"),n(24));(t.exports=function(t){var e={},n=i(t);return Object.keys(t).forEach(function(t){if(o&&o[t])return void("failure"==o[t].type?e[t]=function(){return new Promise(function(e,n){setTimeout(function(){n(new Error("pigfarm drills"))},o[t].value)})}:"timeout"==o[t].type&&(e[t]=function(){return new Promise(function(e,n){setTimeout(function(){e({})},o[t].value)})}));e[t]=function(e){return new Promise(function(i,o){var a=n[t].call(this,e,function(e,n){e?(e.message="datasource "+t+" failed:"+e.message,o(e)):i({data:n})});return a&&"function"==typeof a.then&&a.then(function(t){i({data:t.result,timestat:t.timestat})},function(e){e.message="datasource "+t+" failed:"+e.message,o(e)}),a}.bind(this))}}),e}).useFetcher=function(t){i=t}},function(t,e,n){"use strict";function i(t){"string"==typeof t&&(t={url:t});var e,n=d.parse(t.url).protocol;if(!u[n]&&!u["default"])throw new Error("unsupport protocol: "+n);e=u[n]||u["default"];for(var i,o=p[n],h=t.url;i=h.match(/(\{([\w\.]*)\})/);)h=h.replace(i[1],'" + data.'+i[2]+' + "');return h='"'+h+'"',h=new Function("var data = arguments[0]; return "+h),o&&o(t),t.fixParam=t.fixParam||t.fixBefore||function(t){return t},t.fixResult=t.fixResult||t.fixAfter||function(t){return t},t.onError=t.onError||function(t){return!1},function(n){var i,o,d={},u={},p=this;return new Promise(function(o,v){n=n||{};var _;c("call fixParam"),d.fixParam=l();try{i=t.fixParam.call(p,n)}catch(y){_=y}if(d.fixParam=l(d.fixParam,"us"),c("called fixParam"),r(i)||_)return c("fixParam failed",i),_=_||new Error("fixParam(fixBefore) returned "+i),i=n,v(_);c("start fixUrl"),d.fixUrl=l();var m;m=i instanceof Array?i.slice(0):s({},i,t.data);var g=h(i);d.fixUrl=l(d.fixUrl,"us"),c("end fixUrl"),Object.keys(t).forEach(function(e){"function"!=typeof t[e]&&(u[e]=t[e])}),u.url=g,c("start globalBeforeHook"),f.forEach(function(t){var e=m;try{e=t.call(p,e),void 0!=e&&(m=e)}catch(y){}}),u.data=m,u.originalData=n,c("end globalBeforeHook"),d.request=l(),c("do request");try{e.call({log:a.bind(p,u)},u,function(t,e,n){n=n||{},t?v(s(t,{requestinfo:n,fetcherErrorType:"requestor"})):o({data:e,requestinfo:n})})}catch(y){y.fetcherErrorType="requestor",v(y)}}).then(function(e){d.request=l(d.request,"us"),c("call fixResult"),d.fixResult=l(),c("start globalAfterHook"),v.forEach(function(t){var n=s({},{time:d.request},e.requestinfo);try{t.call(p,e.data,i,n,u)}catch(o){}}),c("end globalAfterHook");try{o=t.fixResult.call(p,e.data,i,s({time:d.request},e.requestinfo))}catch(n){throw s(n,{requestinfo:e.requestinfo})}if(r(o))throw s(new Error("fixResult(fixAfter) returned"+o),{requestinfo:e.requestinfo});return d.fixResult=l(d.fixResult,"us"),c("called fixResult"),o},function(t){throw d.request=l(d.request,"us"),t})["catch"](function(e){c("start globalErrorHook"),_.forEach(function(t){var n=s({},o),a=s({},i),r=s({},u);try{t.call(p,e,n,a,r)}catch(c){}}),c("end globalErrorHook"),c("call onError"),d.onError=l();try{e=t.onError.call(p,e,o,i)}catch(a){e=a}if(e&&!(e instanceof Error)||""===e){var n=e;e=null}if(d.onError=l(d.onError,"us"),c("called onError",n),e)throw e;return n}).then(function(t){return d.all=Object.keys(d).map(function(t){return d[t]}).reduce(function(t,e){return t+e}),{result:r(t)?null:t,timestat:d}},function(t){throw t.timestat=d,t})}}function o(t){var e={};for(var n in t)e[n]=i(t[n]);return e}function a(t,e){c(e)}function r(t){return null===t||void 0===t||!1===t}var s=n(14),c=n(6)("pigfarm-fetcher"),l=n(23),d={parse:function(t){return{protocol:(-1==t.indexOf("//")?null:t.split("//")[0]).slice(0,-1)}}},u={},p={};o.build=i,o.registerRequestor=function(t,e){u[t]=e},o.registerCompiler=function(t,e){p[t]=e};var f=[],v=[],_=[];o.registerHook=function(t,e){if("before"==t)f.push(e);else if("after"==t)v.push(e);else{if("error"!=t)throw new Error("invalid hook");_.push(e)}},o.on=function(t,e){"log"==t&&"function"==typeof e&&(a=e)},t.exports=o},function(t,e,n){(function(e){var i=n(6)("process.hrtime");if(void 0!==e&&e.hrtime){var o={s:[1,1e-9],ms:[1e3,1e-6],us:[1e6,.001],ns:[1e9,1]};t.exports=function(t,n){try{var a=t?e.hrtime(t):e.hrtime();return n&&n in o&&(a=a[0]*o[n][0]+a[1]*o[n][1]),a}catch(r){return i(r.message),0}}}else t.exports=function(t,e){var n=t?(new Date).getTime()-t:(new Date).getTime();switch(e){case"s":return n/1e3;case"us":return 1e3*n;case"ns":return 1e6*n;default:return n}}}).call(e,n(7))},function(t,e,n){(function(e){"use strict";var n={};if("undefined"==typeof window&&e.env.PIGFARM_DRILL){e.env.PIGFARM_DRILL.split(",").forEach(function(t){t=t.split(":");var e=t[0],i=t[1],o="timeout";"f"==i[0]&&(o="failure",i=i.slice(1)),n[e]={type:o,value:+i}})}Object.keys(n).length?t.exports=n:t.exports=null}).call(e,n(7))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=undefined,n.prototype._maxListeners=undefined,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(n=this._events[t],r(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)
}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),o=l.length,c=0;c<o;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(t,e){var o;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(o=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,r,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=r;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";var i=n(4),o=n(2);t.exports=function(t){function e(){var t=c.slice(0);c=[];var e=t.map(function(t){return t.id});return i.ajax({url:"//union.video.qq.com/fcgi-bin/data?otype=json&"+s+"&idlist="+e.join(","),dataType:"jsonp"}).done(function(n){if(0==!n.errorno)return void e.forEach(function(e,i){t[i].callback(new Error(n.errormsg))});n.results.forEach(function(e,n){e.fields.id=e.id,t[n].callback(null,e.fields)})}).fail(function(e){t.forEach(function(t){t.callback(e)})})}function n(t,n){c.push({id:t,callback:n||noop}),30==c.length?(clearTimeout(r),r=null,e()):r||(r=setTimeout(function(){e(),r=null},50))}function a(t){return new o(function(e,i){n(t,function(t,n){t?i(t):e(n)})})}if(!t)throw new Error("需要vunion的tid");var r,s=["tid="+t,"appid=20001238","appkey=6c03bbe9658448a4"].join("&"),c=[];return function(t,e){t instanceof Array?o.all(t.map(function(t){return a(t)})).then(function(t){e&&e(null,t)})["catch"](function(t){e&&e(t)}):n(t,e)}}},function(t,e){t.exports=function(t,e){for(var n=e.split("."),i=t,o=0,a=n.length;o<a;o++){var r=n[o];if(!i||"string"!=typeof r)return i;i=i[r]}return i}},function(t,e){function n(t,e){clearTimeout(r),this.config=$.extend({},o,t);var n,i="",a=this;this.config.useFloat?(i=a.buildFloat(),r=setTimeout(a.removeTips,1e3*this.config.staySecond)):(n='<div class="x_modal" id="ipop"> \x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e<div class="x_modal_bd">{body}</div><div class="x_modal_ft"> {buttons}</div></div>',$.each(["buildHeader","buildIcon","buildBody"],function(t,e){i+=a[e]()}),i=n.replace("{body}",i).replace("{buttons}",this.buildBtn())),$("body").append(i),this.config.useMask&&s(),txv.Message.emit(txv.EventList.tipsshow,!0),this.bindEvent(e),d()}var i={Warning:1,Message:2},o={useFloat:!1,tipsType:i.Message,title:"这是标题",desc:"",useMask:!0,staySecond:3,remindText:"",buttons:[]},a={1:"&#xe602;",2:"&#xe600;",x:"&#xe601;"},r=null,s=function(){0==$("#mask_layer").length?$("body").append('<div id="mask_layer" class="mask_layer"></div>'):$("#mask_layer").show()},c=function(){$("#mask_layer").hide()},l=function(){if(0==$("link[href*='x_dialog.css']").length){$("body").append('<link rel="stylesheet" href="//vm.gtimg.cn/tencentvideo/vstyle/web/common/style/x_dialog.css?v=20160506&max_age=86400"/>')}},d=function(t){var e=t||$("#ipop"),n=e.find(">iframe");e.css({position:"fixed",marginTop:"-"+e.outerHeight()/2+"px",zIndex:10001}),n.length&&n.css({height:e.outerHeight(),position:"absolute",zIndex:100,left:0,top:0,border:"none"}).next().css({zIndex:101}).next().css({zIndex:102})};l(),n.prototype={bindEvent:function(t){var e=$("#ipop"),n=this;e.on("click","._x_close,._x_cancel",function(){t.reject(),n.removeTips()}).on("click","._x_ok",function(){var i=e.find("._x_inp_check").prop("checked");t.resolve({checked:i}),n.removeTips()})},removeTips:function(){$("#ipop").remove(),c(),txv.Message.emit(txv.EventList.tipsshow,!1)},buildHeader:function(){return'<a href="javascript:;" class="x_close _x_close" title="关闭"><i class="x_iconfont x_icon_close">&#xe601;</i></a>'},buildIcon:function(){if(this.config.useFloat)return"";var t=this.config.tipsType,e="";switch(t){case i.Warning:e='<div class="x_icon_line"><i class="x_iconfont x_icon_warning">&#xe600;</i></div>';break;case i.Message:e='<div class="x_icon_line"><i class="x_iconfont x_icon_check">&#xe602;</i></div>'}return e},buildBody:function(){var t=this.config,e="";return t.title&&(e='<h3 class="x_title">'+t.title+"</h3>"),t.desc&&(e+='<div class="x_desc">'+t.desc+"</div>"),t.remindText&&(e+='<div class="x_desc"><label class="x_label"><input type="checkbox" class="x_inp_check _x_inp_check"><span class="x_text">'+t.remindText+"</span></label></div>"),e},buildBtn:function(t){var t=this.config.buttons,e="";return t&&t.length>0&&(e=t[1]?'<a class="x_btn _x_cancel" href="javascript:;">'+t[0]+'</a><a class="x_btn x_btn_primary _x_ok" href="javascript:;">'+t[1]+"</a>":'<a class="x_btn x_btn_primary _x_ok" href="javascript:;">'+t[0]+"</a>"),e},buildFloat:function(){var t='<div class="x_title"><i class="x_iconfont x_icon_{tipstype}">{icon}</i>{title}</div>',e='<div class="x_desc">{desc}</div>';return t=t.replace("{title}",this.config.title),t=t.replace("{icon}",a[this.config.tipsType]).replace("{tipstype}",this.config.tipsType==i.Warning?"warning":"check"),e=e.replace("{desc}",this.config.desc),'<div class="x_alert" id="ipop">\x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e<div class="x_alert_bd">{head}{title}{desc}</div></div>'.replace("{head}",'<a href="javascript:;" class="x_close _x_ok" title="关闭"><i class="x_iconfont x_icon_close">&#xe601;</i></a>').replace("{title}",t).replace("{desc}",e)}},t.exports={showMask:s,hideMask:c,loadCss:l,fixCss:d,FloatWarning:function(t){var e=$.Deferred();new n($.extend(t,{useFloat:!0,tipsType:i.Warning}),e);return e},FloatMsg:function(t){var e=$.Deferred();new n($.extend(t,{useFloat:!0,tipsType:i.Message}),e);return e},Msg:function(t){var e=$.Deferred();new n($.extend(t,{useFloat:!1,tipsType:i.Message}),e);return e},Warning:function(t){var e=$.Deferred();new n($.extend(t,{useFloat:!1,tipsType:i.Warning}),e);return e}}},function(t,e,n){function i(){var t=0;if(window.PLAYER){if(t=parseInt(window.PLAYER.getCurrentTime()),window.PageMessage.emit("tvp-timeupdate",t,!0),!m)return;return void setTimeout(function(){window.location.reload(!1)},200)}m&&window.location.reload(!1)}function o(t,e,n){var i=t[e];return t[e]=function(){n.apply(this,arguments),i&&i.apply(this,arguments)}}function a(){if(!b){b=!0;var t=document.createElement("script");t.setAttribute("id","l_qq_com"),t.setAttribute("arguments","{'mo_page_ratio':0.02,'mo_ping_ratio':0.01,'mo_ping_script':'//ra.gtimg.com/sc/mo_ping-min.js'}"),t.src="//ra.gtimg.com/sc/vqq/crystal-min.js",t.async=!0,t.onload=t.onreadystatechange=function(e,n){function i(t){t&&2==t.cmd&&(t.tohide?document.body.appendChild(o[0]):document.body.removeChild(o[0]))}(n||!t.readyState||/loaded|complete/.test(t.readyState))&&crystal.request();var o=$("<style>.l_qq_com {display: none !important;} </style>");l.wait("flash_action",i),l.on("flash_action",i)},document.body.appendChild(t)}}var r=n(30)(location.protocol.slice(0,-1)+"_v.qq.com"),s=window.performance&&performance.timing&&performance.timing.connectStart,c=window.performance&&performance.timing&&performance.timing.responseEnd;r.start4(s).end4(window.ITIL4||c).start5(s),window.PageMessage.wait("tvp-ready",function(){r.end5()});var l=window.PageMessage,d=n(32),u=n(43),p=n(42);Reve.directive("lazyload",n(44)),Reve.directive("lazycall",n(46)),Reve.directive("subscribe",n(47)),Reve.directive("expose",n(49)),Reve.set("catch",!0);var f=n(52);u.helpers(f);n(53);if("function"==typeof history.replaceState&&(COVER_INFO.cover_id&&-1!=document.URL.indexOf("/x/page/")&&history.replaceState({},"",f.playUrl(COVER_INFO.cover_id,VIDEO_INFO.vid)+(location.href.split("?")[1]?"?"+location.href.split("?")[1]:"")),location.href.match(/\/\/v.qq.com\/x\/cover\/\w{15}.html/)&&location.href.match(/vid=\w{11}/))){var v=location.href.match(/vid=(\w{11})/)[1],_=location.href.split("?")[1]||"";_&&(_=_.replace(/vid=\w{11}&?/,""));var h=location.href.match(/(\/\/v.qq.com\/x\/cover\/\w{15}).html/);history.replaceState({},"",h[1]+"/"+v+".html?"+_)}var m=!0,g=!1;txv.login.addReadyCallback(function(){txv.vip.getVipInfo().done(function(t){g=t&&t.vip}),txv.login.addLogoutCallback(function(){g=!1})}),txv.login.addLoginCallback(function(){txv.vip.getVipInfo().done(function(t){(t.vip||t.adpass)&&(g=!0,i())}).always(function(t){t&&t.vip||g&&i()})}),8!=COVER_INFO.pay_status&&txv.login.addLogoutCallback(function(){location.reload(!1)});var y=window.$Root={pages:{}},w=y.pages,x=window.COVER_INFO?window.COVER_INFO.type:0;x=x||(window.VIDEO_INFO?window.VIDEO_INFO.type:0),t.exports=function(t,e){return d.setPage(x).bind(document.body,"_stat"),o(e,"created",function(){w[t]=this}),o(e,"ready",function(){COVER_INFO.vipPage&&d.pv((x||"x")+".vip"),d.pv(x),setTimeout(function(){d.stat("stay_5s")},5e3),setTimeout(function(){d.stat("stay_10s")},1e4),l.wait("tvp-ready",function(){setTimeout(function(){d.flush()},10)})}),o(e,"destroy",function(){w[t]=null}),Reve.component("p-"+t,e)},y.getComponentById=function(t){var e=null;return p.objEach(w,function(n,i){e||p.some(i.$components,function(n){if(n.$id==t)return e=n,!0})}),e},l.wait("tvp-adStart",a),l.wait("tvp-playing",a),setTimeout(a,1e4);var b=!1,k=document.createElement("script"),O=window.location.protocol.split(":")[0];k.src="https"===O?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var I=document.getElementsByTagName("script")[0];I.parentNode.insertBefore(k,I)},function(t,e,n){"use strict";function i(t){return Math.round(Math.random()*(1/t))%20}function o(t){var e=!1;return function(){e||(e=t.apply(this,arguments))}}var a=window.performance,r=n(31),s=(location.search||location.href).match("_qosstat=1"),c={};t.exports=function(t){if(!c[t]){var e=!1,n=!1,l=!1,d={};d.t=new Array(5);var u=o(function(){if(e&&l&&n){return 10!==i(.05)&&!s||(r("//qos.report.qq.com/collect?type=1&name="+t+"&"+d.t.map(function(t,e){return e+1+"="+t}).join("&")+"&_rt="+ +new Date),!0)}});c[t]={start4:function(t){return d.t[3]=t||+new Date,this},end4:function(t){return e=!0,d.t[3]=(t||+new Date)-d.t[3],u(),this},start5:function(t){return d.t[4]=t||+new Date,this},end5:function(t){return l=!0,d.t[4]=(t||+new Date)-d.t[4],u(),this}},a&&a.timing&&(window.onload=function(){setTimeout(function(){var t=a.timing;d.t[0]=t.domainLookupEnd-t.domainLookupStart,d.t[1]=t.responseStart-t.requestStart,d.t[2]=t.responseEnd-t.responseStart,n=!0,u()},0)})}return c[t]}},function(t,e){"use strict";function n(){}t.exports=function(t){var e=document.createElement("img");e.onerror=n,e.onload=n,e.onabort=n,e.src=t}},function(t,e,n){"use strict";function i(){return f||window.jQuery||window.$}function o(t,e){return _.hot([y,"event",t,e].join(".")),this}function a(t,e,n){return _.hot([y,"click",t,e,n].join(".")),this}function r(t){return _.hot([y,"pageview",t,"",v].join(".")),this}function s(t,e){return _.hot([y,"stat",t,e].join(".")),this}function c(t){return _.hot([y,"videoview",t].join(".")),this}function l(t){return"array"!==h.type(t)?"":h.map(t,function(t){return h.map(t,function(t){return encodeURIComponent(t)}).join(",")}).join("|")}function d(t){return"string"!=typeof t?[]:h.map(t.split("|"),function(t){return h.map(t.split(","),function(t){return decodeURIComponent(t)})})}function u(t,e){switch(t){case"click":a.apply(this,e);break;case"pageview":r.apply(this,e);break;case"event":o.apply(this,e);break;case"stat":s.apply(this,e);break;case"videoview":c.apply(this,e)}}function p(t){var e=Array.prototype.slice.call(arguments,1);if(m)try{var n=localStorage.getItem(w);try{n=d(n)}catch(i){}return"array"!==h.type(n)&&(n=[]),n.push([t].concat(e)),void localStorage.setItem(w,l(n))}catch(i){}u(t,e)}var f,v="1811301452",_=n(33),h=n(42),m="localStorage"in window&&null!==window.localStorage,g="index",y="vplay2017",w=y+"_lazy_reports";t.exports={setPage:function(t){return g=t,this},setJQ:function(t){return f=t,this},bind2d:function(t,e,n){var o=i();return o(t).on("click","["+n+"]",function(t){for(var i,r=t.currentTarget,s=o(r).attr(n),c=10;c&&r&&!(i=o(r).attr(e));)c--,r=r.parentNode;i&&a(g,i,s)}),this},bind:function(t,e){var n=i();return n(t).on("click","["+e+"]",function(t){var i=t.currentTarget,o=n(i),r=o.attr(e);if("A"==i.tagName){var s=o.attr("href"),c=o.attr("target");if(!/^(javascript:|#)/.test(s)&&!c)return void p("click",g,r,"")}a(g,r,"")}),this},click:function(t){return a(g,t,"")},event:function(t){return o(g,t)},stat:function(t){return s(g,t)},flush:function(){if(localStorage)try{var t=localStorage.getItem(w);localStorage.removeItem(w),t&&(t=d(t),h.forEach(t,function(t){u(t[0],t.slice(1))}))}catch(e){}},pv:r,vv:c}},function(t,e,n){"use strict";function i(t){return m+k+"&s_uuid="+(_()||a())+"&s_omgid="+(x||"")+"&s_referrer="+encodeURIComponent(document.referrer||t.referrer||"")+"&_dc="+Math.random()+"&s_openid="+(w||u.get("openid"))+"&s_uin="+(u.get("o_cookie")||u.get("uin")||u.get("luin"))+"&s_appid="+u.get("appid")+"&s_mainlogin="+u.get("main_login")}function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[t(),t(),t(),t()].join("")}function a(){if(b)return b;var t=u.get("tvfe_boss_uuid");if(!t){t=o();try{u.set("tvfe_boss_uuid",t,"qq.com",!1,87600)}catch(e){u.set("tvfe_boss_uuid",t,"",!1,87600)}}return b=t,t}function r(t,e){t=t.replace(/\.$/,"").split("."),(t.length<3||t.length>5)&&console.warn("按钮名分段数不对，可能会导致数据丢失");var n=i({referrer:h()});n+="&s_ptag="+encodeURIComponent(y||"")+"&s_app="+encodeURIComponent(t[0]||"")+"&s_module="+encodeURIComponent(t[1]||"")+"&s_behave="+encodeURIComponent(t[2]||"")+"&s_sub="+encodeURIComponent(t[3]||"")+"&s_fifth="+encodeURIComponent(t[4]||""),e&&e.lazy?f.push(n):p(n)}function s(t){return function(e){var n;try{n=JSON.parse(e)}catch(i){try{n=JSON.parse(decodeURIComponent(e))}catch(i){return t(i.message,null,e)}}0==n.errCode?t(null,n,e):t(n.errCode+":"+n.errMsg,n,e)}}var c,l=n(34)(),d=n(35),u=n(37),p=n(31),f=n(38),v=function(){},_=v,h=v,m="//btrace.qq.com";try{c=window.jQuery||window.Zepto||window.tvp&&tvp.$}catch($){}c&&c(document.body).on("click","[_boss]",function(t){r(c(t.currentTarget).attr("_boss"))});var g=window.sessionStorage||{getItem:function(){return""}},y=d.get("ptag")||g.getItem("ptag")||u.get("ptag"),w=d.get("openid"),x="";if(l.browser.QQvideo){n(39)(function(t){t.invoke("getDeviceInfo",null,s(function(t,e){t||0!=e.errCode||(x=e.result.omgid||"")}))})}var b,k="/kvcollect?BossId=3255&Pwd=2118551257&s_urrl="+encodeURIComponent(location.href.split("?")[0])+"&s_ua="+navigator.userAgent+"&s_browser="+l.browser.name;t.exports={uuid:function(){return a()},uuidGetter:function(t){_=t||v},referrerGetter:function(t){h=t||v},ptag:function(t){y=t},host:function(t){m=t},hot:r,uid:a}},function(t,e){function n(t){if(t){var e={},n={},i={iphone:t.match(/(iphone)\s(os\s)?([\d_]+)/i),ipad:t.match(/(ipad).*\s([\d_]+)/i),ipod:t.match(/(ipod).*\s([\d_]+)/i),android:t.match(/(android)\s([\d\.]+)/i),windows:t.match(/Windows(\s+\w+)?\s+?(\d+\.\d+)/)};i.ipod&&(e.ios=e.ipod=!0,e.version=i.ipod[2].replace(/_/g,"."),e.name="ipod"),i.ipad&&(e.ios=e.ipad=!0,e.version=i.ipad[2].replace(/_/g,"."),e.name="ipad"),i.iphone&&(e.iphone=e.ios=!0,e.version=i.iphone[3].replace(/_/g,"."),e.name="iphone"),i.android&&(e.android=!0,e.version=i.android[2],e.name="android"),i.windows&&(e.windows=!0,e.version=i.windows[2],e.name="windows");var o={IE:t.match(/; msie\b|; trident\b|\bedge\//i),WeChat:t.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/)||t.match(/MicroMessenger\/((\d+)\.(\d+))/),MQQClient:!t.match(/QQReader/)&&t.match(/QQ\/(\d+\.\d+)/i)||t.match(/V1_AND_SQ_([\d\.]+)/),MQQReader:t.match(/QQReader/i),sukan:t.match(/synopsis/i),QQvideo:!t.match(/TADChid/)&&t.match(/QQLiveBrowser\/([\d.]+)/),QQHDvideo:t.match(/QQLiveHDBrowser\/([\d.]+)/),TBSSDK:t.match(/MQQBrowser\/(\d+\.\d+)/i)&&t.match(/MSDK\/(\d+\.\d+)/),MQQBrowser:t.match(/MQQBrowser\/(\d+\.\d+)/i),UCBrowser:t.match(/ucbrowser\/(\d+\.\d+)/i),Qzone:t.match(/Qzone\/[\w\d\_]*(\d\.\d)[\.\w\d\_]*/i),Weibo:t.match(/Weibo/i),qqnews:t.match(/qqnews\/(\d+\.\d+\.\d+)/i),QQLiveBroadcast:t.match(/QQLiveBroadcast/i),kuaibao:t.match(/qnreading\/(\d+\.\d+\.\d+)/i),liebao:t.match(/LieBaoFast\/(\d+\.\d+\.\d+)/i),IEMobile:t.match(/IEMobile(\/|\s+)(\d+\.\d+)/)||t.match(/WPDesktop/),douban:t.match(/com\.douban\.frodo\/(\d+\.\d+\.\d+)/i),MiuiBrowser:t.match(/MiuiBrowser\/(\d+\.\d+)/i),Chrome:e.ios?t.match(/CriOS\/(\d+\.\d+)/):t.match(/Chrome\/(\d+\.\d+)/),Safari:t.match(/Safari\/(\d+\.\d+)/)};if(o.MQQReader)n.MQQReader=!0,n.version=1,n.name="MQQReader";else if(o.IEMobile)n.IEMobile=!0,n.version=1,n.name="IEMobile";else for(var a in o)if(o[a]){n[a]=!0,n.version=o[a][1]||0,n.name=a;break}return{browser:n,os:e}}}var i=null,o=function(){return i||(i=n(navigator.userAgent))};o.__express=function(t,e,i){t.ua=n(t.headers["user-agent"]),i()},o.__jquery=function(t){t=t||window.jQuery||window.Zepto;var e=i||(i=n(navigator.userAgent));t.browser=e.browser,t.os=e.os},o.__clearCache=function(){i=null},t.exports=o},function(t,e,n){"use strict";var i=n(36);t.exports={get:function(t,e){var n=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)");e=e||location.href;var o=e.match(n);return o?i(o[2]):""},del:function(t){var e=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)"),n=location.href.match(e);n=n?n[2]:"";try{window.history&&history.replaceState&&history.replaceState(null,null,location.href.replace(t+"="+n,""))}catch(i){}}}},function(t,e){var n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},i=function(t){return n[t]};t.exports=function(t){return(""+t).replace(/&(?![\w#]+;)|[<>"']/g,i)}},function(t,e){"use strict";t.exports={set:function(t,e,n,i,o){if(o){var a=new Date,r=new Date;r.setTime(a.getTime()+36e5*o)}return document.cookie=t+"="+e+"; "+(o?"expires="+r.toGMTString()+"; ":"")+(i?"path="+i+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+window.location.host+";"),!0},get:function(t,e){var n=new RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),i=(e||document.cookie).match(n);return i?i[1]:""},del:function(t,e,n){var i=new Date;i.setTime(i.getTime()-1),document.cookie=t+"=; expires="+i.toGMTString()+";"+(n?"path="+n+"; ":"path=/; ")+(e?"domain="+e+";":"domain="+window.location.host+";")}}},function(module,exports,__webpack_require__){var cookie=__webpack_require__(37),report=__webpack_require__(31),storage=function(){var t=!1;try{window.localStorage&&(t=!0)}catch(n){}var e=location.hostname||location.host;return t?{get:function(t){return localStorage.getItem(t)},set:function(t,e){return localStorage.setItem(t,e)},clear:function(t){return localStorage.removeItem(t)}}:{get:function(t){return cookie.get(t)},set:function(t,n){return cookie.set(t,n,e)},clear:function(t){return cookie.set(t,"",e)}}}(),reg=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,k="txv_lazyreport_list",d="|",clear=function(){return storage.clear(k)},shift=function(){var t=storage.get(k);if(!t)return"";var e=t.split(d),n=e.shift();return storage.set(k,e.join(d)),n?decodeURIComponent(n):""},push=function(t){if(t){var e=storage.get(k),n=[];e&&(n=e.split(d)),n.push(encodeURIComponent(t)),storage.set(k,n.join(d))}},reportItem=function(item){if(reg.test(item))try{!!report&&report(item)}catch(e){}else setTimeout(function(){try{eval(item)}catch(e){}},0)},_report=function(){for(var t=shift();t;)reportItem(t),t=shift()};module.exports={push:push,clear:clear,report:_report}},function(t,e,n){"use strict";function i(t){var e=null;if(!t)return null;try{e=t.TenvideoJSBridge||t.WebViewJavascriptBridge}catch(n){}return e}function o(){top.WebViewJavascriptBridge&&(top.TenvideoJSBridge=top.WebViewJavascriptBridge,top.TenvideoJSBridge.invoke=top.WebViewJavascriptBridge.callHandler,top.TenvideoJSBridge.on=top.WebViewJavascriptBridge.registerHandler);var t=new r;d=top.TenvideoJSBridge;var e=d.on;d.on=function(n,i){t._evtObjs[n]&&t._evtObjs[n].length||e.call(d,n,function(e){t.emit(n,e)}),t.on(n,i)},u.ready=!0}var a=n(40),r=n(41),s=n(34)(),c=[],l=!1,d=null,u=Object.create({},{ready:{set:function(t){if(l!=t){l=t;for(var e;e=c.shift();)setTimeout(function(t){return function(){t(d)}}(e),0)}},get:function(){return l}}}),p=window==top?window:top,f=function(t){u.ready?t(d):c.push(t)};if(f.QQvideoBridgeCallback=function(t){return function(e){var n;try{n="string"==typeof e?JSON.parse(e):e}catch(i){try{n=JSON.parse(decodeURIComponent(e))}catch(i){return t(i.message,null,e)}}0==n.errCode?t(null,n,e):t(n.errCode+":"+n.errMsg,n,e)}},t.exports=f,s.browser.WeChat){var v=!1,_=!1,h=function(t){"bridge"==t&&(_=!0),"js"==t&&(v=!0),v&&_&&(d=p.WeixinJSBridge,u.ready=!0)};if(top.WeixinJSBridge)h("bridge");else try{p.document.addEventListener("WeixinJSBridgeReady",function(){h("bridge")})}catch(y){d=null,u.ready=!0}p.wx?h("js"):a("//res.wx.qq.com/open/js/jweixin-1.2.0.js",function(){h("js")}),setTimeout(function(){u.ready||(d=null,u.ready=!0)},1e4)}else if(s.browser.MQQClient){if(window.mqq||window.QQApi)d=window.mqq||window.QQApi,u.ready=!0;else{a("//s.url.cn/qqmobile/qqapi.js?_bid=152",function(){d=window.mqq||window.QQApi,u.ready=!0})}setTimeout(function(){u.ready||(d=null,u.ready=!0)},6e3)}else if(s.browser.QQvideo)if(i(p))o();else{document.addEventListener("onTenvideoJSBridgeReady",o),document.addEventListener("WebViewJavascriptBridgeReady",o);var m=setInterval(function(){i(p)?(clearInterval(m),o()):u.ready&&clearInterval(m)},200);setTimeout(function(){u.ready||(d=null,u.ready=!0)},6e3)}else if(s.browser.qqnews)window.TencentNews?(d=window.TencentNews,u.ready=!0):a("http://mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1",function(){if(window.TencentNews)d=window.TencentNews,u.ready=!0;else var t=setInterval(function(){(window.TencentNews||u.ready)&&(clearInterval(t),d=window.TencentNews,u.ready=!0)},500)}),setTimeout(function(){u.ready||(d=null,u.ready=!0)},6e3);else if(s.browser.sukan){if(window.WebViewJavascriptBridge)d=window.WebViewJavascriptBridge,u.ready=!0;else if(window.WVJBCallbacks)window.WVJBCallbacks.push(function(){d=window.WebViewJavascriptBridge,u.ready=!0});else{window.WVJBCallbacks=[function(){d=window.WebViewJavascriptBridge,u.ready=!0}];var g=document.createElement("iframe");g.style.display="none",g.src="https://__bridge_loaded__",document.documentElement.appendChild(g),setTimeout(function(){document.documentElement.removeChild(g)},0)}setTimeout(function(){u.ready||(d=null,u.ready=!0)},6e3)}else d=null,u.ready=!1},function(t,e){"use strict";t.exports=function(t,e){var n=document.createElement("script"),i=document.getElementsByTagName("script")[0];n.src=t,n.type="text/javascript",n.onload=n.onerror=n.onreadystatechange=function(){/loaded|complete|undefined/.test(n.readyState)&&function(){n.onload=n.onerror=n.onreadystatechange=null,n.parentNode.removeChild(n),n=undefined,e&&e()}()},i.parentNode.insertBefore(n,i)}},function(t,e,n){"use strict";function i(){this._evtObjs={},this._outdatedMsgs={}}function o(){}var a=n(42);i.prototype.on=function(t,e,n){this._evtObjs[t]||(this._evtObjs[t]=[]),this._evtObjs[t].push({handler:e,once:n});var i=this;return function(){i.off(t,e)}},i.prototype.wait=function(t,e){return this._outdatedMsgs[t]?(e.apply(null,this._outdatedMsgs[t]),o):this.on(t,e,!0)},i.prototype.off=function(t,e){var n,i=this;return n=t?[t]:a.keys(this._evtObjs),a.forEach(n,function(t){if(e){var n=i._evtObjs[t]||[],o=[];a.forEach(n,function(t){t.handler!==e&&o.push(t)}),i._evtObjs[t]=o}else i._evtObjs[t]=[]}),this},i.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1);this._outdatedMsgs[t]=e;var n=this._evtObjs[t]||[];a.forEach(n,function(t){t.once&&t.called||(t.called=!0,t.handler&&t.handler.apply(null,e))})},i.prototype.emitAsync=function(){var t=arguments,e=this;setTimeout(function(){e.emit.apply(e,t)},0)},i.prototype.assign=function(t){var e=this;a.forEach(["on","off","wait","emit","emitAsync"],function(n){var i=e[n];t[n]=function(){return i.apply(e,arguments)}})},(new i).assign(i),t.exports=i},function(t,e){"use strict";function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var i={escape:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):""},type:function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=/\[object (\w+)\]/.exec(Object.prototype.toString.call(t));return e?e[1].toLowerCase():""},keys:function(t){var e=[];return t?Object.keys?Object.keys(t):(this.objEach(t,function(t){e.push(t)}),e):e},bind:function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},extend:function(t){if("object"!=this.type(t)&&"function"!=this.type(t))return t;for(var e,i,o=1,a=arguments.length;o<a;o++){e=arguments[o];for(i in e)n(e,i)&&(t[i]=e[i])}return t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);var n=-1;return i.some(t,function(t,i){if(t===e)return n=i,!0}),n},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var n=t.length,i=0;i<n;i++)e(t[i],i);return t},some:function(t,e){if(t.some)return t.some(e);for(var n=t.length,i=!1,o=0;o<n;o++)if(e(t[o],o)){i=!0;break}return i},map:function(t,e){if(t.map)return t.map(e);for(var n=t.length,i=[],o=0;o<n;o++)i.push(e(t[o],o));return i},objEach:function(t,e){if(t)for(var i in t)if(n(t,i)&&!1===e(i,t[i]))break},reduce:function(t,e){if("function"!=i.type(e))throw new TypeError("Array.prototype.reduce callback must be a function");var n=t.length;if(0===n&&2===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,a=0;if(arguments.length>=3)o=arguments[2];else for(;;){if(a in t){o=t[a++];break}if(++a>=n)throw new TypeError("reduceRight of empty array with no initial value")}for(;a<n;a++)o=e(o,t[a],a,t);return o},filter:function(t,e,n){if(t.filter)return t.filter(e);for(var i=t.length,o=[],a=0;a<i;a++){var r=t[a];e.call(n,r,a,t)&&o.push(r)}return o},nextTick:function(){var t=this;return function(){setTimeout.apply(t,arguments)}}(),lock:function(t){var e;return function(){if(!e){e=!0;var n=[].slice.call(arguments,0);return n.unshift(function(){e=!1}),t.apply(this,n)}}},queue:function(t,e){function n(){var t=i.shift();if(!t)return void(o=e);o--;var a=t[0],r=t[1],s=t[2];s.unshift(function(){o++,n.apply(this,arguments)}),setTimeout(function(){a.apply(r,s)})}e=e||1;var i=[],o=e;return function(){if(i.push([t,this,[].slice.call(arguments,0)]),o)return n()}},delegator:function(t){var e,n=[];return function(o){if(e)return n.push(o);e=!0,t.call(this,function(){e=!1;var t=this,a=arguments;o&&o.apply(t,a);var r=n;n=[],i.forEach(r,function(e){e&&e.apply(t,a)})})}},once:function(t){var e,n=arguments;return function(){if(!e&&t)return e=!0,t.apply(n.length>=2?n[1]:null,arguments)}},verCompare:function(t,e){if(t===e)return 0;t=t.split("."),e=e.split(".");for(var n=t.length>=e.length?t.length:e.length,i=0;n--;){var o=Number(t[i]||0),a=Number(e[i++]||0);if(a>o)return 1;if(a<o)return-1}return 0},batchTimeout:function(t,e){function n(t){if(s.push(t),r)return void c.push(+new Date);a=+new Date,c.push(a),r=!0,setTimeout(function(){var t=Math.round(i.reduce(c,function(t,e){return t+(e-a)},0)/c.length);r=!1,c=[];var n=s.slice(0);s=[],setTimeout(function(){n.forEach(function(t){try{t&&t()}catch(e){console.error(e)}})},Math.max(e-o-t,0))},o)}var i=this,o=e/t;(!o||o<1)&&(t=1,o=e),o=Math.round(o);var a,r=!1,s=[],c=[];return n}};t.exports=i},function(t,e,n){var i=n(42),o={},a=function(t,e,n,a){var r=i.extend(i.escape.bind(i),o,a);return t.$compile(e(i.extend({},n,{_:r})))};a.to=function(t){var e=a.apply(this,arguments);return t.appendChild(e),e},a.replace=function(t){var e=a.apply(this,arguments);if(!t.parentNode)throw Error("target element without parentNode.");return t.parentNode.replaceChild(e,t),e},a.helper=function(t,e){return o[t]=e,this},a.helpers=function(t){return i.extend(o,t),this},t.exports=a},function(t,e,n){"use strict";function i(){}function o(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function a(){return"BackCompat"==document.compatMode?document.body.clientHeight:document.documentElement.clientHeight}function r(t){return t.getBoundingClientRect().top+o()}function s(t){var e=t.getBoundingClientRect();return{width:e.width||e.right-e.left,height:e.height||e.bottom-e.top,top:e.top,bottom:e.bottom,left:e.left,right:e.right}}function c(t,e,n){p?t.attachEvent("on"+e,n):t.addEventListener(e,n)}function l(t,e,n){p?t.detachEvent("on"+e,n):t.removeEventListener(e,n)}var d=n(42),u=n(45),p=!document.addEventListener,f=[],v=d.lock(function(t){setTimeout(function(){t();for(var e=0;e<f.length;e++)f[e](o())},80)});c(window,"scroll",v),c(window,"resize",v),t.exports={async:!1,bind:function(t){var e=this;setTimeout(function(){var n=u(e.$el);d.some(n.parents,function(t){return document.body===t})?e._bind(t,n.scrollParent):setTimeout(function(){e._bind(t,u(e.$el).scrollParent)})})},_bind:function(t,e){var n,i,o=this,u=e,p=!u||u===document.body;p?i=r(this.$el):n=s(u),this._handler=function(e){if(!o._loaded){var r;if(p&&e+a()>i)r=!0;else if(!p){var c=s(o.$el);r=!(n.top>c.bottom||n.bottom<c.top)}r&&("function"==d.type(t)?t(o.$el):o.$el.src=t,o._loaded=!0)}},f.push(this._handler),p?v():(c(u,"scroll",this._handler),this._handler()),this._removeListener=function(){var t=[],e=this._handler;d.each(f,function(n){e!==n&&t.push(n)}),f=t,p||l(u,"scroll",o._handler)}},unbind:function(){this._removeListener&&this._removeListener(),this._removeListener=null,this._handler=i}}},function(t,e){"use strict";function n(t,e){e=e||[];var i=t.parentNode;return i?(e.push(i),i===document.body?e:n(i,e)):e}function i(t){if(!t)return"";var e;if(window.getComputedStyle)try{e=window.getComputedStyle(t)}catch(n){}else t.currentStyle&&(e=t.currentStyle);return e?e["overflow-y"]||e.overflow:""}function o(t){return/(auto|scroll)/.test(i(t))}t.exports=function(t){for(var e=n(t),i=document.body,a=0;a<e.length;a++){var r=e[a];if(r===document.body||o(r)){i=r;break}}return{parents:e,scrollParent:i}}},function(t,e,n){"use strict";function i(t,e){u||t(),u=!0,p&&(clearTimeout(p),p=0),p=setTimeout(function(){p=0,u=!1,e()},100)}function o(t){var e=f;f=!1,i(function(){e=!0,v||(v=setInterval(function(){f=!0},2e3))},function(){clearInterval(v),v=0})
;for(var n=a(),o=0;o<d.length;o++)d[o](n,e)}function a(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function r(){return"BackCompat"==document.compatMode?document.body.clientHeight:document.documentElement.clientHeight}function s(t){return t.getBoundingClientRect().top+a()}var c=n(42),l=!document.addEventListener,d=[],u=!1,p=0,f=!1,v=0;l?(window.attachEvent("onscroll",o),window.attachEvent("onresize",o)):(window.addEventListener("scroll",o),window.addEventListener("resize",o)),t.exports={bind:function(t){var e=this,n=s(this.$el),i=this.$vm[t],a=$(e.$el);a.css({overflow:"hidden",height:1,margin:0});var c=function(){a.css({overflow:"",height:"",margin:""})};this._handler=function(t,o){if(!e._called&&(o&&(n=s(e.$el)),t+r()>n)){e._called=!0;var a=i();a&&a.then?a.then(c):c()}},d.push(this._handler),o()},unbind:function(){var t=[],e=this._handler;c.each(d,function(n){e!==n&&t.push(n)}),d=t}}},function(t,e,n){"use strict";var i=n(48);txv.login.addLoginCallback(function(){i.login()}),txv.login.addLogoutCallback(function(){i.logout()}),t.exports={scoped:!0,bind:function(t){var e=this;this.listener=function(n){e.$vm.$set("follow"+t,n)},this.$vm.$set("follow"+t,!1),this.$vm.$compile(this.$el),this.subscriber=i(t,this.listener),$(this.$el).on("click",function(){e.subscriber.toggle()})},unbind:function(){this.subscriber.destroy()},update:function(t){this.subscriber&&this.subscriber.destroy(),this.$vm.$set("follow"+t,!1),this.subscriber=i(t,this.listener)},shouldUpdate:function(t,e){return t!=e}}},function(t,e){"use strict";function n(t,e,n){txv.login.addReadyCallback(function(){if(!s.checkIsLogin())return void(e!=o.check&&i.apply(null,arguments));$.ajax({url:a,dataType:"jsonp",data:{fuin:t,op:e},success:function(t){"o"==t.s?n(null,t):(e!=o.check&&100001==t.code&&i.apply(null,arguments),n(t))},error:function(t){n(t)},CSRF:!0})})}function i(){s.onNeedLogin(),l=arguments}var o={check:"check",set:"set",del:"del"},a="//c.v.qq.com/follow?otype=json",r={};if(window.__txvSubscriber)t.exports=window.__txvSubscriber;else{var s=t.exports=window.__txvSubscriber=function(t,e){if(!r[t]){var i=!1,a=!1,s=function(t,e,i){a=!0,n(t,e,function(){a=!1,i&&i.apply(this,arguments)})};r[t]={},r[t]._callbacks=[];var l=function(){for(var e=0;e<r[t]._callbacks.length;e++)r[t]._callbacks[e](i)};r[t].subscribe=function(e){1!=i&&s(t,o.set,function(t,n){t||(i=!0,l()),e&&e.apply(null,arguments)})},r[t].unsubscribe=function(e){0!=i&&s(t,o.del,function(t,n){t||(i=!1,l()),e&&e.apply(null,arguments)})},r[t].toggle=function(e){return i?r[t].unsubscribe(e):r[t].subscribe(e)},r[t].uin=t,r[t].__check=function(){c&&s(t,o.check,function(t,e){t||"f"!=e.s||100001!=e.code||(c=!1),!t&&e.follow&&(i=!0,l())})},r[t].__set=function(t){i=!!t,l()},r[t].__get=function(){return i},r[t].__check()}return r[t]._callbacks.push(e),e(r[t].__get()),{toggle:r[t].toggle,subscribe:r[t].subscribe,unsubscribe:r[t].unsubscribe,uin:r[t].uin,destroy:function(){for(var n=0;n<r[t]._callbacks.length;n++)if(r[t]._callbacks[n]==e){r[t]._callbacks.splice(n,1);break}}}},c=!0;s.login=function(){c=!0;for(var t in r)r[t].__check();l&&n.apply(null,l)},s.logout=function(){c=!1;for(var t in r)r[t].__set(!1)},s.checkIsLogin=function(){},s.onNeedLogin=function(){};var l=null}},function(t,e,n){"use strict";function i(){if(f){if(f=!1,!v){v=!0;var t=window.VIDEO_INFO,e=t&&t.type;c.pv((e||"x")+".ad")}d="ad:",a(),setTimeout(function(){f=!0},1e3)}}function o(){d=""}function a(){u=!0,$.each(p,function(t,e){r(e)}),p=[]}function r(t){u?c.event(d+t):p.push(t)}var s=n(50),c=n(32),l=window.PageMessage,d="",u=!1,p=[],f=!0,v=!1;l.on("tvp-adStart",i),l.wait("tvp-adStart",i),l.on("tvp-adEnd",o),l.wait("tvp-adEnd",o),l.on("tvp-playing",a),l.wait("tvp-playing",a),t.exports={bind:function(t){var e=this;this._unbind=s(e.$el,function(){e._loaded||(e._loaded=!0,r(t))})},unbind:function(){this._unbind()},update:function(){}}},function(t,e,n){"use strict";function i(){d(window,"scroll",a),d(window,"resize",a)}function o(t,e){function n(n){var i,p,m,g,w,E=!n||n===document.body;if(E&&!k)i=l(t);else if(!E&&!k){var T=n.getBoundingClientRect();p=T.height,m=T.width,g=T.left,w=T.top}var V,P,S,q=!1,R=!1,N=function(o,a,r){if(!u.once||!R){var s;if(E){if(i=k||!i.height?l(t):i,!i.height)return;var c=i.top-C,d=i.bottom;u.offset&&(c-=u.offset,d+=u.offset);var v=!u.listenHoriz||i.left>=0&&i.right<=r;x?(s=$?c>=o&&d<=o+a:c<o+a&&d>o,s=s&&v):s=v&&o+a>c}else if(!E){var _=t.getBoundingClientRect();if(!_.height||!_.width)return;if(I)s=f(t,_);else{if(!p||!m||!w){var h=n.getBoundingClientRect();p=h.height,m=h.width,w=h.top,g=h.left}var y=_.height,T=_.width,c=_.top-w,V=_.left-g,d=_.bottom-w,P=_.right-g,S=u.offset;u.offset&&(c+=S,V+=S,d-=S,P-=S),s=x?$?O?V>=0&&P<=m:c>=0&&d<=p:O?V>-T&&V<m:c>-y&&c<p:c<p&&V<m}}var N=q;if(N&&!s&&"function"==typeof u.out&&u.out(),!s)return void(q=!1);q=!0,(b&&!N||!b)&&(R=!0,e&&e())}};if(E)V=h.on("scroll",N),a();else{var F,L=!1,j=function(){F||(F=!0,setTimeout(function(){F=!1,L&&N(r(),s(),c())},y.throttle?y.throttle:100))};if(V=h.on("scroll",j),n._onviewDelegator)L=n._onviewDelegator.visible(),S=n._onviewDelegator.message.on("visible",function(t){L=t,t&&j()}),j();else{var M=new _;n._onviewDelegator={message:M,visible:function(){return L}},S=o(n,v.extend({},u,{inview:!0,enter:!0,offset:0,listenHoriz:!1,out:function(){M.emit("visible",!1),L=!1}}),function(){L=!0,M.emit("visible",!0),j()})}P=d(n,"scroll",j),j()}return function(){V&&V(),P&&P(),S&&S(),V=P=S=null}}w||(w=!0,i());var u={},g=arguments;"object"==v.type(e)&&(u=e,e=g[2]);var x=p(u,"visible",!0),b=p(u,"enter",!1),k=p(u,"recalc",!1),$=p(u,"inview",!1),O=p(u,"horiz",!1),I=p(u,"absoluteCalc",!1),C=u.offsetTop||0,E=m(t);if(v.some(E.parents,function(t){return document.body===t}))return n(E.scrollParent);var T,V=setTimeout(function(){T=n(m(t).scrollParent)});return function(){clearTimeout(V),T&&T()}}function a(){if(y.throttle){if(x)return;x=!0,setTimeout(function(){x=!1,h.emit("scroll",r(),s(),c())},y.throttle)}else h.emit("scroll",r(),s(),c())}function r(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function s(){return"BackCompat"==document.compatMode?document.body.clientHeight:document.documentElement.clientHeight}function c(){return"BackCompat"==document.compatMode?document.body.clientWidth:document.documentElement.clientWidth}function l(t){var e=t.getBoundingClientRect();return{top:e.top+r(),left:e.left,right:e.right,bottom:e.bottom+r(),height:e.bottom-e.top}}function d(t,e,n){return g?t.attachEvent("on"+e,n):t.addEventListener(e,n),function(){u(t,e,n)}}function u(t,e,n){g?t.detachEvent("on"+e,n):t.removeEventListener(e,n)}function p(t,e,n){return t.hasOwnProperty(e)?!!t[e]:n}function f(t,e,n){n=Object.assign({},{top:0,right:0,bottom:0,left:0},n);var e=e||t.getBoundingClientRect(),i=t.cacheOffsetWidth=t.cacheOffsetWidth||t.offsetWidth,o=t.cacheOffsetHeight=t.cacheOffsetHeight||t.offsetHeight,a=!(e.right-n.left<=0&&e.left+i-n.left<=0||e.left+n.right>=b&&e.right+n.right>=i+b),r=!(e.bottom-n.top<=0&&e.top+o-n.top<=0||e.top+n.bottom>=k&&e.bottom+n.bottom>=o+k);return 0!==t.width&&0!==t.height&&a&&r}var v=n(42),_=n(41),h=new _,m=n(51),g=!document.addEventListener,y={},w=!1;o.set=function(t,e){return y[t]=e,o},o.message=h,h.on("update",a),t.exports=o;var x,b=window.innerWidth,k=window.innerHeight},function(t,e,n){"use strict";function i(t,e){e=e||[];var n=t.parentNode;return n?(e.push(n),n===document.body?e:i(n,e)):e}function o(t){if(!t)return"";var e;if(window.getComputedStyle)try{e=window.getComputedStyle(t)}catch(n){}else t.currentStyle&&(e=t.currentStyle);return e?r(e):""}function a(t){return(!t.hasAttribute||!t.hasAttribute("_scroll_skip"))&&(/(auto|scroll)/.test(o(t))||t.hasAttribute&&t.hasAttribute("_scroll_view"))}function r(t){var e="";return s.some(["-y","-x",""],function(n){var i="overflow"+n,o="hidden"!==t[i]?t[i]:"";if(o)return e=o,!0}),e}var s=n(42);t.exports=function(t){for(var e=i(t),n=document.body,o=0;o<e.length;o++){var r=e[o];if(r===document.body||a(r)){n=r;break}}return{parents:e,scrollParent:n}}},function(t,e,n){var i=n(42);t.exports={formatNum:function(t){if(!t)return 0;t+="";var e=t.split(""),n=(e.shift(),"");return t<1e4?t:t>=1e4&&t<1e8?(t=parseInt(t/1e3)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"万"):t>=1e8?(t=parseInt(t/1e7)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"亿"):void 0},formatNum2:function(t){if(!t)return 0;t+="";var e=t.split(""),n=(e.shift(),"");return t<1e4?t:t>=1e4&&t<1e8?(t=Math.round(t/1e3)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"万"):t>=1e8?(t=Math.round(t/1e7)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"亿"):void 0},splitNum:function(t){for(var e=t+"",n="",i=e.length,o=0;i--;)o&&o%3==0&&(n=","+n),o++,n=e[i]+n;return n},formatDate:function(t,e){if(!t)return"";if("string"==typeof t&&(t=new Date(t.replace(/-/g,"/"))),"Invalid Date"==t.toString())return"";e=e||"yyyy-MM-dd";var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},strCut:function(t,e,n){if(t=String(t),e-=0,n=n||"",isNaN(e))return t;for(var i=t.length,o=Math.min(Math.floor(e/2),i),a=t.slice(0,o).replace(/[^\x00-\xFF]/g,"**").length;o<i&&a<e;o++)a+=1+(t.charCodeAt(o)>255);return t.slice(0,a>e?o-1:o)+(o<i?n:"")},playUrl:function(t,e){var n="";return"string"==typeof t?15==t.length?(n="/x/cover/"+t,"string"==typeof e&&e&&(n+="/"+e),n+=".html"):n="/x/page/"+t+".html":"string"==typeof e&&(n+="/x/page/"+e+".html"),n},detailUrl:function(t){return t&&t.length>0?"//v.qq.com/detail/"+t.substr(0,1)+"/"+t+".html":"javascript:;"},searchUrl:function(t,e){if(t&&t.length>0){e=e||"vlist";return"//v.qq.com/search.html?pagetype=4&stag=txt.playpage."+e+"&ms_key="+t}return""},rankUrl:function(t){var e="?",n="";return t.typeid&&(n+=e+"type="+t.typeid,e="&"),t.starid&&(n+=e+"fromStar="+t.starid,e="&"),t.fantuan&&(n+=e+"fromFantuan="+t.fantuan),"//v.qq.com/doki/rank"+n},dokiStarUrl:function(t){if(!t.starid)return t.starname?"//v.qq.com/x/search/?stag=txt.playpage.vppstar&q="+encodeURIComponent(t.starname):"#";var e="//v.qq.com/doki/star?id="+t.starid;return t.tabid&&(e+="&tabid="+t.tabid),t.position&&(e+="#"+t.position),e},noteDetailUrl:function(t,e){return t&&e?"//v.qq.com/doki/doki_note/detail?starid="+t+"&noteid="+e:"//v.qq.com"},showTime:function(t,e){if(!t)return e?"00:00:00":"00:00";var n=function(t){return t=parseInt(t),t<10?"0"+t:""+t},i=[];return e?(i.push(n(t/3600)),i.push(n(t%3600/60))):i.push(n(t/60)),i.push(n(t%60)),i.join(":")},coverCornerText:function(t,e){function n(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}var i=/\/\/([\w\.]+\/)+(\w+\.\w+)$/,o="";if(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(a){}t.tag_3&&t.tag_3.id>0&&-1!=n(3,e)&&(o=t.tag_3.text),t.tag_4&&t.tag_4.id>0&&-1!=n(4,e)&&(o=t.tag_4.text),t.tag_1&&t.tag_1.id>0&&-1!=n(1,e)&&(o=t.tag_1.text),t.tag_2&&t.tag_2.id>0&&-1!=n(2,e)&&i.test(t.tag_2.param)&&(o=t.tag_2.text)}return o?'<i class="mark_vip_text">'+o+"</i>":""},coverCorner:function(t,e){function n(t,e){return t.replace(/\{(\w+)\}/g,function(t,n){var i=e[n]||"";return"param2x"==n&&(i=e.param||"",i=i&&i.replace&&i.replace(/\.(\w+)$/,"@2x.$1 2x")),i&&i.replace&&i.replace(/^http\:/,"")})}function i(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}var o="",a=/\/\/([\w\.]+\/)+(\w+\.\w+)$/;if(e=e||[1,2,3,4],t){if("string"==typeof t)try{t=JSON.parse(t)}catch(r){}t.tag_3&&t.tag_3.id>0&&-1!=i(3,e)&&(o+=n('<div class="figure_count"><span class="num">{text}</span></div>',t.tag_3)),t.tag_4&&t.tag_4.id>0&&-1!=i(4,e)&&(o+=n('<sup class="{param}">{text}</sup>',t.tag_4)),t.tag_1&&t.tag_1.id>0&&-1!=i(1,e)&&(o+=n('<sup class="{param}">{text}</sup>',t.tag_1)),t.tag_2&&t.tag_2.id>0&&-1!=i(2,e)&&a.test(t.tag_2.param)&&(o+=n('<i class="mark_v"><img src="{param}" srcset="{param2x}" alt="{text}"></i>',t.tag_2))}return o},playnumIcon:function(){return'<i class="icon_xs triangle_next_xs"><svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10"><use xlink:href="#svg_triangle_next_xs"></use></svg></i>'},hasRight:function(t){if(t&&t.length>0)for(var e=0;e<t.length;e++)if("2"==t[e]||2==t[e])return!0;return!1},copyrightCover:function(t){if(t&&4==t.cover_checkup_grade&&t.copyright_id>0){for(var e=0;e<t.playright.length;e++)if("2"==t.playright[e])return!0;if(!0&t.data_flag)return!0}return!1},isMainEpisode:function(t){return t=t||[],[10139,10150,10416,10890,10470,10471,10994,10999,10001,10002,10003,10472].indexOf(t[0])},metaTitle:function(t,e){if(3==t.type||106==t.type){if(e.category_map&&e.category_map.length>0&&[10994,10999].indexOf(e.category_map[0])>-1){var n="";return n=0==e.c_title_output.indexOf("第")?e.c_title_output:"第"+e.c_title_output+"集",t.title+" "+n+"_1080P在线观看平台"}return e.c_title_output+"_"+t.title+"_1080P在线观看平台"}if(2==t.type){if(e.category_map&&e.category_map.length>0&&[10470,10471,10994,10999].indexOf(e.category_map[0])>-1){var n="";return n=0==e.c_title_output.indexOf("第")?e.c_title_output:"第"+e.c_title_output+"集",t.title+" "+n+"_1080P在线观看平台"}return e.c_title_output+"_"+t.title+"_1080P在线观看平台"}if(1==t.type)return e.category_map&&e.category_map.length>0&&[10139,10150,10416,10834,10890].indexOf(e.category_map[0])>-1?e.c_title_output+"_电影_高清1080P在线观看平台":e.c_title_output+"_"+t.title+"_电影_高清1080P在线观看平台";if(10==t.type){var i=e.c_title_output;return t.column&&t.column.column_id>0&&0==t.column.hide_flag?t.column.title+i+"_综艺_高清1080P在线观看平台":i+t.title+"_综艺_高清1080P在线观看平台"}var i=e.c_title_output;return t.column&&t.column.column_id>0&&0==t.column.hide_flag?i+"_"+t.column.title:i+"_"+t.title},metaDesc:function(t,e,n){if(1==t.type||2==t.type||3==t.type||9==t.type||106==t.type)return n||t.description||"";if(10==t.type)return t.column&&t.column.column_id>0&&0==t.column.hide_flag?t.column.description||"":t.description||"";var i=t.title||"";return t.second_title&&t.second_title.length>0?i+=": "+t.second_title:e.c_title_output&&e.c_title_output.length>0&&(i+=": "+e.c_title_output),i},metaKeys:function(t,e){var n=[];if(1==t.type||2==t.type||3==t.type||106==t.type){if(t.alias&&t.alias.length>0&&(n=n.concat(t.alias)),t.leading_actor&&t.leading_actor.length>0)for(var i=t.leading_actor.length>3?3:t.leading_actor.length,o=0;o<i;o++)n.push(t.leading_actor[o])}else if(t.column&&t.column.column_id>0&&0==t.column.hide_flag&&n.push(t.column.title),10==t.type){if(t.guests&&t.guests.length>0)for(var i=t.guests.length>3?3:t.guests.length,o=0;o<i;o++)n.push(t.guests[o])}else if(9==t.type){if(t.tag&&t.tag.length>0)for(var i=t.tag.length>3?3:t.tag.length,o=0;o<i;o++)n.push(t.tag[o])}else t.urlHasVid?e.pioneer_tag&&e.pioneer_tag.length>0?n.push(e.pioneer_tag.replace("+",",")):t.keyword&&t.keyword.length>0&&(n=n.concat(t.keyword)):t.keyword&&t.keyword.length>0?n=n.concat(t.keyword):e.pioneer_tag&&e.pioneer_tag.length>0&&n.push(e.pioneer_tag.replace("+",","));return n.push(t.type_name),n.join(",")},realLength:function(t){if(t){for(var e=0,n=0;n<t.length;n++)t.charAt(n).match(/[\x00-\x07]/)||(t.charAt(n).match(/[\x07-\xFF]/)?e+=1:e+=2);return e}},listStyleListTitle:function(t,e){var n,i=t.vname_title||t.title||"",o=t.series_part_title||(t.series_name||"")+t.episode,a=t.episode,r="title";switch(+e.list_show_style){case 1530990:+a>0?(n=+a,r="episode"):(n=i,r="autotitle");break;case 1530992:n=o;break;case 1532404:var s=+a;n=[s<10?"0"+s:s,i].join(" ");break;case 1532405:n=[o,i].join(" ");break;case 1530991:n=i;break;default:152462==e.digital_mode&&+t.episode>0?(n=t.episode,r="episode"):n=t.title}return{text:n,style:r}},listStyleTitle:function(t,e,n){var i=n||{},o='<a href="/detail/{cover.cover_id.charAt(0)}/{cover.cover_id}.html" class="_main_title" target="_blank" _stat="intro:title" title="{title}">{title}</a>';e.cover_id?o=o.replace("{cover.cover_id.charAt(0)}",e.cover_id.charAt(0)).replace("{cover.cover_id}",e.cover_id):i.wrapA=!1;var a=t.vname_title||t.title||"",r=t.series_part_title,s=t.episode;t.category_map=t.category_map||[];var c=!0;if(t.category_map&&-1==t.category_map.indexOf("正片")&&-1==t.category_map.indexOf("预告片"))return t.title;var l;switch(+e.list_show_style){case 1530990:l=+s>0?["第"+ +s+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":"")]:[a],c&&(c=e.title);break;case 1530992:l=[r],c&&(c=t.series_name);break;case 1532404:l=["第"+ +s+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":""),a],c&&(c=e.title);break;case 1532405:l=[r,a],c&&(c=t.series_name);break;case 1530991:l=[a],c&&(c=e.title);break;default:l=152462==e.digital_mode&&+t.episode>0?["第"+ +s+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":"")]:[t.title],c&&(c=e.title)}return i.wrapA&&c&&(c=o.replace(/\{title\}/g,c)),c&&l.unshift(c),l.join(" ")},peopleHref:function(t,e){return e?"http://v.qq.com/x/star/"+e:"http://v.qq.com/search.html?pagetype=3&stag=txt.playpage.vppdesc&ms_key="+encodeURIComponent(t)},imgUrl:function(t){return t&&t.replace(/^http\:/,"")},escape:function(t){return t?String(t).replace(/([&<>'"])/g,"\\$1").replace(/[\n\r\s\t\v]/g,""):""},coverPic:function(t,e,n){var i="//i.gtimg.cn/qqlive/img/jpgcache/files/qqvideo/";if("string"==typeof t){var o=[];e&&o.push(e),n=n||"",n.length>0&&(n="_"+n),o=o.concat([t.charAt(0),t+n+".jpg"]),i+=o.join("/")}return i},extend:function(){return i.extend.apply(i,arguments)},chnSlice:function(t,e){if(t){for(var n=[],i=0,o=0;o<t.length&&(t.charAt(o).match(/[\x00-\x07]/)||(t.charAt(o).match(/[\x07-\xFF]/)?i+=1:i+=2),n.push(t.charAt(o)),!(i>=e));o++);return n.join("")}},coverPicSize:function(t,e){return t?(t=this.imgUrl(t),t.replace(/\/0$/,"/"+e)):""},formatPeople:function(t,e){if(!t||!e||!e[0])return[];for(var n={},i=[],o=0;o<e.length;o++)for(var a=e[o],r=function(t,e){if(!(t&&e&&t.length&&e.length&&t.length==e.length))return[];for(var n=[],i=0;i<t.length;i++)n.push({id:t[i],name:e[i]});return n}(t[a.id],t[a.name]),s=0;s<r.length;s++){var a=r[s];a.id&&!n[a.id]&&(i.push(a),n[a.id]=!0)}return i},payStatusCorner:function(t,e,n){var i="";return 8!=t||e?(i=4==t?6:7==t?7:5,n?'<i class="mark_vip_text">VIP</i>':'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_'+i+'.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_'+i+'@2x.png 2x" alt="更新"></i>'):""},tvCorner:function(t,e){return e.pre_play_plats_id&&e.pre_play_plats_id.length>0&&!this.hasRight(t.playright)?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_19.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_19@2x.png 2x" alt="抢先"></i>':t.category_map&&t.category_map.length>0&&-1!=t.category_map.indexOf("预告片")?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_12.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_12@2x.png 2x" alt="预告"></i>':e.vipPage&&t.drm>0?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_14.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_14@2x.png 2x" alt="vip"></i>':306061==t.update_flag?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_13.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_13@2x.png 2x" alt="更新"></i>':""},imgHttps:function(t){return t?t.replace(/^http:\/\//,"//"):""},coverTitle:function(t){return t.category_map&&-1!=t.category_map.indexOf("正片")||"79752"==t.column_id?"《"+t.title+"》":""},timeISO8601:function(t,e){var n="PT";return t>3600&&(n+=Math.floor(t/3600)+"H"),t>60&&(n+=Math.floor(t%3600/60)+"M"),n+=Math.floor(t%60)+"S"},navLink:function(t,e){var n="";return(e&&e.data&&e.data.content||[]).some(function(e){return e.title==t&&(n=e.link_addr,!0)}),n},youngRankUrl:function(t){return"//v.qq.com/p/mv/younghot20.html"+(t?"#"+t:"")},getPeriodTime:function(t){var e,n,i,o=new Date;switch(t){case"week":i=o%864e5;var a=o.getDay();o-=i,e=o-(a+6)%7*864e5,n=o+(7-a)%7*864e5;break;case"month":i=o%864e5,o.setDate(1),e=o-i,o.setMonth(o.getMonth()+1),n=o-864e5-i;break;default:e=n=0}return{begin:e,end:n}}}},function(t,e,n){"use strict";function i(t){return u.test(t)}function o(t){return 1==t.length?t[0]:"//vm.gtimg.cn/c/="+r.map(t,function(t){return t.replace(u,"")}).join(",")}function a(t){~l.indexOf(t)||(l.push(t),d||(d=!0,setTimeout(function(){d=!1;var t=[];r.forEach(l,function(e){i(e)?t.push(e):$.getScript(e,function(){s[e]=!0;var t=c[e];c[e]=null,t.forEach(function(t){t&&t()})})}),l=[],t.length&&$.getScript(o(t),function(){t.forEach(function(t){var e=c[t];s[t]=!0,c[t]=!1,e.forEach(function(t){t&&t()})})})})))}var r=n(42),s={},c={},l=[],d=!1,u=/^\/\/vm\.gtimg\.cn/;t.exports=function(t,e){if(s[t])return void(e&&e());c[t]?c[t].push(e):(c[t]=[e],a(t))}},function(t,e){t.exports=function(){$.getScript("//vm.gtimg.cn/tencentvideo/script/module/floatpanel.js",function(){window.floatPanel({page:"vplay",channel:function(t){return"all"}})})}},function(t,e,n){function i(t){var e=t.getHours(),n=t.getMinutes(),i=""+e,o=""+n;return e<10&&(i="0"+i),n<10&&(o="0"+o),i+":"+o}function o(t){var e=t.match(/(\d+\-\d+\-\d+)\s*(\d+:\d+:\d+)/);if(e&&e[1]&&e[2])return new Date(e[1]+"T"+e[2])}function a(t){l!=t&&$("#error_player").hide(),l=t}function r(t){if(80==t.code&&2==t.exem){var e=$("#error_player"),n=window.PLAYER;if(n&&(n.isBrowserFullscreen()&&n.exitBrowserFullscreen(),n.isWindowFullscreen()&&n.exitWindowFullscreen()),e.length){var a=e.find(".player_countdown_time"),r=a.data("start")+"",c=e.find(".player_countdown_desc"),p=e.find("a[data-play]"),f=(""+c.data("plats-ids")).split(","),v=(""+c.data("time-ids")).split(","),_=[],h="",m=0,g=!1;if(f.length){f.sort(function(t,e){return t>e?1:-1});for(var y=0,w=f.length;y<w;y++){var x=f[y],b=d[x];1540079==x&&(g=!0),b&&_.push(b)}}if(txv.ua.windows&&g?(p.bind("click",function(){var t=function(){txv.tips.FloatWarning({title:"未检测到腾讯视频客户端，安装后可在客户端观看",useMask:!1}),location.href="//node.video.qq.com/x/api/download_pc"};s.exist().done(function(){var e=COVER_INFO.id||"",n="qqlive://sso/vbarid="+e+"&videoid="+l+"&stag=vtoclient&atag=vtoclient";s.open(n).fail(t)}).fail(t)}),p[0]&&txv.clipboard.to({el:p[0],text:"qqlivechannel=channel1.vtoclient"})):p.hide(),v[0]){var k=u[v[0]];k&&(h=k.text,m=60*k.hour*60*1e3)}var O=o(r),I="",C="",E="",T="";if(O){var V=(O.getHours(),O.getMinutes(),new Date(O.getTime()+m)),T=i(V);E=i(O),C="（原"+T+"提前到"+E+"）"}_.length&&(I="发现新秘籍，"+_.join("/")+"提前"+h+"更新"+C),a.text(T),c.text(I),e.show()}}}var s=n(56),c=window.PageMessage,l=VIDEO_INFO.vid||"",d={1540078:"web网页",1540079:"PC客户端",1540080:"iPhone",1540081:"aPhone",1540082:"iPad",1540083:"TV云视听极光"},u={1540085:{text:"1小时",hour:1},1540086:{text:"2小时",hour:2},1540087:{text:"3小时",hour:3}};c.on("tvp-vidChange",a),c.wait("tvp-vidChange",a),c.on("tvp-error",r),c.wait("tvp-error",r),t.exports={timeMap:u}},function(t,e){function n(t){l=!1;var e=d,n=e.shift();for(d=[];n;)n(t),n=e.shift()}function i(t){txv.client?t(txv.client):l?d.push(t):(l=!0,d.push(t),$.getScript("//vm.gtimg.cn/tencentvideo_v1/script/module/txv.client.js",function(){l&&n(txv.client)}),setTimeout(function(){l&&n()},3e3))}function o(t){var e=p,n=e.shift();for(p=[];n;)t?n.resolve(t):n.reject(),n=e.shift();u=!1}function a(t,e,n){var a=$.Deferred();return p.push(a),u||(u=!0,i(function(i){i?i.exist(t,e,n).done(function(t){o(t)}).fail(function(){o()}):o()})),a}function r(t,e,n,o){var a=$.Deferred();return i(function(i){i?i.open(t,e,n,o).done(function(){a.resolve()}).fail(function(){a.reject()}):a.reject()}),a}function s(){var t=$.Deferred();return i(function(e){e?e.pull().done(function(){t.resolve()}).fail(function(e){t.reject(e)}):t.reject(-1)}),t}function c(){return a(!0,!1,!0)}var l=!1,d=[],u=!1,p=[];t.exports={exist:a,open:r,pull:s,hasService:c}},function(t,e,n){var i,o=window.PageMessage,a=null,r=[],s=null,c=VIDEO_INFO.vid,l={init:function(){l.processKeys({danmu:VIDEO_INFO.danmu,vid:VIDEO_INFO.vid}),i=n(58),window.js_setDropMatch=function(t){var e=l.getImgUrl(t.keyword);e&&e.length>0&&l.start(e,t.from)},o.on("tvp-switchBullet",function(t){r.length>0&&l.reportToboss({oper:1,type:t?2:3})})},start:function(t,e){0!=e||s?1!=e||a||s||l.showEggs(t,e):l.showEggs(t,e)},getImgUrl:function(t){for(var e=0;e<r.length;e++)if(r[e].f_keyword==t)return r[e].f_url;return""},processKeys:function(t){if(1==!t.danmu)return void(r.length>0&&(l.setKeys(null),r=[]));var e={};COVER_INFO&&(COVER_INFO.id&&COVER_INFO.id.length>0&&(e.cid=COVER_INFO.id),COVER_INFO.column_id&&COVER_INFO.column_id>0&&(e.lid=COVER_INFO.column_id)),e.vid=t.vid,l.getKeys(e).then(function(t){if(!t)return void(r.length>0&&(l.setKeys(null),r=[]));r=[];for(var e=[],n=0;n<t.length;n++)e=e.concat(l.filterKeys(t[n].f_danmu_eggs));l.setKeys(e)})},filterKeys:function(t){if(!t||0==t.length)return null;for(var e=[],n=0;n<t.length;n++)if(t[n].f_keyword&&t[n].f_keyword.length>0&&t[n].f_url&&t[n].f_url.length>0){for(var i=!0,o=0;o<r.length;o++)r[o].f_keyword==t[n].f_keyword&&(i=!1);i&&(r.push(t[n]),e.push(t[n].f_keyword))}return e},getKeys:function(t){var e=$.Deferred();return $.ajax({url:"//bullet.video.qq.com/fcgi-bin/comment/get_danmu_richdata?otype=json",data:t,type:"get",dataType:"jsonp",timeout:1e4,CSRF:!0,success:function(t){t&&0==t.returncode&&t.data&&t.data.length>0?e.resolve(t.data):e.resolve(null)},error:function(){e.resolve(null)}}),e.promise()},setKeys:function(t){t=t&&0!=t.length?t.join(","):"",window.PLAYER&&window.PLAYER.callPlayerExtendMethod("flash_setDropKeyword",{keyword:t}),window.PLAYER&&window.PLAYER.setDropKeyword&&window.PLAYER.setDropKeyword({keyword:t})},reportToboss:function(t){var e={BossId:3635,oper:t.oper,uin:txv.login.getUnicode(),logintype:txv.login.getLoginType(),type:t.type,lid:COVER_INFO.column_id||"",cid:COVER_INFO.id||"",vid:c,url:document.URL||document.location.href,Pwd:640542790},n="";n=$.param(e);var i=["//btrace.video.qq.com/kvcollect?",n,"&_=",Math.ceil(1e3*Math.random())].join("");txv.report(i)},showEggs:function(t,e){for(var n=50,o=document.createDocumentFragment();n--;){var r=new i({fixed:!0,delay:[0,1],destroyed:!0,duration:[2,4.5],img:t,imgonload:function(t){var e=t.width,n=t.height;t.width=e/2,t.height=n/2}});o.appendChild(r.$el)}document.body.appendChild(o),1==e&&(clearTimeout(a),a=setTimeout(function(){a=null},3e5)),clearTimeout(s),s=setTimeout(function(){s=null},5e3),l.reportToboss({oper:0,type:e})},hasbullet:function(){if(VIDEO_INFO&&1==VIDEO_INFO.danmu)return!0;if(LIST_INFO&&LIST_INFO.data)for(var t in LIST_INFO.data)if(1==LIST_INFO.data[t].danmu)return!0;return!1}};t.exports=function(){l.hasbullet()&&(o.wait("tvp-bulletReady",function(t){console.log("-----------"),l.init()}),o.waitandon("vidChanged",function(t){c=t.vid,l.processKeys(t)}))}},function(t,e,n){var i;(i=function(t,e,n){function i(t,e){return t.replace(/\{\$(\w+)\}/g,function(t,n){return e.hasOwnProperty(n)?e[n]:""})}function o(t,e){return"translate("+t+"px,"+e+"px)"}function a(t){return"rotate("+t+"deg)"}function r(t,e){return Math.random()*(e-t)+t}function s(t,e){return Math.floor(Math.random()*(e-t)+t)}function c(){return Math.round(Math.random())}function l(){var t=0;return"number"==typeof window.innerHeight?t=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?t=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),t}function d(){var t=0;return"number"==typeof window.innerWidth?t=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?t=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(t=document.body.clientWidth),t}function u(t,e){return parseFloat(t.toFixed(e))}function p(){}function f(t){var e=this;this._texture=t.img,this._timing=t.timing||"ease-in",this._duration_min=t.duration?t.duration[0]:1,this._duration_max=t.duration?t.duration[1]:2,this._delay_min=t.delay?t.delay[0]:0,this._delay_max=t.delay?t.delay[1]:1.5,this._offset_min=t.offset?t.offset[0]:100,this._offset_max=t.offset?t.offset[0]:300,this._rotate_min=t.rotate?t.rotate[0]:20,this._rotate_max=t.rotate?t.rotate[0]:80,this._jquery=t.jquery||window.$;var n=t.imgonload,i=t.onend,o=!!t.infinite,a=!!t.destroyed;this._delay=r(this._delay_min,this._delay_max);var s=this.$el=document.createElement("div");o&&a&&window.console&&console.log&&console.log('[Warn] "destroyed" will not work when using "infinite".'),s.style.pointerEvents="none",s.style.position=t.fixed?"fixed":"absolute",s.style.top="0px",s.style.left="0px",s.style.zIndex="4999";var c=this.$img=document.createElement("img");if(c.onload=function(){n&&n(c),e.start()},c.src=this._texture,s.appendChild(this.$img),this._animationEnd=function(){o?e.start():a?e.destroy():o||(s.style.display="none"),i&&i()},m){this.initTransformAnimation();var l=function(t){"transform"==t.propertyName&&e._animationEnd()},d=!!s.attachEvent;d?s.attachEvent("ontransitionend",l):s.addEventListener("transitionend",l),this._offEnd=function(){d?s.detachEvent("ontransitionend",l):s.removeEventListener("transitionend",l)}}else this.initTraditionalAnimation()}var v,_,h=document.createElement("div").style,m=!0,g="",y="";"transform"in h&&"transition"in h?g="t":"webkitTransform"in h&&"webkitTransition"in h?(g="webkitT",y="-webkit-"):m=!1;var w=y+"transform {$duration}s {$timing} {$delay}s";v=g+"ransform",_=g+"ransition";var x=f.prototype;x.initTransformAnimation=function(){var t=this.$el,e=this.$img;return e.style[_]=t.style[_]="",t.style[v]=o(0,-200),e.style[v]=a(0),this},x.initTraditionalAnimation=function(){var t=this.$el;return t.style.marginLeft="0px",t.style.marginTop="-200px",this},x.destroy=function(){if(!this._destroyed){var t=this.$el.parentNode;t&&t.removeChild(this.$el),this._offEnd&&this._offEnd(),this._animationEnd=this._offEnd=p}},x.transformAnimate=function(t){var e=this,n=this.$el,r=this.$img;return this.initTransformAnimation(),setTimeout(function(){r.style[_]=n.style[_]=i(w,{duration:t.duration,delay:Math.round(e._delay),timing:e._timing}),n.style[v]=o(t.offsetX,t.offsetY),r.style[v]=a((c()?-1:1)*s(e._rotate_min,e._rotate_max))},50),this},x.traditionalAnimate=function(t){var e=this,n=this.$el;return this.initTraditionalAnimation(),setTimeout(function(){e._jquery(n).animate({marginLeft:t.offsetX,marginTop:t.offsetY},1e3*t.duration,"swing",e._animationEnd)},1e3*this._delay),this},x.start=function(){if(this._destroyed)return this;var t=this.$el,e=u(r(this._duration_min,this._duration_max),1),n=(c()?1:-1)*Math.floor(r(this._offset_min,this._offset_max)),i=d();i-=100;var o=50+Math.round(r(0,i));t.style.left=o+"px",t.style.display="";var a=l();a+=100;var s={duration:e,offsetX:n,offsetY:a};return m?this.transformAnimate(s):this.traditionalAnimate(s),this},n.exports=f}.call(e,n,e,t))!==undefined&&(t.exports=i)},function(t,e,n){function i(t){var e=(Date.now(),t);e=new Date(-288e5+e);var n=e.getSeconds(),i=e.getMinutes(),o=e.getHours();return[o<10?"0"+o:o,i<10?"0"+i:i,n<10?"0"+n:n]}function o(t){var e=t.split(/[\/\s:-]/);return e[1]--,new Date(e[0],e[1],e[2],e[3],e[4],e[5])}var a=n(60),r=txv.client,s=n(61)("COMPONENT-CLIENT-FREE"),c=n(62),l=n(43),d=n(63);t.exports=a("c-client-free",{data:{showing:!1,isFollow:!1,clientExist:!1},ready:function(){function t(){var t=i(a-Date.now());p.text(t[0]),f.text(t[1]),v.text(t[2])}var e=this,n=o(COVER_INFO.free_begin_time),a=o(COVER_INFO.free_end_time);if(!(a-Date.now()<0)){var s=n-Date.now(),u=l(this,c,{timetobegin:s/1e3});if($(this.$el).append(u),txv.login.addReadyCallback(function(){txv.vip.getVipInfo().always(function(t){t&&t.vip||e.set({showing:!0})})}),r.exist().done(function(){e.set({clientExist:!0})}).fail(function(){e.set({clientExist:!1})}),d.onChanged(function(t){var n;n=1==t.type?VIDEO_INFO.vid:2==t.type?COVER_INFO.cover_id:COVER_INFO.column_id,t.id==n&&e.$set({isFollow:t.follow,followChecked:!0})}),s>0)setTimeout(function(){$(e.$el).find("._day").text("马上限免开播")},s);else{var p=$(this.$el).find("._hour"),f=$(this.$el).find("._min"),v=$(this.$el).find("._sec");setInterval(t,1e3),t()}}},methods:{client:function(){
var t=window.PLAYER,e="qqlive://sso/vbarid="+(COVER_INFO.cover_id||"")+"&videoid="+VIDEO_INFO.vid+"&start="+Math.max(0,t.getCurrentTime()-5)+"&rfid="+localStorage.getItem("gp-rfid");r.open({sso:e,atag:"v_videolist_clientfree",success:function(){s("clickOpenPcClient exec done"),t&&t.pause&&t.pause()}})},follow:function(){function t(){e.$data.clientExist?txv.tips.FloatWarning({staySecond:3,title:"已加入看单",desc:"周六客户端专享限免第一时间提醒你"}):txv.tips.FloatWarning({staySecond:3,title:"已加入看单",desc:"下载客户端周六客户端专享限免第一时间提醒你"}),setTimeout(function(){e.client()},2500)}var e=this,n=e.$data,i=COVER_INFO;if(n.followChecked){var o=d.getParam(i,VIDEO_INFO);n.isFollow?t():d.add(o,function(n){n&&(e.$set({isFollow:!0}),t())})}}}})},function(t,e,n){function i(t){var e=this.c={};Object.keys(t).forEach(function(n){var i=n.charAt(0),o={cb:t[n]},r=a[i],s=function(t){var n=e[t]||[];n.push(o),e[t]=n};if(r){o.id=n,o.fix=r;(o.arr=n.replace(i,"").split(",")).forEach(s)}else s(n)})}var o=n(2),a={"|":function(t,e){var n=!1;return{push:function(t){if(!n)return n=!0,e()}}},"&":function(t,e){var n=t.length,i=0;return{push:function(t){if(++i==n)return e()}}}};i.prototype.fix=function(t,e){var n=this.c,i=[],o={};return e.forEach(function(e){var a=e.key,r=n[a];if(r){var s=e.newVal,c=e.oldVal;c!=s&&r.forEach(function(e){var n=e.arr,r=0;if(n){var l=e.id,d=o[l];if(!d){var u=e.fix;d=o[l]=u(n,function(){var n=e.cb;if(n)return n.call(t)})}r=d.push(a)}else r=e.cb.call(t,s,c);r&&r.then&&i.push(r)})}}),o=null,i},t.exports=function(t,e){var n=e.watch;e.watch=undefined;var a=e.created;return e.created=function(){var t=this;if(n){var e=new i(n);t.set=function(n){var i=t.$data,a=Object.keys(n).map(function(t){var e=i[t];return{key:t,newVal:n[t],oldVal:e}});t.$set(n);var r=e.fix(t,a);return r[0]?o.all(r):o.resolve()}}else t.set=t.$set;a&&a.apply(t,arguments)},Reve.component(t,e)}},function(t,e){"use strict";var n=function(){return"undefined"!=typeof wx&&wx.getSystemInfoSync?"devtools"==wx.getSystemInfoSync().platform:"undefined"!=typeof navigator&&-1!=navigator.userAgent.indexOf("Chrome")}(),i=function(t){var e=[Math.floor(50*Math.random()+200),Math.floor(50*Math.random()+150),Math.floor(50*Math.random()+100)].sort(function(){return Math.random()-.5});e="rgb("+e[0]+", "+e[1]+", "+e[2]+")";var o=null;return o=n?function(){try{if(i.disable||"undefined"==typeof window.console||!console.log||!console.log.apply)return;var n=["%c【%s】%c "+t+" %c ","background: #ddd",new Date,"background: "+e,"background: #333;color: white"];console.log.apply(console,n.concat([].slice.call(arguments,0)))}catch(o){}}:function(){try{if(i.disable||"undefined"==typeof window.console||!console.log||!console.log.apply)return;var e=["【%s】 "+t+" %s ",new Date];console.log.apply(console,e.concat([].slice.call(arguments,0)))}catch(n){}},o.time=function(t){console.time(moduleName+"@"+t)},o.timeEnd=function(){console.timeEnd(moduleName+"@"+label)},o};i.disable=window.DISABLE_TXV_BROWSERLOG||!1,t.exports=i},function(module,exports){module.exports=function(d){with(d)return""+(function(){return timetobegin<0?'\n<span class="countdown_title"><span class="hl">PC客户端</span>正在限免</span>\n<span class="countdown_label">距结束</span>\n<span class="countdown_time _hour">0</span>:<span class="countdown_time _min">0</span>:<span class="countdown_time _sec">0</span>\n<div _stat="clientfree:client" class="btn_go" r-on="{click: client}">免费观看</div>\n':timetobegin>86400?'\n<span class="countdown_title">客户端专享周六限免</span>\n<span class="countdown_day">还剩<em class="hl">'+Math.ceil(timetobegin/86400)+'</em>天</span>\n<div _stat="clientfree:follow" class="btn_go" r-on="{click: follow}"><i class="icon icon_collect" r-class="{icon_collected: isFollow}"><svg class="svg_icon" viewBox="0 0 20 20" width="20" height="20"><use class="svg_icon_collect" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_collect"></use><use class="svg_icon_collected" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_collected"></use></svg></i><span class="icon_text">提醒我</span></div>\n':'\n<span class="countdown_title">客户端专享周六限免</span>\n<span class="countdown_day _day">还剩<em class="hl">'+Math.ceil(timetobegin/3600)+'</em>小时</span>\n<div _stat="clientfree:follow" class="btn_go" r-on="{click: follow}"><i class="icon icon_collect" r-class="{icon_collected: isFollow}"><svg class="svg_icon" viewBox="0 0 20 20" width="20" height="20"><use class="svg_icon_collect" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_collect"></use><use class="svg_icon_collected" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_collected"></use></svg></i><span class="icon_text">提醒我</span></div>\n'}()||"")}},function(t,e,n){"use strict";function i(t,e){var n,i;return-1!=g.indexOf(t.type)?(n=t.cover_id,i=2):-1!=y.indexOf(t.type)?(n=t&&t.column_id||e.vid,i=3):(n=e.vid,i=1),{id:n,type:i}}function o(t){window.playJSBridge.changeFollowState(t)}function a(t,e){if(!_.isLogin())return void("FollowServer"==t.sn?e():(_.openLogin(),b=function(){a(t,e)}));var n=$.extend({otype:"json",platform:2},t);return n.attent_type=n.type,n.type=null,u(f,n,e)}function r(t,e){return a($.extend({sn:"FollowServer",cmd:2565},t),function(n,i){var o=p(i,"follow.0.isfollow");n||0!==p(i,"ret")||d($.extend({},t,{follow:o})),e&&e(o,i)})}function s(t,e){return a($.extend({sn:"FollowWrite",cmd:2818},t),function(n,i){var o=i&&0===i.suc;o&&d($.extend({},t,{follow:!1})),e&&e(o,i)})}function c(t,e){return a($.extend({sn:"FollowWrite",cmd:2817},t),function(n,i){var o=i&&0===i.suc;o&&d($.extend({},t,{follow:!0})),e&&e(o,i)})}function l(t){if(t){var e=h[x];m.push(t),e&&t(e,h)}}function d(t){if(t){var e=t.id,n=t.follow;e&&h[e]!==n&&(h[e]=t,e==x&&o(!!n),m.forEach(function(e){e(t,h)}))}}var u=(n(42),n(2),n(64)),p=n(27),f="//like.video.qq.com/fcgi-bin/flw_new",v=window.PageMessage,_=txv.login,h={},m=[],g=[1,2,3,9],y=[10],w=i(COVER_INFO,VIDEO_INFO,COLUMN_INFO),x=w.id;x&&(_.isLogin()?r(w):(w.follow=!1,d(w)),v.on("tvp-follow",function(){var t=h[x];if(!_.isLogin())return o(!1),void _.openLogin();t&&(t.follow?s(w):c(w))}));var b;_.addOpenLoginCallback(function(){b=0}),_.addLoginCallback(function(){var t=h[x];b&&b(),t&&r(t)}),_.addLogoutCallback(function(){var t=h[x];t&&(t.follow=!1,d(t))}),t.exports={add:c,check:r,remove:s,onChanged:l,getParam:i}},function(t,e){function n(){}t.exports=function(t,e,i){return"function"==typeof e&&(i=e,e={}),i=i||n,$.ajax({url:t,dataType:"jsonp",data:e,CSRF:!0,success:function(t){i(null,t)},error:function(t,e){i(e||"error")}})}},function(t,e,n){"use strict";var i=window.PageMessage,o=$("#video_scroll_wrap"),a=0,r=n(43),s=n(63),c=n(60),l=n(66),d=n(67),u=n(42),p={"pic-title":n(68),episode:n(69)};t.exports=c("c-video-list",{data:{topFixed:!1,followChecked:!1,isFollow:!1,hasNextPage:!0,curVid:VIDEO_INFO.vid,upPage:NaN,currentPage:0,moreRange:!1,showingMore:!1,currentRange:"",pageSize:30,showing:"",lastEpisode:{},isvip:!1},watch:{showing:function(t,e){var n=$(window),o=n.scrollTop();n.scrollTop(o+2),n.scrollTop(o),i.emit("video-list-showing-change",t,e)}},ready:function(){var t=this,e=COVER_INFO;a=$(this.$el).find(".list_item.current").outerHeight(),setTimeout(function(){var e=t.$data.currentPage;t.$set({curVid:t.$data.curVid||VIDEO_INFO.vid,moreRange:e>=3,currentRange:e>=3?$(t.$el).find(".__episode_items_more .item").eq(e-3).text():""}),t.scrollIntoView(t.$data.curVid||VIDEO_INFO.vid,!0)},50);var n=function(){e.column_id&&t.set({showing:"main"})},r=function(t,i){var o=t.vid;s.check(s.getParam(e,t)),n(),o!=this.$data.curVid&&(this.$set("curVid",o),this.scrollIntoView(o,!this.clickChanged),this.clickChanged=!1)}.bind(this);if(i.wait("vidChanged",function(){i.on("vidChanged",r),r.apply(this,arguments)}),COVER_INFO.vipPage&&txv.login.addReadyCallback(function(){txv.vip.getVipInfo().always(function(e){t.$set("isvip",!(!e||!e.vip)),t.vipWatch()&&t.switchPage(t.$data.currentPage)})}),s.onChanged(function(n){var i;i=1==n.type?VIDEO_INFO.vid:2==n.type?e&&e.cover_id:e&&e.column_id,n.id==i&&t.$set({isFollow:n.follow,followChecked:!0})}),$("html").hasClass("lte_ie9")){var c=function(){var e=$(t.$el);e.find(".scroll_wrap").css({height:e.height()-e.find(".scroll_top").height()})};c(),$(window).resize(function(){c()})}-1!=[2,3,106].indexOf(e.type)&&-1==e.category_map.indexOf("正片")&&(o.scroll(function(){if(0==o.scrollTop())return void t.loadPage(!1)}),setTimeout(function(){if(0==o.scrollTop())return void t.loadPage(!1)},200)),-1!=["6cl5pzyr6cqcx0u","t6udtxyvbhbbxv2"].indexOf(e.cover_id)&&this.$data.isvip&&(e.nomal_ids.forEach(function(t){$("#"+t.V).hide()}),e.vip_ids.forEach(function(t){$("#"+t.V).show()}))},methods:{changeToVideo:function(t,e){var n=$(this.$el).find("#"+t).children("a");PLAYER&&"function"==typeof PLAYER.setOuterReportData&&PLAYER.setOuterReportData(n.attr("target")),e&&e.preventDefault&&e.preventDefault(),e.returnValue=!1,t!=this.$data.curVid&&(this.clickChanged=!0,playJSBridge.changeVid(t))},changeAndTop:function(t,e){this.changeToVideo(t,e),this.topClick()},scrollIntoView:function(t,e){var n,i=COVER_INFO,a=this;n=2==i.type&&-1!=i.category_map.indexOf("正片")?i.clips_ids.indexOf(t):i.video_ids.concat(i.clips_ids).indexOf(t);var r;if(-1!=n||2!=i.type){if(r=Math.floor(n/this.$data.pageSize),(3==i.type||106==i.type)&&n<i.video_ids.length&&r!=this.$data.currentPage)return void this.switchPage(r,function(i){if(i.success){var a=o.offset(),r=$("#"+t);if(r.is(":visible")){var s=r.offset();e&&n>-1&&o.scrollTop(o.scrollTop()+s.top-a.top-200)}}});var s=o.offset(),c=$("#"+t);if(c.is(":visible")){var l=c.offset();e&&n>-1&&o.scrollTop(o.scrollTop()+l.top-s.top-200)}else!c.length&&-1!=n&&n<i.video_ids.length&&this.loadHotPage(!0,function(){a.scrollIntoView(t,e)})}else{var d=this.$data.isvip?i.vip_ids:i.nomal_ids;n=d.map(function(t){return t.V}).indexOf(t),r=Math.floor((d[n].E-1)/this.$data.pageSize),r!=this.$data.currentPage&&this.switchPage(r)}},switchPage:function(t,e){t=+t;var n=$(this.$el).find("[data-tpl]"),i=$(this.$el).find("._page_list"),o=this,a=o.vipWatch()?COVER_INFO.vip_ids:COVER_INFO.nomal_ids,s=t*o.$data.pageSize,c=Math.min((t+1)*o.$data.pageSize,a.length);window.ListInfo.get(a.filter(function(t){return t.E>s&&t.E<=c}).map(function(t){return t.V}),function(d,f){if(!d&&f){i.html(r(o,l,{cover:u.extend({},COVER_INFO,{videolist:{list:f,size:o.$data.pageSize,page:t,max:a.map(function(t){return t.E}).reduce(function(t,e){return Math.max(t,e)})}}),lastEpisode:o.$data.lastEpisode,QUERY:{}}));var v=p[n.data("tpl")];n.html(r(o,v,{cover:COVER_INFO,list:f,QUERY:{}})),o.$set({currentPage:t,currentRange:s+1+"-"+c,moreRange:t>=3,showingMore:!1}),"function"==typeof e&&e({success:!0}),txv.Boss&&txv.Boss.wind()}else"function"==typeof e&&e({success:!1})})},loadPage:function(t){this.loadData(t,"#_pic_title_list_ul")},loadHotPage:function(t,e){this.loadData(t,"._hot_wrapper",e)},loadData:u.lock(function(t,e,n,i){isNaN(this.$data.upPage)&&(this.$data.upPage=this.$data.currentPage);var s=this,c=e?+this.$data.currentPage+1:this.$data.upPage-1;if(c<0)return t(),void("function"==typeof i&&i());var l=$(this.$el).find(n);if(!l.length)return t(),void("function"==typeof i&&i());var u=this.$data.isvip&&-1!=[2,3,106].indexOf(COVER_INFO.type)?COVER_INFO.vip_ids:COVER_INFO.nomal_ids,p=c*this.$data.pageSize,f=Math.min((c+1)*s.$data.pageSize,u.length);window.ListInfo.get(u.filter(function(t){return t.E>p&&t.E<=f}).map(function(t){return t.V}),function(n,u){if(!n&&u){var p=r(s,d,{cover:COVER_INFO,list:u,QUERY:{}});e?(u.length<s.$data.pageSize&&s.$set("hasNextPage",!1),l.append(p),s.$set("currentPage",c)):(l.prepend(p),o.scrollTop(o.scrollTop()+a*u.length),s.$set("upPage",c))}t(),"function"==typeof i&&i()})}),switchShow:function(t){this.set({showing:t}),txv.Boss&&txv.Boss.wind()},follow:function(){var t=this,e=t.$data,n=COVER_INFO;if(e.followChecked){var i=s.getParam(n,VIDEO_INFO);e.isFollow?s.remove(i,function(e){e&&t.$set({isFollow:!1})}):s.add(i,function(e){e&&t.$set({isFollow:!0})})}},dClick:function(){var t=this;if(t.dHandle)return void(++t.dCount>1&&o.scrollTop(0));t.dCount=1,t.dHandle=setTimeout(function(){t.dCount=0,t.dHandle=0},1e3)},onScroll:function(){this.$set({topFixed:o.scrollTop()>100})},topClick:function(){"main"==this.$data.showing&&o.scrollTop(0)},toggleMore:function(){this.$set({showingMore:!this.$data.showingMore})},vipWatch:function(){return this.$data.isvip&&-1!=[2,3,106].indexOf(COVER_INFO.type)&&-1!=COVER_INFO.category_map.indexOf("正片")}}})},function(module,exports){module.exports=function(d){with(d)return(function(){if(cover.videolist.max>cover.videolist.size)return'\n    <div class="episode_filter_items __episode_items">\n        '+function(){for(var t=0,e=cover.videolist.max,n=cover.videolist.size,i=lastEpisode.episode,o="";t<3&&!(t*n>=e);){var a=t*n+1,r=a+n-1>e?i||e:a+n-1;o+='<a href="javascript:" class="item'+(cover.videolist.page==t?" current":"")+'" r-class="{current: '+t+' == currentPage}" r-on="{click: switchPage.bind(null, '+t+')}" _stat="videolist:pagetab">'+a+"-"+r+"</a>",t++}return o}()+"\n\n        "+(function(){return cover.videolist.max>4*cover.videolist.size?'\n        <a href="javascript:" class="item_more" r-on="{click:toggleMore}" r-class="{current: moreRange}">\n        <span class="icon_text">\n        '+function(){var t=cover.videolist.page,e=cover.videolist.size,n=cover.videolist.max,i=lastEpisode.episode,o=(+t+1)*e>n?i||n:(+t+1)*e;return t>2?t*e+1+"-"+o:"更多剧集"}()+'</span>\n        <i class="icon_xs arrow_down_xs"><svg class="svg_icon svg_icon_arrow_down_xs" viewBox="0 0 10 10" width="10" height="10"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_arrow_down_xs"></use></svg></i>\n        </a>\n        ':cover.videolist.max>3*cover.videolist.size?'\n        <a href="javascript:" class="item" r-class="{current: currentRange == \''+(3*cover.videolist.size+1)+"-"+cover.videolist.max+'\'}" r-on="{click:switchPage.bind(null, 3)}">\n        '+(3*cover.videolist.size+1)+"-"+cover.video_ids.length+"</a>\n        ":void 0}()||"")+"\n    </div>\n    "+(function(){if(cover.video_ids.length>3*cover.videolist.size)return'\n    <div class="episode_filter_panel none __episode_items_more" r-class="{none: !showingMore}">\n        '+function(){for(var t=cover.videolist.size,e=cover.videolist.max,n=lastEpisode.episode,i=Math.floor((e-1)/t),o="",a=3;a<=i;a++)o+='<a href="javascript:" \n                class="item" \n                r-class="{current: currentRange == \''+(a*t+1)+"-"+Math.min((a+1)*t,e)+'\'}" \n                r-on="{click:switchPage.bind(null,'+a+')}" \n                _stat="videolist:pagetab">'+(a*t+1)+"-"+((a+1)*t>e?n||e:(a+1)*t)+"</a>";return o}()+"\n    </div>\n    "}()||"")+"\n"}()||"")+"\n"}},function(module,exports){module.exports=function(d){with(d)return""+(function(year,areaName){return"\n"+(list||[]).map(function(v,i){return'\n<li __wind class="list_item'+(v.vid==QUERY.vid?" current":"")+'" id="'+v.vid+'"\n    r-class="{current: curVid == \''+v.vid+'\'}" tl="'+v.duration+'"\n    data-title="'+v.title+'">\n    <a href="'+_.playUrl(cover.cover_id,v.vid)+'" class="figure"\n        r-on="{click: changeToVideo.bind(null,\''+v.vid+'\')}">\n        <img class="figure_pic"\n                onerror="picerr(this,\'h\');"\n                _stat="videolist:click"\n                src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png"\n                r-lazyload="'+_.imgUrl(v.pic160x90)+'"\n                alt="'+v.title+'"/>\n        <div class="figure_count">\n            <span class="num">'+_.showTime(v.duration,v.duration>3600)+'</span>\n        </div>\n        \x3c!--[if lte IE 7 ]><span class="fix_cover"></span><![endif]--\x3e\n        '+function($value){with($value)return""+(function(){if(+video.drm&&(+cover.payfree_num||-1==[2,3,106].indexOf(cover.type)))return"\n  "+_.payStatusCorner(cover.pay_status,video.drm)+"\n"}()||"")}({video:v})+'\n    </a>\n    <a class="figure_detail" href="'+_.playUrl(v.vid)+'" r-on="{click: changeToVideo.bind(null,\''+v.vid+'\')}"\n        _stat="videolist:click"\n        target="_blank" title="'+_(v.title)+'">\n        <div class="figure_detail_three_row">\n            <strong class="figure_title">\n                '+_(v.title)+"\n            </strong>\n            "+(function(){if(2!=cover.type&&23!=cover.type)return'\n            <div class="figure_desc">\n                '+(function(){if(year)return" "+year+" "}()||"")+" "+(function(){if(areaName)return" "+areaName+" "}()||"")+"\n            </div>\n            "}()||"")+"\n        </div>\n        \n        \n        "+(function(){if(1==cover.type)return'\n            <div class="figure_num">\n                <i class="icon_xs triangle_next_xs">'+_.playnumIcon()+'</i><span class="num">'+_.formatNum(v.view_all_count)+"</span>\n            </div>\n        "}()||"")+"\n    </a>\n</li>\n"}).join("")+"\n"}(cover.year,_(cover.area_name))||"")}},function(module,exports){module.exports=function(d){with(d)return'<ul class="figure_list" id="_pic_title_list_ul">\n    '+(function(year,areaName){return"\n"+(list||[]).map(function(v,i){return'\n<li __wind class="list_item'+(v.vid==QUERY.vid?" current":"")+'" id="'+v.vid+'"\n    r-class="{current: curVid == \''+v.vid+'\'}" tl="'+v.duration+'"\n    data-title="'+v.title+'">\n    <a href="'+_.playUrl(cover.cover_id,v.vid)+'" class="figure"\n        r-on="{click: changeToVideo.bind(null,\''+v.vid+'\')}">\n        <img class="figure_pic"\n                onerror="picerr(this,\'h\');"\n                _stat="videolist:click"\n                src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png"\n                r-lazyload="'+_.imgUrl(v.pic160x90)+'"\n                alt="'+v.title+'"/>\n        <div class="figure_count">\n            <span class="num">'+_.showTime(v.duration,v.duration>3600)+'</span>\n        </div>\n        \x3c!--[if lte IE 7 ]><span class="fix_cover"></span><![endif]--\x3e\n        '+function($value){with($value)return""+(function(){if(+video.drm&&(+cover.payfree_num||-1==[2,3,106].indexOf(cover.type)))return"\n  "+_.payStatusCorner(cover.pay_status,video.drm)+"\n"}()||"")}({video:v})+'\n    </a>\n    <a class="figure_detail" href="'+_.playUrl(v.vid)+'" r-on="{click: changeToVideo.bind(null,\''+v.vid+'\')}"\n        _stat="videolist:click"\n        target="_blank" title="'+_(v.title)+'">\n        <div class="figure_detail_three_row">\n            <strong class="figure_title">\n                '+_(v.title)+"\n            </strong>\n            "+(function(){if(2!=cover.type&&23!=cover.type)return'\n            <div class="figure_desc">\n                '+(function(){if(year)return" "+year+" "}()||"")+" "+(function(){if(areaName)return" "+areaName+" "}()||"")+"\n            </div>\n            "}()||"")+"\n        </div>\n        \n        \n        "+(function(){if(1==cover.type)return'\n            <div class="figure_num">\n                <i class="icon_xs triangle_next_xs">'+_.playnumIcon()+'</i><span class="num">'+_.formatNum(v.view_all_count)+"</span>\n            </div>\n        "}()||"")+"\n    </a>\n</li>\n"}).join("")+"\n"}(cover.year,_(cover.area_name))||"")+"\n</ul>\n"}},function(module,exports){module.exports=function(d){with(d)return(list||[]).map(function(t,e){return"\n"+(function(e){return"\n"+(function(){return"episode"==e.style?"\n<span __wind\n        r-class=\"{current: curVid == '"+t.vid+'\'}"\n        _stat="videolist:click"\n        class="'+(t.vid==QUERY.vid?"current ":"")+"item"+(+e.text>=1e3?" item_4w":"")+'"\n        id="'+t.vid+'">\n    '+_.tvCorner(t,cover)+'<a href="'+_.playUrl(cover.cover_id,t.vid)+'" _stat="videolist:click" r-on="{click: changeToVideo.bind(null,\''+t.vid+"')}\">\n        "+e.text+"\n    </a>\n</span>\n":"\n<span __wind\n        r-class=\"{current: curVid == '"+t.vid+'\'}"\n        _stat="videolist:click"\n        class="'+(t.vid==QUERY.vid?"current ":"")+(function(){return"autotitle"==e.style?"item_auto":"item_detail_half"}()||"")+'"\n        id="'+t.vid+'">\n    '+_.tvCorner(t,cover)+'<a href="'+_.playUrl(cover.cover_id,t.vid)+'" _stat="videolist:click" r-on="{click: changeToVideo.bind(null,\''+t.vid+'\')}" title="'+e.text+'">\n        '+e.text+"\n    </a>\n</span>\n"}()||"")+"\n"}(_.listStyleListTitle(t,cover))||"")+"\n"}).join("")+"\n"}},function(t,e,n){"use strict";var i=window.PageMessage,o=n(60),a=n(26)(1032),r=n(52);t.exports=o("c-video-list-video",{data:{currentVid:VIDEO_INFO.vid},ready:function(){var t=function(t,e){var n=t.vid,i=this;if(!t.cover_list||!t.cover_list.length)return void i.$set("currentVid",n);a(t.cover_list,function(t,e){if(!t){if(e.length)for(var o=0,a=e.length;o<a;o++)if(e[o].column_id>0&&r.copyrightCover(e[o]))return void window.location.assign(r.playUrl(e[o].cover_id,n));i.$set("currentVid",n)}})}.bind(this);i.wait("vidChanged",function(){i.on("vidChanged",t),t.apply(this,arguments)})},methods:{changeToVideo:function(t,e){var n=$(this.$el).find("[data="+t+"]").children("a");PLAYER&&"function"==typeof PLAYER.setOuterReportData&&PLAYER.setOuterReportData(n.attr("target")),e&&e.preventDefault&&e.preventDefault(),e.returnValue=!1,t!=this.$data.currentVid&&playJSBridge.changeVid(t)}}})},function(t,e,n){function i(){return o||(o=$("#video_scroll_wrap")),o}var o,a=(window.PageMsg,n(42)),r=n(27),s=n(43),c=n(72),l={variety:n(73),normal:n(74)},d=0;t.exports=Reve.component("c-column",{data:function(){return{typeid:COVER_INFO.type,columnid:COVER_INFO.column_id,coverid:COVER_INFO.cover_id,hasNext:!0,hasPrev:!0,top:0,bottom:0}},ready:function(){var t=this,e=$(t.$el);t.toCurrent(),i().scroll(function(){if("column"==t.$data.showing&&(t.$data.hasNext||t.$data.hasPrev)){if(this.scrollTop<100)return void t.loadPrev()}}),$(t.$el).height()<i().height()&&t.loadPrev(),d=e.find(".list_item.current").outerHeight()},methods:{toCurrent:function(){var t=this,e=$(t.$el);if(e.is(":visible")){o=i();var n=o.offset();o.scrollTop(o.scrollTop()+e.find(".list_item.current").offset().top-n.top-200)}},loadNext:a.lock(function(t){this.requestMoreData(!1,t)}),loadPrev:a.lock(function(t){this.requestMoreData(!0,t)}),requestMoreData:function(t,e){var n=this,o=t?"hasPrev":"hasNext",a=t?n.$data.top:n.$data.bottom;a<0||$.ajax({url:c.url,data:{lid:n.$data.columnid,pagesize:c.cliP,offset:a},dataType:"jsonp",timeout:1e4}).done(function(u){var p=r(u,"jsonvalue.results");if(!p||!p.length)return void n.$set(o,!1);p.length<c.cliP&&n.$set(o,!1);var f=p.length;t?n.$data.top=a-f:n.$data.bottom=a+f;var v=$(n.$el).find("[data-tpl]"),_=l[v.data("tpl")],h=s(n,_,{list:p.map(function(t){return t.fields}),cover:{cover_id:COVER_INFO.cover_id,column:COLUMN_INFO}});if(t){var m=i();v.prepend(h),m.scrollTop(m.scrollTop()+d*p.length)}else v.append(h);e()}).fail(function(t){n.$data[o]=!1})},moveToHref:function(t,e){e&&e.preventDefault&&e.preventDefault(),e.returnValue=!1,location.href=t}}})},function(t,e){t.exports={url:"//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&novalue=1&nounion=0&platform=1&version=10000&intfname=web_integrated_lid_list&tid=543&appkey=ebe7ee92f568e876&appid=20001174&sourceid=10001&listappid=10385&listappkey=10385&playright=2&sourcetype=1&cidorder=1&locate_type=0",serP:20,cliP:10}},function(module,exports){module.exports=function(d){with(d)return""+(function(t){return"\n"+(list||[]).map(function(e,n){return"\n  "+(function(n,i){return'\n    <li __wind class="list_item'+(cover.cover_id==e.cover_id?" current":"")+'">\n      <a href="'+_.playUrl(e.cover_id)+'"\n        _stat="video-list-column:click"\n        class="figure"\n        title="'+n+'"\n        r-on="{click: moveToHref.bind(null, \''+_.playUrl(e.cover_id)+'\')}">\n        <img onerror="picerr(this,\'h\');"\n            class="figure_pic"\n            src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png"\n            r-lazyload="'+_.coverPicSize(e.new_pic_hz,175)+'"\n            alt="'+n+'"/>\n        \x3c!--[if lte IE 7 ]><span class="fix_cover"></span><![endif]--\x3e\n        '+_.coverCorner(e.web20_imgtag,[2])+"\n        "+(function(){if(e.publish_date)return'\n        <div class="figure_count"><span class="num">'+e.publish_date+" 期</span></div>\n        "}()||"")+'\n      </a>\n\n      <a class="figure_detail"\n        href="'+_.playUrl(e.cover_id)+'"\n        _stat="video-list-column:click"\n        title="'+n+" "+i+'"\n        r-on="{click: moveToHref.bind(null, \''+_.playUrl(e.cover_id)+'\')}">\n        <div class="figure_detail_two_row">\n          <strong class="figure_title">\n            '+n+"\n          </strong>\n          "+(function(){if(t&&i)return'\n          <div class="figure_desc">\n          '+i+"\n          </div>\n          "}()||"")+'\n        </div>\n        <div class="figure_num">\n          <i class="icon_xs triangle_next_xs">'+_.playnumIcon()+'</i><span class="num">'+_.formatNum(e.view_all_count)+"</span>\n        </div>\n      </a>\n\n    </li>\n    "}(_(t?e.title:e.c_second_title||e.title),_(e.c_second_title))||"")+"\n  "}).join("")+"\n"}(cover.column&&1562294==cover.column.playpage_style_id)||"")}},function(module,exports){module.exports=function(d){with(d)return""+(list||[]).map(function(t,e){return""+(function(e){return'\n    <li __wind class="list_item'+(cover.cover_id==t.cover_id?" current":"")+'">\n      <a href="'+_.playUrl(t.cover_id)+'"\n        _stat="video-list-column:click"\n        class="figure"\n        title="'+e+'"\n        r-on="{click: moveToHref.bind(null, \''+_.playUrl(t.cover_id)+'\')}">\n        <img onerror="picerr(this,\'h\'); "\n              class="figure_pic"\n              src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png"\n              r-lazyload="'+_.coverPicSize(t.new_pic_hz,175)+'"\n              alt="'+e+'"/>\n        \x3c!--[if lte IE 7 ]><span class="fix_cover"></span><![endif]--\x3e\n        '+_.coverCorner(t.web20_imgtag,[2])+'\n      </a>\n      <a class="figure_detail"\n        href="'+_.playUrl(t.cover_id)+'"\n        _stat="video-list-column:click"\n        title="'+e+'"\n        r-on="{click: moveToHref.bind(null, \''+_.playUrl(t.cover_id)+'\')}">\n        <div class="figure_detail_two_row">\n          <strong class="figure_title">\n            '+e+'\n          </strong>\n        </div>\n        <div class="figure_num">\n          <i class="icon_xs triangle_next_xs">'+_.playnumIcon()+'</i><span class="num">'+_.formatNum(t.view_all_count)+"</span>\n        </div>\n      </a>\n    </li>"}(_(t.title))||"")}).join("")}},function(t,e,n){var i=window.PageMessage,o=n(72),a=n(76),r=n(43);t.exports=Reve.component("c-relative-column",{data:function(){return{showing:"",loading:!0,pageOffset:0,status:0}},ready:function(){var t=this;this.$data.relative_column_id=this.$data.relative_column_id&&this.$data.relative_column_id.split(","),i.waitandon("video-list-showing-change",function(e,n){n!=e&&"relative"==e&&t.requestData()})},methods:{requestData:function(){function t(t){if(!t||!t.length)return void n.html('<li class="list_item">产品还没有给我兜底文案</li>');n.append(r(e,a,{list:t}))}if(this.$data.relative_column_id&&2!=this.$data.status){var e=this,n=$(e.$el).find("._rela_figure_list");this.$data.relative_column_id.length>1?this.requestLotsData(t):this.requestOneData(t)}},requestOneData:function(t){var e=this;$.ajax({url:o.url,data:{lid:this.$data.relative_column_id[0],pagesize:o.cliP,offset:this.$data.pageOffset},dataType:"jsonp",timeout:1e4}).done(function(n){if(e.$set({loading:!1,pageOffset:e.$data.pageOffset+o.cliP}),0!=n.ret||0==n.total||!n.jsonvalue||!n.jsonvalue.results||!n.jsonvalue.results[0])return 0===e.$data.status&&t([]),void e.$set("status",2);e.$set("status",n.total>e.$data.pageOffset?1:2),t(n.jsonvalue.results.filter(function(t){return 0===t.retcode}).map(function(t){return t.fields}))}).fail(function(n){t([]),e.$set("loading",!1)})},requestLotsData:function(t){if(2!=this.$data.status){var e=this;$.ajax({url:"//node.video.qq.com/x/api/rela_column_cover",data:{lid:this.$data.relative_column_id.join(",")},dataType:"jsonp",timeout:1e4}).done(function(n){if(e.$set({status:2,loading:!1}),!n.union2003||!n.union2003.length)return void t([]);t(n.union2003.filter(function(t){return 0==t.retcode}).map(function(t){return t.jsonData}))}).fail(function(n){t([]),e.$set({loading:!1,status:2})})}},moveToHref:function(t,e){e&&e.preventDefault&&e.preventDefault(),e.returnValue=!1,location.href=t}}})},function(module,exports){module.exports=function(d){with(d)return""+(function(t){return" "+(list||[]).map(function(t,e){return" "+(function(e,n){return'\n<li __wind class="list_item">\n    <a href="'+_.playUrl(t.cover_id)+'" _stat="video-list-rela-column:click" class="figure" title="'+e+'" r-on="{click: moveToHref.bind(null, \''+_.playUrl(t.cover_id)+'\')}">\n        <img onerror="picerr(this,\'h\');" class="figure_pic" src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png" r-lazyload="'+_.coverPicSize(t.new_pic_hz,175)+'"\n            alt="'+e+'" />\n        \x3c!--[if lte IE 7 ]><span class="fix_cover"></span><![endif]--\x3e\n        '+_.coverCorner(t.web20_imgtag,[2])+" "+(function(){if(t.publish_date)return'\n        <div class="figure_count">\n            <span class="num">'+t.publish_date+" 期</span>\n        </div>\n        "}()||"")+'\n    </a>\n\n    <a class="figure_detail" href="'+_.playUrl(t.cover_id)+'" _stat="video-list-rela-column:click" title="'+e+" "+n+'"\n        r-on="{click: moveToHref.bind(null, \''+_.playUrl(t.cover_id)+'\')}">\n        <div class="figure_detail_two_row">\n            <strong class="figure_title">\n                '+e+"\n            </strong>\n            "+(function(){if(n)return'\n            <div class="figure_desc">\n                '+n+"\n            </div>\n            "}()||"")+'\n        </div>\n        <div class="figure_num">\n            <i class="icon_xs triangle_next_xs">'+_.playnumIcon()+'</i>\n            <span class="num">'+_.formatNum(t.view_all_count)+"</span>\n        </div>\n    </a>\n\n</li>\n"}(_(t.title),_(t.c_second_title))||"")+" "}).join("")+" "}()||"")}},function(t,e,n){var i=n(60),o=window.PageMessage,a=n(32),r=(COVER_INFO,VIDEO_INFO),s={data:function(){return{sidetab:"list",hideTab:!0,isFlash:!0,helperOpen:!1,hideFloatLayout:!1}},ready:function(){var t=this;o.on("tvp-playing",function(){"flash"!=PLAYER.getPlayerType()&&t.$set("isFlash",!1),t.$set("hideFloatLayout",!1)}),o.on("tvp-playend",function(){t.$set("hideFloatLayout",!0)});var e=null;o.on("activeTab",function(n,i){10==n?(e=t.$data.sidetab,i&&(t.$set("sidetab","active"),a.event("active")),t.$set("hideTab",!1)):-1==n?t.$set({sidetab:"list",hideTab:!0}):-2==n&&("active"==e&&a.event("active"),t.$set("sidetab",e))}),o.on("playerHelper",function(e){t.$set("helperOpen",e)})},methods:{switchTab:function(t){"active"==t&&"active"!=this.$data.sidetab&&a.event("active"),this.$set("sidetab",t)},showHelper:function(){var t=$(this.$el).find("._player_helper")[0].getBoundingClientRect();o.emit("playerHelper",!0,t)},hack:function(t){var e=this;t?e.hackId=setTimeout(function(){e.showHelper()},100):clearTimeout(e.hackId)}}};Reve.component("c-player-wrapper",s);var c=function(t,e){o.emit("vlist-expand",t,e)},l={data:function(){return $.extend(s.data.call(this),{wide:!1,playerWide:!1,canListClose:!1})},watch:{playerWide:function(t){this.$data.canListClose&&c(t);var e=$("#tenvideo_player");setTimeout(function(){PLAYER.callPlayerExtendMethod("resize",{width:e.width(),height:e.height()})},500)},canListClose:function(t){var e,n=this;e=!!t&&n.$data.playerWide,c(e)}},ready:function(){var t=this,e=function(){t.started=!0,$(t.$el).find(".player_side_bd").one("mousemove",function(){t.enterSide()}),t.autoCloseSide()},n=function(e){var n=e.category_map||[];t.started=!1,-1!=n.indexOf("正片")?t.set({canListClose:!0,playerWide:!1}):t.set({canListClose:!1,playerWide:!1})};s.ready.call(t),o.on("vlist-expand",function(e){t.$set("wide",e)}),o.on("activeTab",function(e,n){10==e&&n&&t.set({playerWide:!1})}),n(r),o.wait("tvp-playing",function(){o.on("tvp-playing",e),e.apply(this,arguments)}),o.wait("vidChanged",function(){o.on("vidChanged",n),n.apply(this,arguments)});var i=function(e){t.forceCancel=e,t.cancelCloseSide()}
;o.wait("vip-open-button",function(){o.on("vip-open-button",i),i.apply(this,arguments)});var a=function(){var e=$(window).height(),n=$(t.$el);n.find(".mod_player_section").css({"max-height":e-113}),n.find(".mod_player, .txp_player").css({"max-height":e-163})};$("html").hasClass("lte_ie8")&&(a(),$(window).resize(function(){a()}));var l=c,d={wide:!1,enable:function(){l(!1,!0),c=function(t){}},disable:function(){c=l,l(d.wide)}},u=function(t){t?d.enable():d.disable()};o.on("vlist-expand",function(e,n){n||(d.wide=e,t.set({playerWide:e}))}),o.wait("tvp-browfullscreen",function(){o.on("tvp-browfullscreen",u),u.apply(this,arguments)})},methods:{switchList:function(){PLAYER.callPlayerExtendMethod("beforeResize");var t=this,e=!t.$data.playerWide;t.userWide=e,t.set({playerWide:e})},enterSide:function(){this.cancelCloseSide()},leaveSide:function(){var t=this;t.started&&(t.cancelCloseSide(),t.autoCloseSide())},autoCloseSide:function(){var t=this;t.forceCancel||1!=COVER_INFO.type||(t.closeHandle=setTimeout(function(){var e="boolean"!=typeof t.userWide||t.userWide;t.set({playerWide:e})},5e3))},cancelCloseSide:function(){var t=this,e=t.closeHandle;e&&(clearTimeout(e),t.closeHandle=0)}}};$.extend(l.methods,s.methods),i("c-player-wrapper-wide",l)},function(t,e,n){"use strict";var i=!1,o=window.PageMessage,a=n(79);n(80),n(81),n(82);var r=n(84),s=n(117),c=n(56),l=n(42);o.wait("tvp-ready",function(t){i||setTimeout(function(){txv.common.initPage({tj2:{forbidden:!0},playPageFlag:!0,needWinSafariHack:!0})},100),a.reportPV(),i=!0,setTimeout(function(){n(118)},200),r(window.PageMessage,t),window.playJSBridge.VIPTips(s),t&&t.showPcClientPop&&c.exist().done(function(e){if(e){var n=!1;n=+e>0?l.verCompare("50170814",e+"")>=0:l.verCompare("10.2.361.0",e)>=0,t.showPcClientPop(n)}}).fail(function(){t.showPcClientPop(!0)})}),o.wait("vidChanged",function(t){a.reportPV(t.vid),o.on("vidChanged",function(t){a.reportPV(t.vid)})})},function(t,e){var n={getUrlParam:function(t,e){e=e||location.href;var n,i=new RegExp("[?&#]"+t+"=([^&#]+)","gi"),o=e.match(i);return o&&o.length>0?(n=o[o.length-1].split("="),n&&n.length>1?n[1]:""):""},addUrlParam:function(t,e){e=e||document.URL;var i=e+"?";e.indexOf("?")>-1&&(i=e+"&");for(var o in t)if(n.getUrlParam(o,i)){var a=new RegExp("([?&#]"+o+"=)([^&#]+)(.*?)","i");i=i.replace(a,"$1"+t[o]+"$3")}else i=i+o+"="+t[o]+"&";var r=i.length,s=i.charAt(r-1);return"?"!=s&&"&"!=s||(i=i.substring(0,r-1)),i},getVidFromUrl:function(t){t=t||document.URL||document.location.href;var e,i=n.getUrlParam("vid",t);return i||(e=t.match(/\/\w{15}\/(\w+)\.html/))&&(i=e[1]),i||((e=t.match(/\/page\/(\w+)\.html/))?i=e[1]:(e=t.match(/\/(page|play)\/+(\w{11})\.html/))&&(i=e[2])),i||(e=t.match(/\/boke\/gplay\/\w+_\w+_(\w+)\.html/))&&(i=e[1]),/^[a-zA-Z0-9]+$/.test(i)?encodeURIComponent(i):""},getDefaultVid:function(){var t=this.getVidFromUrl();if(VIDEO_INFO)t=VIDEO_INFO.sv||VIDEO_INFO.vid;else{var e=$("#mod_videolist").find("li"),n=e.eq(0);1==n.length&&(t=n.attr("sv")||n.attr("id")||"")}return t},getCurUrl:function(){return document.URL||document.location.href},reportPV:function(t){var e="",i=n.getCurUrl(),o=t||this.getVidFromUrl();e=COVER_INFO.cover_id?"/x"+(i.indexOf("/prev/")>0?"/prev/":"/cover/")+COVER_INFO.cover_id+"/"+(o||"index")+".html":i.replace("http://v.qq.com","").replace("https://v.qq.com",""),txv.tj2.pv({virtualURL:e}),txv.tj2.virtualpv(["cover/",COVER_INFO.type,".html"].join(""))}};t.exports=n},function(t,e,n){var i=n(79);window.PageMessage;window.onpopstate=function(t){if(t&&t.state){var e=i.getVidFromUrl(document.URL||document.location.href)||VIDEO_INFO.vid;t.state.title&&(document.title=t.state.title),playJSBridge&&playJSBridge.changeVid(e)}}},function(t,e,n){function i(t){return t?String(t).replace(/\&amp;/,"&").replace(/\&lt;/,"<").replace(/\&gt;/,">").replace(/\&#39;/,"'").replace(/\&quot;/,'"'):""}var o,a=window.PageMessage,r=n(52),s=[],c=!1,l="function"==typeof history.pushState;l?(a.on("tvp-winfullscreen",function(t){!(c=!!t)&&s.length&&(history.pushState.apply(history,s),document.title=i(s[0].title),s=[])}),o=function(t){var e=t.title||document.title,n=t.link+(location.href.split("?")[1]?"?"+location.href.split("?")[1]:"");c?s=[{title:e||document.title},"",n]:(history.pushState({title:e||document.title},"",n),document.title=i(e))}):o=function(t){document.title=i(t.title||document.title)};var d=function(t){o({title:r.listStyleTitle(t,COVER_INFO),link:r.playUrl(COVER_INFO.cover_id,t.vid)})};a.wait("vidChanged",function(){location.href.match("/x/cover|/x/page")&&(d.apply(this,arguments),a.on("vidChanged",d))})},function(t,e,n){var i=window.PageMessage;n(83);var o=n(32),a=!1,r=!0,s=!1,c=!1,l=!1,d={isShowing:!1,leftOnShow:null,topOnSshow:null},u={db_key_mini_player_close:"mini_play_close"},p="";i.on("tvp-winfullscreen",function(t){a=!!t}),i.on("tvp-playing",function(){s=!1,l=!1}),i.on("tvp-error",function(){l=!0});var f={isBrowserSupport:function(){if(txv.ua.ie<9||txv.ua.isiPad)return!1;if(-1==document.URL.indexOf("//v.qq.com/x/")&&!txv.util.getUrlParam("debug"))return!1;try{return localStorage.setItem("test","1"),"1"==localStorage.getItem("test")&&(localStorage.removeItem("test"),!0)}catch(t){return!1}},shouldShowScrollPlayer:function(){if(f.isNeverShow())return!1;var t=$(".mod_player_section"),e=t.offset().top+t.height(),n=$(window).scrollTop();return r||n<=e&&(r=!0),!l&&c&&r&&!a&&!f.isNeverShow()&&n>e},init:function(){if(f.isBrowserSupport()){i.wait("tvp-ready",function(){c=!0}),i.on("tvp-ready",function(){c=!0}),i.on("tvp-error",function(){l=!0}),i.wait("tvp-error",function(){l=!0}),i.on("tvp-adStart",function(){if(s=!0,f.shouldShowScrollPlayer()){$("#mod_player").addClass("mod_player_float_idle")}}),i.wait("tvp-adStart",function(){if(s=!0,f.shouldShowScrollPlayer()){$("#mod_player").addClass("mod_player_float_idle")}}),i.on("tvp-adEnd",function(){s=!1;$("#mod_player").removeClass("mod_player_float_idle")}),i.wait("tvp-adEnd",function(){s=!1;$("#mod_player").removeClass("mod_player_float_idle")}),$(window).scroll(function(){if(f.isNeverShow()&&f.addRecoverBtn(!0),s)return void(f.isInFirstView()&&f.hideScrollPlayer());f.shouldShowScrollPlayer()?f.showScrollPlayer():f.hideScrollPlayer()});var t=$("#mod_scrollplay_close"),e=$("#never_show"),n=$("#mod_scrollplay_toggle"),a=window.PLAYER;if(a){var d=function(){return!(a.getPlayerState&&2==a.getPlayerState())},p=function(t){t?n.addClass("status_pause"):n.removeClass("status_pause")};n.bind("click",function(){var t=PLAYER;if(t){var e=!d();p(e),e?(t.play(),o.click("miniplayer:play")):(t.pause(),o.click("miniplayer:pause"))}}),i.on("tvp-playing",function(){p(!0)}),i.on("tvp-paused",function(){p(!1)}),p(d())}t.off("click").on("click",function(){f.hideScrollPlayer(),r=!1,e.hasClass("checked")?(localStorage.setItem(u.db_key_mini_player_close,"1"),$("#recovery_mini_player").removeClass("none")):localStorage.setItem(u.db_key_mini_player_close,"0"),f.isNeverShow()&&f.addRecoverBtn(!0)}).on("mousedown",function(t){t.stopPropagation()}),e.click(function(){$(this).toggleClass("checked"),e.hasClass("checked")&&t.click()}),f.addRecoverBtn()}},isInFirstView:function(){var t=$(".container_player"),e=t.offset().top+t.height();return $(window).scrollTop()<=e},isNeverShow:function(){return 1==localStorage.getItem(u.db_key_mini_player_close)},showScrollPlayer:function(){d.isShowing||this.do_show()},hideScrollPlayer:function(){if(d.isShowing){d.isShowing=!1,this.setAtNormal();var t=$("#mod_player");d.lastLeft=t.css("left"),d.lastRight=t.css("right"),d.lastTop=t.css("top"),t.removeClass("mod_player_float"),p=t.get(0).style.cssText,t.get(0).style.cssText="",t.off("mousedown")}},addRecoverBtn:function(t){t&&!f.isInFirstView()?$("#recovery_mini_player").removeClass("none"):$("#recovery_mini_player").addClass("none");var e=$("#recovery_mini_player");e.length&&"1"!==e.attr("data-click")&&e.on("click",function(){r=!0,localStorage.setItem(u.db_key_mini_player_close,"0"),$(window).trigger("scroll"),e.addClass("none")}).attr("data-click","1")},setAtNormal:function(){i.emit("tvp-setSmallWindowMode",!1)},setAtSmall:function(){i.emit("tvp-setSmallWindowMode",!0)},do_show:function(){d.isShowing=!0,this.setAtSmall();var t=$("#mod_player");t.addClass("mod_player_float");var e={};if(d.lastTop&&"auto"!=d.lastTop&&(e.top=d.lastTop),d.lastLeft&&"auto"!=d.lastLeft)e.left=d.lastLeft;else{var n=$("._mini_player_position");n[0]&&(e.left=n[0].getBoundingClientRect().left-t.width()+"px")}d.lastRight&&"auto"!=d.lastRight&&(e.right=d.lastRight),t.css(e),t.dragable(),$(".l_qq_com a,.mod_float_box").each(function(){var t=$(this),e=t.css("z-index");isNaN(e)||(t.attr("_croll_play_index",e),t.css("z-index",1))})}};f.init()},function(t,e){!function(t){var e,n,i,o,a,r,s=!1,c=null,l=function(t){var e=0,n=0;if(!t)var t=window.event;return t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:n}},d=function(s){var d=l(s),u=d.x-e,p=d.y-n,f=o+u,v=i+p;f=f<=0?0:f>=a?a:f,v=v<=0?0:v>=r?r:v;var _=t("body").width()-c.width()-f;c.css("top",v),_<f?(c.css("right",_),c.css("left","auto")):(c.css("right","auto"),c.css("left",f))};t(document).mousemove(function(t){if(s)return d(t),!1}),t(document).mouseup(function(t){if(s)return s=!1,!1}),t.fn.dragable=function(u){this.css("cursor","move"),this.bind("mousedown",function(u){u=u||window.event;var p=/Edge/i.test(navigator.userAgent);if(txv.ua.ie||txv.ua.firefox||p?u.currentTarget:u.toElement){s=!0,c=t(this);var f=l(u);e=f.x,n=f.y,i=this.offsetTop,o=this.offsetLeft,a=t("body").width()-c.width(),r=t(window).height()-c.height(),d(u)}})}}($)},function(t,e,n){var i=n(85),o=(n(94),n(87)),a=n(97),r=n(99),s=n(103),c=n(106),l=n(107),d=n(86),u=n(108),p=!1,f=function(t,e){function n(){$(".tvip_layer").length>0||e&&(s(e),d.click(COVER_INFO.type+"_vip_skipad:showOpenVip"))}t.waitandon("tvp-skipad",n),t.on("tvp-playend",function(t){p&&u(),p=!1}),t.waitandon("tvp-showUIVipGuide",function(t){if(e)if(t.trialFinish)1==COVER_INFO.type&&"1306029"==VIDEO_INFO.try_time&&LIST_INFO.firstClipListVid?(window.PageMessage.emit("vidClick",VIDEO_INFO.vid,{playVid:LIST_INFO.firstClipListVid,nextVid:!1,trailerMode:1,showRecommendOnEnd:0}),p=!0):u();else if(t.switchDefinitionFail)c(e),d.click(COVER_INFO.type+"_vip_1080p:showOpenVip");else if(t.openvip)if("singlebuy"===txv.vip.playerTipsEvent)r();else if("useticket"===txv.vip.playerTipsEvent)a(null,!1);else if("traillayer"===txv.vip.playerTipsEvent)u(!1);else{!txv.login.isLogin()||"qq"==txv.login.getLoginType()&&txv.login.isLowLogin()?txv.login.openPayLogin({isLowLogin:txv.login.isLowLogin(),success:function(){txv.vip.getVipInfo().done(function(t){var e=t;e.vip||"qq"!=txv.login.getLoginType()?e.vip&&"wx"==txv.login.getLoginType()&&txv.login.bye_login():$.pay(options)})}}):function(){o.getOpenTips(function(t){l(!1,t)})}()}}),e.on("playerEmitCommonMsg",function(t){"accountBannedTip"===t.type&&("open_account"==t.data.name?i.show_layer():"change_account"==t.data.name?(txv.login.addLoginCallback(function(){window.location.reload()}),txv.login.openLogin()):window.open(t.data.url))})};t.exports=f},function(t,e,n){function i(){if(document.getElementById("ff_poptip"))return 1;var t="";t='<div class="mod_player_popbox mod_popup_v2" data-ptag="new_reactive" id="ff_poptip">',t+='\t<iframe frameborder="0" allowtransparency="true" class="iframe_wrap" id="frm_poptip" src="//film.qq.com/priv/newplayer_reactive.html" scrolling="no" style="width: 480px; height: 270px;"></iframe>',t+="</div>",$("body").append(t),a.showFixedWindow("#ff_poptip",480,270),$("#ff_poptip").off("close").on("close",function(){return o.click(r+"closeReactiveLayer"),$("#ff_poptip").remove(),txv.login.hideMask(),!1}),$("#frm_poptip").off("load").on("load",function(){txv.login.showMask()})}var o=n(86),a=n(87),r="vip_trialover:";t.exports={show_layer:i}},function(t,e,n){"use strict";function i(){return p||window.jQuery||window.$}function o(t,e){return f.hot([m,"event",t,e].join(".")),this}function a(t,e,n){return f.hot([m,"click",t,e,n].join(".")),this}function r(t){return f.hot([m,"pageview",t].join(".")),this}function s(t,e){return f.hot([m,"stat",t,e].join(".")),this}function c(t){return"array"!==v.type(t)?"":v.map(t,function(t){return v.map(t,function(t){return encodeURIComponent(t)}).join(",")}).join("|")}function l(t){return"string"!=typeof t?[]:v.map(t.split("|"),function(t){return v.map(t.split(","),function(t){return decodeURIComponent(t)})})}function d(t,e){switch(t){case"click":a.apply(this,e);break;case"pageview":r.apply(this,e);break;case"event":o.apply(this,e);break;case"stat":s.apply(this,e)}}function u(t){var e=Array.prototype.slice.call(arguments,1);if(_)try{var n=localStorage.getItem(g);try{n=l(n)}catch(i){}return"array"!==v.type(n)&&(n=[]),n.push([t].concat(e)),void localStorage.setItem(g,c(n))}catch(i){}d(t,e)}var p,f=n(33),v=n(42),_="localStorage"in window&&null!==window.localStorage,h="index",m="vplay",g=m+"_lazy_reports";t.exports={setPage:function(t){return h=t,this},setJQ:function(t){return p=t,this},bind2d:function(t,e,n){var o=i();return o(t).on("click","["+n+"]",function(t){for(var i,r=t.currentTarget,s=o(r).attr(n),c=10;c&&r&&!(i=o(r).attr(e));)c--,r=r.parentNode;i&&a(h,i,s)}),this},bind:function(t,e){var n=i();return n(t).on("click","["+e+"]",function(t){var i=t.currentTarget,o=n(i),r=o.attr(e);if("A"==i.tagName){var s=o.attr("href"),c=o.attr("target");if(!/^(javascript:|#)/.test(s)&&!c)return void u("click",h,r,"")}a(h,r,"")}),this},click:function(t){return a(h,t,"")},event:function(t){return o(h,t)},stat:function(t){return s(h,t)},flush:function(){if(localStorage)try{var t=localStorage.getItem(g);localStorage.removeItem(g),t&&(t=l(t),v.forEach(t,function(t){d(t[0],t.slice(1))}))}catch(e){}},pv:r}},function(t,e,n){var i=n(86),o=n(31),a=n(37),r=n(88),s=n(89),c=n(90),l=n(91),d=n(93),u=(n(94),n(95)),p=n(96),f=n(43),v={userTicket:null,eventText:null,eventTextConfig:null,isVip:null,vipInfo:null,bindAccount:null,openText:null,openTips:null,openConfig:null},_=function(){v={userTicket:null,eventText:null,eventTextConfig:null,isVip:null,vipInfo:null,bindAccount:null,openText:null,openTips:null,openTipsConfig:null,openConfig:null}},h=function(t){var e=t.split(" "),n=e[0].split("-"),i=e[1].split(":"),o=new Date(n[0],n[1]-1,n[2],i[0],i[1],i[2]);return Math.ceil((o.getTime()-new Date)/864e5)},m=function(t){var t=t+"";return 1===t.length&&(t="0"+t),t},g=function(t){var e=new Date,n=e.getTime()+864e5*parseInt(t,10);return e.setTime(n),e.getFullYear()+"-"+m(e.getMonth()+1)+"-"+m(e.getDate())+" "+m(e.getHours())+":"+m(e.getMinutes())+":"+m(e.getSeconds())},y=function(t){return new Date(t.replace(/-/g,"/")).getTime()>(new Date).getTime()},w=function(t,e,n,i){if(t){var o,a=window==top,r=a?document:top.document,s=r.body.scrollTop,c=r.documentElement.clientHeight,l=$(t);e=e||l.width()||373,n=n||l.height()||235,i=!1===i,0==s&&(s=r.documentElement.scrollTop),0==c&&(c=r.body.clientHeight),o=parseInt(l.css("zIndex")),l.css({width:e+"px",height:n+"px",top:"50%",left:"50%",marginLeft:-e/2+"px",marginTop:-n/2+"px",position:"fixed",zIndex:o||"10001",display:"block"})}},x=function(t){if(null!==v.userTicket)return void t(v.userTicket);$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/user_ticket?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3",dataType:"jsonp",data:{uin:txv.login.getUin(),status:1,psize:10,_t:5,otype:"json",platform:1},CSRF:!0,success:function(e){0===e.result.code?(v.userTicket=e.not_use,t(e.not_use)):t(0)},error:function(){t(0)}})},b=function(t){$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/pay?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3&otype=json",dataType:"jsonp",CSRF:!0,data:{id:COVER_INFO.cover_id,uin:txv.login.getUin()},success:function(e){if(0==e.result.code&&1==e.pay)return void t(!0,e);t(!1)},error:function(){t(!1)}})},k=function(t){if(null!==v.eventText)return void t(v.eventText);$.ajax({url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_VipActConf_V2&cmd=2&posId=24&platform=1",dataType:"jsonp",success:function(e){if(e&&e.posList&&e.posList[0]&&0==e.posList[0].code&&e.posList[0].confData&&e.posList[0].confData[0]){var n=e.posList[0].confData[0];if(n.begTime&&!C(n.begTime))return t(""),void(v.eventText="");if(n.endTime&&C(n.endTime))return t(""),void(v.eventText="");t(n.iconTxt),v.eventText=n.iconTxt,v.eventTextConfig=n}else t(""),v.eventText=""},error:function(){t("")}})},O=function(t){return t/100+""},I=function(t){if(!t)return!1;if("string"!=typeof t)return!1;var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/);if(e&&e[5]){var n=parseInt(e[2],10),i=parseInt(e[3],10),o=new Date,a=o.getMonth()+1,r=o.getDate();return n==a&&i==r?e[4]+":"+e[5]:n+"月"+i+"日"}return!1},C=function(t){var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/),n=new Date;return n.setFullYear(e[1]),n.setMonth(e[2]-1),n.setDate(e[3]),n.setHours(e[4]),n.setMinutes(e[5]),n.setSeconds(e[6]),(new Date).getTime()>n.getTime()},E=function(t,e){if(e){if((e=parseInt(e,10))<60)return e+"秒";if(e<3600){return Math.floor(e/60)+"分钟"}var n=Math.floor(e/3600),i=e-3600*n,o="";return i>0&&(o=Math.floor(i/60)+"分钟"),n+"小时"+o}var a={1306029:"0分钟",1306030:"5分钟",1306031:"10分钟",1324045:"1分钟",1324046:"2分钟",1324047:"3分钟",1324048:"4分钟"};return a[t]?a[t]:"未知时间"},T=function(t){if(null!==v.isVip)return void t(v.isVip,v.vipInfo);txv.vip.getVipInfo().done(function(e){e.vip?(t(!0,e),v.isVip=!0):(t(!1,e),v.isVip=!1),v.vipInfo=e}).fail(function(){t(!1,{})})},V=function(t){$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/pay?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3",dataType:"jsonp",CSRF:!0,data:{id:COVER_INFO.cover_id,uin:txv.login.getUin(),otype:"json",isneedmovie:1},success:function(e){e.valid_days?t(e.valid_days):txv.tips.Msg({title:"影片数据读取错误，请刷新重试",buttons:["刷新"]}).done(function(){window.location.reload()})},error:function(){txv.tips.Msg({title:"影片数据读取错误，请刷新重试",buttons:["刷新"]}).done(function(){window.location.reload()})}})},P=function(t,e){var n=$.extend({aid_version:"V0",key4:9,key11:2,_scene:2},e),o=$.pay(n,"aid");$.pay_qrimg({id:t,pay_type:0,use_ws:!1,aid:o,scan_suc:function(){i.click("vip_layer:scanSucc")},pay_suc:function(){window.location.reload()}})},S=function(t){"undefined"==typeof $.pay?$.getScript("//vm.gtimg.cn/tencentvideo_v1/script/vip.minipay.js",function(){t()}):t()},q=function(){txv.login.addCloseLoginCallback(function(){0!==$(".mask_layer").length&&1!==$(".mask_layer:hidden").length||1!==$(".tvip_layer").length||txv.login.showMask()})},R=function(t){if(null!==v.bindAccount)return void t(v.bindAccount);$.ajax({url:"//pay.video.qq.com/fcgi-bin/check_bindaccount?otype=json",dataType:"jsonp",CSRF:!0,success:function(e){if(e&&e.result&&0==e.result.code&&1==e.isVip)return t(e),void(v.bindAccount=e);t(!1),v.bindAccount=!1},error:function(e){t(!1)}})},N=function(t,e,n){R(function(i){if(i){if(t.find(".tvip_content").append(r),"wx"===i.bind_type)var o="您的微信帐号 "+i.account_id+" 已是会员，";else var o="您的QQ帐号 "+i.account_id+" 已是会员，";t.find("#bind_account_row .tvip_change_txt").html(o),t.find("#bind_account_row .tvip_login_txt").unbind("click").bind("click",function(){return txv.login.openLoginSingle({success:function(){window.location.reload()}},i.bind_type),!1}),e&&e()}else n&&n()})},F=function(t){t.find("#pc_client_open, #pc_client_down").length>0||txv.ua.windows&&l.exist().done(function(){t.find(".tvip_content").append(c),t.find("#pc_client_open").unbind("click").bind("click",function(){return i.click("vip_1080p:openPcClient"),l.play("web.vip"),!1}).show()}).fail(function(){t.find(".tvip_content").append(s);var e=t.find("#pc_client_down");e.unbind("click").bind("click",function(){return i.click("vip_1080p:downPcClient"),location.href="//node.video.qq.com/x/api/download_pc",!1}).show(),txv.clipboard.to({el:e[0],text:"qqlivechannel=channel1.vip"})})},L=function(){return COVER_INFO.type==j.TV?(VIP_INFO.episodeVip=parseInt(VIP_INFO.episodeVip,10),VIP_INFO.episodeCurrent=parseInt(VIP_INFO.episodeCurrent,10),VIP_INFO.episode_all=parseInt(VIP_INFO.episode_all,10),VIP_INFO.episodeVip==VIP_INFO.episodeCurrent&&VIP_INFO.episodeCurrent<COVER_INFO.episode_all?"开通VIP会员免费看":VIP_INFO.episodeCurrent<COVER_INFO.episode_all?"开通VIP会员抢先看":"开通VIP会员看全集"):"开通VIP会员免费看"},j={MOVIE:1,DOCO:9,MUSIC:22,EDU:27,TV:2,CARTOON:3,FUNNY:43},M=function(t){return!!VIDEO_INFO.trytime&&("0"!=VIDEO_INFO.trytime&&("1306029"!=VIDEO_INFO.trytime&&!!t))},D=function(t,e,n,i){var o=!1,a=!1;n.openUnion.text?(o=n.openUnion.text,n.openUnion.url&&0==n.openUnion.url.indexOf("http")&&(o=n.openUnion.text,a=n.openUnion.url)):n.openGlobal.text&&(1==n.openGlobal.scope&&n.vip||2==n.openGlobal.scope&&!n.vip||3==n.openGlobal.scope)&&(o=n.openGlobal.text,n.openGlobal.url&&0==n.openGlobal.url.indexOf("http")&&(a=n.openGlobal.url)),o&&a?(t.html(d),t.find(".btn_vip_big .icon_text").html(o),t.find(".btn_vip_big").attr("href",a),n.vip&&t.find(".btn_vip_big").addClass("another_modle"),t.removeClass("mod_side_vip_wechat").addClass("mod_side_vip")):(e.html(o),void 0===i&&(i=!1),i||e.parent().addClass("vip_minipay_click").attr("_stat","player_rightpanel"))},A=function(t,e,n,i,o){if(o)var a=f(t,p,{btn_text:n,btn_url:i,tips:!1,link_text:!1,link_class:!1});else var a=f(t,u,{btn_text:n,btn_url:i,tips:!1,link_text:!1,link_class:!1});e.html(a),e.removeClass("mod_side_vip_wechat").addClass("mod_side_vip"),e.find(".vertical_center_box a").click(function(){G({f_event:"click"})})},B=function(t){for(var e=(txv.login.isLogin(),txv.login.getUin()),n=txv.login.getLoginType()||"qq",i=[{adArray:t.ss_adv,qq:1,wx:108},{adArray:t.s_adv,qq:1,wx:108},{adArray:t.a_adv,qq:1,wx:108}],o=0;o<i.length;o++){var a=i[o];if(a.adArray)for(var r=0;r<a.adArray.length;r++)if(a[n]==a.adArray[r].platform&&U(a.adArray[r].white_list,e)&&a.adArray[r].open_text)return a.adArray[r].open_text}return""},U=function(t,e){return!t||!(!txv.login.isLogin()||!txv.login.isQQLogin())&&t.indexOf(""+e)>-1},z=function(t){$.ajax({url:"//mobile.video.qq.com/fcgi-bin/dout_iphone?otype=json&auto_id=1362&platform=7&version=0",dataType:"jsonp",success:function(e){if(0==e.returncode){var n=B(e);t(n)}else t(!1)},error:function(){t(!1)}})},Q=function(t){if(null!==v.openTips)return void t(v.openTips);k(function(e){e?(t(e),v.openTips=e):z(function(e){t(e),v.openTips=e})})},H=function(t){$.ajax({dataType:"jsonp",url:"//pay.video.qq.com/fcgi-bin/check_login?otype=json",data:{type:1,uin:txv.login.getUin(),skey:txv.login.getSkey()},success:function(e){var n=e.result.code;t(0==n)},error:function(e){t(!1)}})},W=function(t){if(null!==v.openConfig)return void t(v.openConfig);$.ajax({dataType:"jsonp",url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_VipActConf_V2&cmd=2&posId=1&platform=1&cid="+COVER_INFO.id+"&version=6.0.0",success:function(e){if(e&&e.posList&&"undefined"!=typeof e.posList[0]){for(var n=0;n<e.posList.length;n++)0==e.posList[n].code&&(v.openConfig=e.posList[n].confData[0],t(e.posList[n].confData[0]));t(!1)}else t(!1)},error:function(e){t(!1)}})},Y=null,J=function(t){Y||(Y={},Y.f_module="web播放页",Y.f_type=4,Y.f_pt=1e3,Y.f_url=window.location.pathname,Y.f_dm=window.location.hostname,Y.f_cid=COVER_INFO.id,txv.login.isLogin()&&(Y.f_logintype=a.get("main_login"),Y.f_vuserid=a.get("vuserid")));var e="//btrace.qq.com/kvcollect?BossId=5814&Pwd=1682996435";T(function(n,i){Y.f_vip=n?1:0,Y.f_level=n?i.level:0;var a=$.extend(Y,t);for(var r in a)a[r]&&(e+="&"+r+"="+encodeURIComponent(a[r]));o(e)})},G=function(t){var e={};"text"===t.type?v.openConfig&&(v.openConfig.ptag&&(e.f_ptag=v.openConfig.ptag),v.openConfig.magicId&&(e.f_cubeid=v.openConfig.magicId),v.openConfig.configId&&(e.f_item=v.openConfig.configId)):"tips"===t.type&&v.eventTextConfig&&(v.eventTextConfig.ptag&&(e.f_ptag=v.eventTextConfig.ptag),v.eventTextConfig.magicId&&(e.f_cubeid=v.eventTextConfig.magicId),v.eventTextConfig.configId&&(e.f_item=v.eventTextConfig.configId)),delete t.type,J($.extend(e,t))},K=function(t){return!(!t.c_single_price||!t.c_vip_price)&&t.c_single_price>t.c_vip_price},X=function(){return document.cookie.indexOf("vqq_appid")>-1};t.exports={clearCache:_,checkPaid:b,getUserTicket:x,getEventText:k,getExpireDays:h,getFormatPrice:O,getTrailerDate:I,isBeforDate:C,getTryTime:E,getVipInfo:T,showFixedWindow:w,getVideoDays:V,getExpDate:g,setQrImage:P,loadMinipayJS:S,checkLoginMask:q,checkBindAccount:N,checkPcClient:F,getOpenVIPText:L,isLateDate:y,VideoTypes:j,hasTryTime:M,setOpenText:D,getOpenVIPAD:z,setOpenDom:A,getOpenTips:Q,checkQQStrongLogin:H,getButtonConfig:W,bossReport:J,openReport:G,vipHasDiscount:K,isNewQQLogin:X}},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_ft" id="bind_account_row">\n    <div class="tvip_change_login">\n        <span class="tvip_change_txt">你的微信帐号learzheng已是VIP会员，</span>\n        <a class="tvip_login_txt" href="javascript:;">切换登录</a>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_ft tvip_ft_btn" id="pc_client_down">\n    <a class="tvip_btn_pcdown" href="javascript:;"><span class="tvip_icon_down"></span><span class="tvip_down_txt">下载PC客户端，免费享1080P</span></a>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_ft tvip_ft_btn" id="pc_client_open">\n    <a class="tvip_btn_pcdown" href="javascript:;"><span class="tvip_icon_play"></span><span class="tvip_down_txt">用PC客户端看，免费享1080P</span></a>\n</div>'}},function(t,e,n){function i(t,e){return new l(function(n,i){var o=function(){i(),e&&e(),s()};f.exist().done(function(){f.open(t).done(function(){n()}).fail(o)}).fail(o)})}function o(t){txv.tips.FloatWarning({title:t,useMask:!1})}function a(){if(c()){var t=$(d({}));t.find("._btn_close").bind("click",function(){t.remove()}),0===$("._single_tip").length&&($("body").append(t),setTimeout(function(){t.remove()},15e3))}}function r(t){return $.extend({cid:COVER_INFO.cover_id,vid:p},t)}function s(){v||(v=setTimeout(function(){window.location.assign("//node.video.qq.com/x/api/download_pc"),v=0,a()},2e3))}function c(){if(txv.ua.chrome)for(var t=0;t<navigator.plugins.length;t++)if("Chrome PDF Viewer"==navigator.plugins[t].name)return!0}var l=n(2),d=n(92),u=(n(43),navigator.userAgent.indexOf("QQLive"),window.PageMessage),p=VIDEO_INFO.vid;u.on("vidChanged",function(t){p=t.vid});var f=txv.client,v=0;t.exports={exist:f.exist,open:f.open,download:function(t,e){/^web\./.test(t)||(t="web."+t);var n={};return e=r(e||{}),e.cid?(n.vbarid=e.cid,n.vlist=e.vid):n.videoid=e.cid,i("qqlive://download/"+$.param(n)+"&atag="+t,function(){})},play:function(t,e){/^web\./.test(t)||(t="web."+t);var n={};return e=r(e||{}),e.cid&&(n.vbarid=e.cid),e.vid&&(n.videoid=e.vid),i("qqlive://sso/"+$.param(n)+"&atag="+t,function(){})},exec:function(t,e){return e=e||{},nopop="undefined"!=typeof e.nopop,i(t,function(){!nopop&&o("未检测到腾讯视频客户端，安装后可在客户端观看")})}}},function(module,exports){module.exports=function(d){with(d)return'<div class="mod_fixed_action_download _single_tip">\n\t<a class="btn_close _btn_close" href="javascript:;">\n\t\t<i class="icon_xs icon_close_xs"><svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_close_xs"></use></svg></i>\n\t</a>\n\t<div class="fixed_action_download">\n\t\t<div class="dl_item cf">\n\t\t\t<span class="dl_icon">\n\t\t\t\t<i class="icon_dl_round"></i>\n\t\t\t\t<i class="icon icon_dl"><svg class="svg_icon" viewBox="0 0 20 20" width="20" height="20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_dl"></use></svg></i>\n\t\t\t</span>\n\t\t\t<span class="dl_txt">正在下载腾讯视频客户端，安装完成后立即下载视频</span>\n\t\t</div>\n\t\t<div class="rec_feature cf">\n\t\t\t<span class="feature_tit">客户端特权:</span>\n            <span class="feature_item">\n                <i class="icon_feature icon_feature_fh"></i>\n                <span class="icon_text">3倍流畅播放</span>\n            </span>\n            <span class="feature_item">\n                <i class="icon_feature icon_feature_hd"></i>\n                <span class="icon_text">免费蓝光</span>\n            </span>\n            <span class="feature_item">\n                <i class="icon_feature icon_feature_dl"></i>\n                <span class="icon_text">极速下载</span>\n            </span>\n        </div>\n\t</div>\n\t<i class="triangle_down"><i class="triangle_inner"></i></i>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<a href="javascript:;" target="_blank" class="btn_vip_big">\n    <i class="icon_sm icon_vip_gift_sm">\n        <svg class="svg_icon svg_icon_vip_gift_sm" viewBox="0 0 16 16" width="16" height="16"><path d="M14 7H2a1 1 0 0 1 0-2h1.184A2.886 2.886 0 0 1 3 4a3 3 0 0 1 3-3c.772 0 1.468.3 2 .778A2.982 2.982 0 0 1 10 1a3 3 0 0 1 3 3c0 .353-.072.686-.184 1H14a1 1 0 0 1 0 2zM6 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM2 9a1 1 0 0 1 2 0v4h8V9a1 1 0 0 1 2 0v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9z"></path></svg>\n    </i>\n    <span class="icon_text"></span>\n</a>'}},function(t,e){var n={SINGLE_BUY:7,VIP_MONTHLY:5,VIP_ONLY:6,VIP_TICKET:4};t.exports=n},function(module,exports){module.exports=function(d){with(d)return'<div class="vertical_center_box">\n    '+(function(){return btn_url?'\n        <a href="'+btn_url+'" class="btn_vip_big" target="_blank">\n            <i class="icon icon_lock"><svg class="svg_icon" viewBox="0 0 20 20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_gift"></use></svg></i>\n            <span class="icon_text">'+btn_text+"</span>\n            "+(function(){if(tips)return'\n                <span class="tips_promotion">\n                    <span class="inner"> '+tips+" </span>\n                </span>\n            "}()||"")+"\n        </a>\n    ":'\n        <a href="javascript:;" class="btn_vip_big '+btn_class+'">\n            <span class="icon_text">'+btn_text+"</span>\n            "+(function(){if(tips)return'\n                <span class="tips_promotion">\n                    <span class="inner"> '+tips+" </span>\n                </span>\n            "}()||"")+"\n        </a>\n    "}()||"")+"\n</div>    \n"+(function(){if(link_text)return'\n<a href="javascript:;" class="link_vip_big '+link_class+'">\n    <i class="icon icon_vip_star"><svg class="svg_icon" viewBox="0 0 20 20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_vip_star"></use></svg></i>\n    <span class="icon_text"> '+link_text+' </span>\n    <i class="icon_sm icon_right_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_right_sm"></use></svg></i>\n</a>\n'}()||"")}},function(module,exports){module.exports=function(d){with(d)return'<div class="vertical_center_box">\n    '+(function(){return btn_url?'\n        <a href="'+btn_url+'" class="btn_vip_primary" target="_blank">\n            <i class="icon icon_lock"><svg class="svg_icon" viewBox="0 0 20 20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_gift"></use></svg></i>\n            <span class="icon_text">'+btn_text+"</span>\n            "+(function(){if(tips)return'\n                <span class="tips_promotion">\n                    <span class="inner"> '+tips+" </span>\n                </span>\n            "}()||"")+"\n        </a>\n    ":'\n        <a href="javascript:;" class="btn_vip_primary '+btn_class+'">\n            <span class="icon_text">'+btn_text+"</span>\n            "+(function(){if(tips)return'\n                <span class="tips_promotion">\n                    <span class="inner"> '+tips+" </span>\n                </span>\n            "}()||"")+"\n        </a>\n    "}()||"")+"\n</div>    \n"+(function(){
if(link_text)return'\n<a href="javascript:;" class="link_vip_big '+link_class+'">\n    <i class="icon icon_vip_star"><svg class="svg_icon" viewBox="0 0 20 20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_vip_star"></use></svg></i>\n    <span class="icon_text"> '+link_text+' </span>\n    <i class="icon_sm icon_right_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_right_sm"></use></svg></i>\n</a>\n'}()||"")}},function(t,e,n){var i=n(87),o=n(98),a=(window.PageMessage,n(86)),r=!1,s=function(t){var e=$({});e.attr("data-toggle","l_pay"),e.attr("data-amount","3"),e.attr("_source","10"),e.attr("_scene","8"),e.attr("_stat","vip_player:openVip");var n=e.pay("aid");$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/ticket_trade?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3",dataType:"jsonp",data:{uin:txv.login.getUin(),cid:COVER_INFO.cover_id,pid:10001,pchannel:"nomoney",money:0,title:COVER_INFO.title,otype:"json",days:t,tcount:0,aid:n,platform:1,version:"film"},CSRF:!0,success:function(t){0==t.ret?window.location.reload():-11==t.ret?txv.login.openLogin({success:function(){txv.cookie.set("vip_useticket","1"),window.location.reload()}}):txv.tips.Msg({title:t.msg_title+" "+t.msg_desc})}}),a.click(COVER_INFO.type+"_vip_ticket:showLayer")},c=function(t,e,n){$("body").append(o),i.showFixedWindow(".tvip_layer",540,225),txv.login.showMask();var a=$(".tvip_layer"),s=i.hasTryTime(r)?"试看结束，":"";a.find(".tvip_coupon_tit").html(s+"应版权方要求，本片需购买观看"),a.find(".tvip_close").unbind("click").bind("click",function(){return a.find("a").unbind("click"),a.remove(),txv.login.hideMask(),!1}),a.find("#ticket_left_count").html(e+" 张");var c=i.getExpDate(t);a.find("#ticket_valid_date").html(t+"天内无限次观看（至"+c+"）"),a.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return n&&n(),!1})},l=function(t,e){r=!!e,i.getVideoDays(function(e){$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/user_ticket?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3",dataType:"jsonp",data:{uin:txv.login.getUin(),status:1,psize:30,_t:1,otype:"json",platform:1},CSRF:!0,success:function(n){if(-11===n.result.code)return void txv.login.openLogin({success:function(){txv.cookie.set("vip_useticket","1"),window.location.reload()}});if(0==n.result.code){var i=n.vip_tt+n.watch_tt;c(e,i,function(){s(e)}),t&&t()}},error:function(){txv.tips.Msg({title:"观影券数据读取错误，请刷新重试",buttons:["刷新"]}).done(function(){window.location.reload()})}})})};t.exports=l},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            \x3c!--用券结构--\x3e\n            <div class="tvip_box_coupon">\n                <div class="tvip_coupon_tit">应版权方要求，本片需购买观看</div>\n                <div style="margin: 5px 0 4px 0;text-align:center;font-size:14px;color:#fff;">VIP会员可用1张观影券抵扣</div>\n                <div class="tvip_tickets_list">\n                    <div class="tvip_tickets_item">\n                        <span class="tvip_tickets_tit">剩余观影券：</span>\n                        <span class="tvip_tickets_txt">\n                            <span id="ticket_left_count">2 张</span>\n                        </span>\n                    </div>\n                    <div class="tvip_tickets_item">\n                        <span class="tvip_tickets_tit">观影有效期：</span>\n                        <span class="tvip_tickets_txt" id="ticket_valid_date">2天内无限次观看（至2016-05-06 20:05:55）</span>\n                    </div>\n                </div>\n                <a class="tvip_btn_vip" href="javascript:;"><span class="tvip_btn_txt">使用1张观影券</span></a>\n                <a class="tvip_btn_link" href="javascript:;" style="display:none;">\n                    <span class="tvip_icon_vip"></span>\n                    <span class="tvip_btn_txt">开通VIP会员免费</span>\n                    <span class="tvip_txt_red"></span>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>'}},function(t,e,n){var i=n(100),o=n(87),a=n(101),r=(window.PageMessage,function(){function t(t){var n=new Image,i="";$.each(t,function(t,e){i+=t+"="+e+"&"}),i+="rand="+Math.random(),n.src=e+"?"+i}if("wx"==txv.login.getLoginType())return void a();txv.login.showMask();var e="//pay.video.qq.com/fcgi-bin/payreport";!function(e){var n=!1;(new Date).getTime();e.off("success").on("success",function(){n=!0,t({plat:0,step:6,uin:txv.login.getUin(),code_1:0,type:2,payitem:"1*"+COVER_INFO.cover_id})}).off("close").on("close",function(){n&&setTimeout(function(){window.location.reload()},1e3),txv.login.hideMask()}).off("cancel").on("cancel",function(){txv.login.hideMask(),t({plat:0,step:7,uin:txv.login.getUin(),type:2,payitem:"1*"+COVER_INFO.cover_id})}).off("priceerr").on("priceerr",function(t,e){-11==e.code?txv.login.openLogin({success:function(){window.location.reload()}}):(txv.login.hideMask(),e.code,e.msg)}).off("frameload").on("frameload",function(){t({plat:0,step:1,uin:txv.login.getUin(),type:2,payitem:"1*"+COVER_INFO.cover_id})}).show({coverid:COVER_INFO.cover_id,sandbox:!1})}(i)}),s=function(){var t={pay_type:1,pay_suc:function(){setTimeout(function(){window.location.reload()},1e3)},success:function(){txv.cookie.set("vip_singlebuy","1"),window.location.reload();var t=txv.login.getLoginType();"qq"==t?r():"wx"==t&&txv.login.bye_login()}};if("wx"==txv.login.getLoginType())return void a();if(o.isNewQQLogin())txv.login.isLogin()?r():txv.login.openPayLogin(t);else if("qq"==txv.login.getLoginType()&&txv.login.isStrongLogin())o.checkQQStrongLogin(function(e){e?r():($("#ff_poptip").remove(),txv.login.openPayLogin(t))});else if($("#ff_poptip").remove(),txv.login.isLowLogin()){var e=txv.login.getLoginType();"qq"==e?txv.login.openLoginSingle(t,"qq"):"wx"==e?txv.login.openLoginSingle(t,"wx"):txv.login.openPayLogin(t)}else txv.login.openPayLogin(t)};t.exports=s},function(t,e){var n,i=$({}),o=!1,a="//fusion.qzone.qq.com/fusion_loader?appid=1450000370&platform=website&v=20130717&maxage=864000",r={coverid:"",title:"正在为QQ帐号购买影片",zIndex:9999,type:"",plat:1,token:"",key:"",g_tk:"",uin:"",param:null,sandbox:!0,context:this},s={onSuccess:function(t){i.trigger("success",t)},onCancel:function(t){i.trigger("cancel",t)},onClose:function(){i.trigger("close")},onLoadJsFail:function(){i.trigger("loadjsfail")},onPriceErr:function(t,e){i.trigger("priceerr",{code:t,msg:e})},onFrameLoad:function(){i.trigger("frameload")},onShown:function(){i.trigger("shown")},onLoad:function(){i.trigger("load")}};i.setConfig=function(t){return t=t||{},$.extend(r,t),this},i.show=function(t){function e(t,i){function c(t){var e=new Image,n="";$.each(t,function(t,e){n+=t+"="+e+"&"}),n+="rand="+Math.random(),e.src=u+"?"+n}t=t||"pay.video.qq.com",i=i||0;var d=(["//",t,"/fcgi-bin/price-cloud?otype=json"].join(""),(new Date).getTime()),u="//pay.video.qq.com/fcgi-bin/payreport";$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/price-cloud?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3&otype=json",dataType:"jsonp",data:l,cache:!1,success:function(t){if(t&&t.result&&0==t.result.code){r.param=t.url_params;var e=window.fusion2;e&&e.dialog&&e.dialog.buy?n=e.dialog.buy($.extend({},r,s)):o||$.getScript(a).done(function(){n=window.fusion2.dialog.buy($.extend({},r,s)),o=!1}),c({plat:0,step:4,costtime:(new Date).getTime()-d,cginame:"price-cloud",code_1:t.result.code,msg:t.result.msg,uin:txv.login.getUin(),type:2,payitem:"1*"+COVER_INFO.cover_id})}else t&&t.result?(s.onPriceErr(t.result.code,t.result.msg),c({plat:0,step:4,costtime:(new Date).getTime()-d,cginame:"price-cloud",code_1:t.result.code,msg:t.result.msg,uin:txv.login.getUin(),type:2,payitem:"1*"+COVER_INFO.cover_id})):(c({plat:0,step:4,costtime:(new Date).getTime()-d,cginame:"price-cloud",code_1:-99,msg:"批价发货请求完成处理时发生错误",uin:txv.login.getUin(),type:2,payitem:"1*"+COVER_INFO.cover_id}),s.onPriceErr(-99,"批价发货请求完成处理时发生错误"))},error:function(){i<1?e("paybak.video.qq.com",++i):s.onPriceErr(-500,"批价发货请求发生错误"),c({plat:0,step:4,costtime:(new Date).getTime()-d,cginame:"price-cloud",code_1:-500,msg:"批价发货请求完成处理时发生错误",uin:txv.login.getUin(),type:2,payitem:"1*"+COVER_INFO.cover_id})}})}if(t.title=["正在为QQ帐号","（",txv.login.getNick(),"）购买影片"].join(""),COVER_INFO.isDisneyPack&&(t.title=["正在为QQ帐号","（",txv.login.getNick(),"）购买"].join("")),i.setConfig(t),!r.coverid)return void r.onPriceErr(-199,"获取专辑id失败");var c=txv.cookie.get("skey"),l={cid:r.coverid,g_tk:r.g_tk||(c?$.time33(c):""),num:r.num||1};return r.type&&(l.type=r.type),2==r.plat&&(l.token=r.token,l.key=r.key,l.uin=r.uin,l.plat=r.plat),e(),this};var c=function(t){if(window.SinglePay&&window.midas)return void t();$.getScript("//midas.gtimg.cn/midas/minipay_v2/jsapi/cashier.js",function(){$.getScript("//vm.gtimg.cn/tencentvideo_v1/script/film/jsapi/single_pay_w.js",function(){t()})})},l=$({});l.show=function(t){var e=txv.login.getUin(),n=txv.login.getNick();t.title=["正在为QQ帐号","（",n,"）购买影片"].join(""),COVER_INFO.isDisneyPack&&(t.title=["正在为QQ帐号","（",n,"）购买"].join("")),c(function(){SinglePay.pay({cid:t.coverid,type:0,title:t.title},{buzType:"cover",sandbox:window.location.search.indexOf("sandbox=1")>-1?1:0,loginType:txv.login.getLoginType(),uin:e,openid:txv.cookie.get("vqq_openid"),openkey:txv.cookie.get("vqq_access_token"),onSuccess:function(){l.trigger("success"),l.trigger("close")},onCancel:function(){l.trigger("cancel")}}).then(function(t){},function(){})})},t.exports=l},function(t,e,n){var i=n(102),o=n(87),a=o.getFormatPrice(COVER_INFO.payInfo.c_vip_price),r=o.getFormatPrice(COVER_INFO.payInfo.c_single_price),s=function(){$("body").append(i),o.showFixedWindow(".tvip_layer",540,299),txv.login.showMask();var t=$(".tvip_layer");t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),!1}),t.find(".tvip_wxvod_name").html(txv.login.getNick()),t.find(".tvip_wxvod_film").html(COVER_INFO.title),COVER_INFO.isDisneyPack&&t.find(".tvip_wxvod_tit").html('正在为微信帐号 <span class="tvip_wxvod_name">'+txv.login.getNick()+"</span> 购买付费包"),o.getVideoDays(function(e){t.find(".tvip_wxvod_time").html("观影有效期："+e+"天内无限次观看（至"+o.getExpDate(e)+")")}),$.pay_qrimg({id:"layer_qrcode_img",pay_type:1,cid:COVER_INFO.cover_id,usewx:1,use_ws:!0,extendparam:"",pay_suc:function(){window.location.reload()},scan_suc:function(){}}),o.getVipInfo(function(e,n){var i=e?a:r;t.find(".tvv_qr_txt").html("微信扫一扫，"+i+"元购买")})};t.exports=s},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer tvip_layer_wxvod">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            \x3c!--用券结构--\x3e\n            <div class="tvip_box_wxvod">\n                <div class="tvip_wxvod_tit">正在为微信帐号 <span class="tvip_wxvod_name"></span> 购买影片 《<span class="tvip_wxvod_film"></span>》</div>\n                <div class="tvip_wxvod_time">观影有效期：2天内无限次观看（至2016-05-06 20:05:55）</div>\n                <div class="tvip_wxvod_qr">\n                    <div class="tvip_qr_pic">\n                        <img id="layer_qrcode_img" class="tvip_qr_img" />\n                    </div>\n                    <div class="tvv_qr_txt">微信扫一扫，5.0元购买</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}},function(t,e,n){var i=n(104),o=n(105),a=n(87),r=n(86),s=function(t,e){t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),e&&e.trigger("1080pVipGuideClose",{action:"closeSkipAd"}),!1})},c=function(t){var e={_source:1,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};txv.login.isLogin()&&txv.login.isStrongLogin()?(t.find(".tvip_close").trigger("click"),$.pay(e),r.click(COVER_INFO.type+"_vip_skipad:openMinipay")):(a.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.vip.getVipInfo().done(function(t){t.vip?window.location.reload():$.pay(e)})}}))},l=function(t){$("body").append(i),a.showFixedWindow(".tvip_layer",540,341),txv.login.showMask();var e=$(".tvip_layer");e.find(".tvip_btn_link").hide(),e.find(".tvip_open_tit").html("开通腾讯视频VIP会员，尊享免广告特权"),e.find(".tvip_btn_txt").html("开通VIP 享免广告"),a.getOpenTips(function(t){t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none"))}),s(e,t),e.find("a.tvip_login_txt").unbind("click").bind("click",function(){return c(e),!1}),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return c(e),!1});var n=$.pay({aid_version:"V0",key4:1,key11:2,_scene:2},"aid");return $.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:n,pay_suc:function(){window.location.reload()}}),r.click(COVER_INFO.type+"_vip_layer:showQrcode"),r.click(COVER_INFO.type+"_vip_layer:showOpenVip"),e},d=function(t){var e=l(t);a.showFixedWindow(".tvip_layer",540,300),e.find(".tvip_ft").hide(),a.checkBindAccount(e)},u=function(t){$("body").append(o),a.showFixedWindow(".tvip_layer",540,372),txv.login.showMask();var e=$(".tvip_layer");s(e,t),a.getOpenTips(function(t){var n=t?'<span class="tvip_txt_bgred">'+t+"</span>":"";e.find(".tvip_wx_tit").html("微信扫一扫 开通腾讯视频VIP尊享免广告特权 "+n)});var n=$.pay({aid_version:"V0",key4:1,key11:2,_scene:2},"aid");$.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:n,pay_suc:function(){window.location.reload()}}),r.click(COVER_INFO.type+"_vip_layer:showQrcode"),a.checkBindAccount(e)},p=function(t){a.loadMinipayJS(function(){txv.login.isLogin()?"wx"===txv.login.getLoginType()?u(t):d(t):l(t)}),r.click(COVER_INFO.type+"_vip_skipad:showLayer")};t.exports=p},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            <div class="tvip_box_open">\n                <div class="tvip_open_tit">试看结束，开通VIP免费看</div>\n                <div class="tvip_open_wrap">\n                    <div class="tvip_open_lf">\n                        <div class="tvip_open_btn">\n                            <a class="tvip_btn_vip" href="javascript:;"><span class="tvip_icon_vip"></span><span class="tvip_btn_txt">开通VIP会员免费看  买4送2</span></a>\n                            <a class="tvip_btn_link" href="javascript:;"><span class="tvip_btn_txt">非会员原价5.0元购买单片</span><span class="tvip_icon_more"></span></a>\n                            <div class="mod_tips_promotion none">\n\t\t\t\t                <span class="inner"></span>\n\t\t\t                </div>\n                        </div>\n                        <div class="tvip_pri_list">\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_vip"></span>\n                                <span class="tvip_pri_name">尊贵身份</span>\n                            </div>\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_ads"></span>\n                                <span class="tvip_pri_name">广告特权</span>\n                            </div>\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_new"></span>\n                                <span class="tvip_pri_name">院线新片</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="tvip_open_rt">\n                        <div class="tvip_qr_pic">\n                            <img id="layer_qrcode_img" class="tvip_qr_img" />\n                        </div>\n                        <div class="tvv_qr_txt">微信扫一扫，轻松开会员</div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class="tvip_ft">\n            <div class="tvip_change_login"><span class="tvip_change_txt">如你已是VIP会员，请</span><a class="tvip_login_txt" href="javascript:;">登录</a></div>\n        </div>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            \x3c!--用券结构--\x3e\n            <div class="tvip_box_wx">\n                <div class="tvip_wx_tit">\n                    试看结束，微信扫一扫开通VIP免费看 <span class="tvip_txt_bgred"></span>\n                </div>\n                <div class="tvip_wx_wrap">\n                    <div class="tvip_qr_pic">\n                        <img id="layer_qrcode_img" class="tvip_qr_img" />\n                    </div>\n                </div>\n                <div class="tvip_pri_list">\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_vip"></span>\n                        <span class="tvip_pri_name">尊贵身份</span>\n                    </div>\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_ads"></span>\n                        <span class="tvip_pri_name">广告特权</span>\n                    </div>\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_new"></span>\n                        <span class="tvip_pri_name">院线新片</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}},function(t,e,n){var i=n(104),o=n(105),a=n(87),r=n(86),s=function(t,e){t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),e&&e.trigger("1080pVipGuideClose",{action:"close1080p"}),!1})},c=function(t){if(txv.login.isLogin()&&txv.login.isStrongLogin()){t.find(".tvip_close").trigger("click");var e={_source:8,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};$.pay(e),r.click(COVER_INFO.type+"_vip_1080p:openMinipay")}else a.checkLoginMask(),txv.login.openPayLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_minipay","1"),txv.cookie.set("vip_minipay_aid","8"),window.location.reload()}})},l=function(t,e){$("body").append(i),a.showFixedWindow(".tvip_layer",540,341),txv.login.showMask();var n=$(".tvip_layer");n.find(".tvip_btn_link").hide(),n.find(".tvip_open_tit").html("开通VIP会员，尊享1080P蓝光画质"),n.find(".tvip_btn_txt").html("开通VIP会员尊享蓝光画质"),a.getOpenTips(function(t){t&&(n.find(".mod_tips_promotion .inner").html(t),n.find(".mod_tips_promotion").removeClass("none"))}),s(n,t),n.find(".tvip_ft").hide(),n.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return c(n),!1});var o=$.pay({aid_version:"V0",key4:8,key11:2,_scene:2},"aid");return $.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:o,pay_suc:function(){window.location.reload()}}),r.click(COVER_INFO.type+"_vip_layer:showQrcode"),!e&&a.checkPcClient(n),n},d=function(t){var e=l(t,!0);a.showFixedWindow(".tvip_layer",540,300),a.checkBindAccount(e,null,function(){a.checkPcClient(e)})},u=function(t){$("body").append(o),a.showFixedWindow(".tvip_layer",540,372),txv.login.showMask();var e=$(".tvip_layer");s(e,t),a.getOpenTips(function(t){var n=t?'<span class="tvip_txt_bgred">'+t+"</span>":"";e.find(".tvip_wx_tit").html("微信扫一扫，开通VIP尊享1080P蓝光画质 "+n)});var n=$.pay({aid_version:"V0",key4:8,key11:2,_scene:2},"aid");$.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:n,pay_suc:function(){window.location.reload()}}),r.click(COVER_INFO.type+"_vip_layer:showQrcode"),a.checkBindAccount(e,null,function(){a.checkPcClient(e)})},p=function(t){a.loadMinipayJS(function(){txv.login.isLogin()?"wx"===txv.login.getLoginType()?u(t):d(t):l(t)}),r.click(COVER_INFO.type+"_vip_1080p:showLayer")};t.exports=p},function(t,e,n){var i=n(104),o=n(105),a=n(87),r=n(86),s=!1,c=function(t){t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),!1})},l=function(t){if(txv.login.isLogin()&&txv.login.isStrongLogin()){t.find(".tvip_close").trigger("click");var e={_source:10,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};$.pay(e),s?r.click(COVER_INFO.type+"_vip_trialover:openMinipay"):r.click(COVER_INFO.type+"_vip_layer:openMinipay")}else a.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_minipay","1"),window.location.reload()}})},d=function(t){$("body").append(i),a.showFixedWindow(".tvip_layer",540,341),txv.login.showMask();var e=$(".tvip_layer");e.find(".tvip_btn_link").hide();var n=a.hasTryTime(s)?"试看结束，开通腾讯视频VIP会员免费看":"开通腾讯视频VIP会员免费看";e.find(".tvip_open_tit").html(n),e.find(".tvip_btn_txt").html("开通VIP会员免费看"),t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none")),c(e),e.find("a.tvip_login_txt").unbind("click").bind("click",function(){return l(e),!1}),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return l(e),!1});var o=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");return $.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:o,pay_suc:function(){window.location.reload()}}),s?r.click(COVER_INFO.type+"_vip_trialover:showOpenVip"):r.click(COVER_INFO.type+"_vip_layer:showOpenVip"),e.find("#pc_client_down, #pc_client_open").hide(),e},u=function(t){var e=d(t);a.showFixedWindow(".tvip_layer",540,300),e.find(".tvip_ft").hide(),a.checkBindAccount(e)},p=function(t){$("body").append(o),a.showFixedWindow(".tvip_layer",540,372),txv.login.showMask();var e=$(".tvip_layer");c(e);var n=a.hasTryTime(s)?"试看结束，":"",i=t?'<span class="tvip_txt_bgred">'+t+"</span>":"";e.find(".tvip_wx_tit").html(n+"微信扫一扫开通腾讯视频VIP免费看 "+i);var l=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");$.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:l,pay_suc:function(){window.location.reload()}}),s?r.click(COVER_INFO.type+"_vip_trialover:showQrcode"):r.click(COVER_INFO.type+"_vip_layer:showQrcode"),a.checkBindAccount(e)},f=function(t,e){s=!!t,a.loadMinipayJS(function(){txv.login.isLogin()?"wx"===txv.login.getLoginType()?p(e):u(e):d(e)})};t.exports=f},function(t,e,n){var i=n(109),o=n(107),a=n(113),r=n(116),s=n(94),c=n(86),l=n(87);$("body").append('<link rel="stylesheet" href="//vm.gtimg.cn/tencentvideo/vstyle/web/common/style/tvip_layer.css" />');var d=0,u=function(t){if(void 0===t&&(t=!0),!($(".tvip_layer, .tvmp_iframe, #wx_pay_popup, #login_win, .midas_minipay_dialog_mask, .midas_minipay_dialog_backframe").length>0||txv.cookie.get("vip_minipay"))){var e=(new Date).getTime();e-d<1e3||(d=e,l.getOpenTips(function(e){COVER_INFO.pay_status==s.VIP_ONLY?o(t,e):COVER_INFO.pay_status==s.VIP_MONTHLY?r(t,e):COVER_INFO.pay_status==s.VIP_TICKET?a(t,e):COVER_INFO.pay_status==s.SINGLE_BUY&&i(t,e),e&&l.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}),c.click(COVER_INFO.type+"_vip_trialover:showLayer"))}};t.exports=u},function(t,e,n){var i=n(110),o=n(111),a=n(112),r=n(87),s=n(99),c=n(86),l=r.getFormatPrice(COVER_INFO.payInfo.c_vip_price),d=r.getFormatPrice(COVER_INFO.payInfo.c_single_price),u=!1,p=function(t){t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),!1})},f=function(t){if(txv.login.isLogin()&&txv.login.isStrongLogin()){t.find(".tvip_close").trigger("click");var e={_source:10,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};$.pay(e),u?c.click(COVER_INFO.type+"_vip_trialover:openMinipay"):c.click(COVER_INFO.type+"_vip_layer:openMinipay")}else r.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_minipay","1"),window.location.reload()}})},v=function(t){r.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_singlebuy","1"),window.location.reload()}})},_=function(t){$("body").append(i),r.showFixedWindow(".tvip_layer",540,225),txv.login.showMask();var e=$(".tvip_layer"),n=r.hasTryTime(u)?"试看结束，":"";e.find(".tvip_box_vod .tvip_vod_tit").html(n+"应版权方要求，本片需购买观看"),r.getVideoDays(function(t){e.find("#vip_view_days").html(t+"天内无限次观看（至"+r.getExpDate(t)+")")}),e.find(".tvip_btn_vip .tvip_btn_txt").html(d+"元购买本片"),e.find(".tvip_btn_vip .tvip_txt_line").html(""),COVER_INFO.isDisneyPack&&(e.find(".tvip_box_vod .tvip_vod_tit").html(n+"应版权方要求，购买后可观看付费包所有影片"),e.find(".tvip_btn_vip .tvip_btn_txt").html(d+"元购买")),p(e),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return txv.login.isLogin()&&txv.login.isStrongLogin()?(e.find(".tvip_close").trigger("click"),s()):v(e),!1})},h=function(t){if(r.vipHasDiscount(COVER_INFO.payInfo)){$("body").append(o),r.showFixedWindow(".tvip_layer",540,341),txv.login.showMask();var e=$(".tvip_layer"),n=r.hasTryTime(u)?"试看结束，":"";e.find(".tvip_box_open .tvip_open_tit").html(n+"应版权方要求，本片需购买观看"),e.find("#open_tips").html("腾讯视频VIP可折扣购买").show(),t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none")),e.find("a.tvip_btn_vip .tvip_btn_txt").html("开通VIP享"+l+"元购买本片"),e.find("a.tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买本片"),e.find(".tvip_btn_tips").removeClass("none"),COVER_INFO.isDisneyPack&&(e.find("a.tvip_btn_vip .tvip_btn_txt").html("开通VIP享"+l+"元购买专辑"),e.find("a.tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买")),r.setQrImage("layer_qrcode_img",{key4:10}),p(e),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return f(e),!1}),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return v(e),!1}),e.find("a.tvip_login_txt").unbind("click").bind("click",function(){return v(e),!1}),u?c.click(COVER_INFO.type+"_vip_trialover:showOpenVip"):c.click(COVER_INFO.type+"_vip_layer:showOpenVip")}else _()},m=function(t){if("wx"===txv.login.getLoginType())if(r.vipHasDiscount(COVER_INFO.payInfo)){$("body").append(a),r.showFixedWindow(".tvip_layer",540,372),txv.login.showMask();var e=$(".tvip_layer");e.find("#singlebuy_discount_tips").html("开通腾讯视频VIP享"+l+"元购买本片"),p(e);var n=r.hasTryTime(u)?"试看结束，":"",i=t?" <span class='tvip_txt_bgred'>"+t+"</span>":"";e.find(".tvip_box_wx .tvip_wx_tit").html(n+"应版权方要求，本片需购买观看"+i),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买本片"),COVER_INFO.isDisneyPack&&(e.find("#singlebuy_discount_tips").html("开通腾讯视频VIP享"+l+"元购买专辑"),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买")),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return e.find(".tvip_close").trigger("click"),s(),!1}),r.setQrImage("layer_qrcode_img",{key4:10}),u?c.click(COVER_INFO.type+"_vip_trialover:showQrcode"):c.click(COVER_INFO.type+"_vip_layer:showQrcode"),r.checkBindAccount(e)}else _();else if(r.vipHasDiscount(COVER_INFO.payInfo)){$("body").append(o),r.showFixedWindow(".tvip_layer",540,300),txv.login.showMask();var e=$(".tvip_layer"),n=r.hasTryTime(u)?"试看结束，":"";t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none")),e.find("#open_tips").html("腾讯视频VIP可折扣购买").show(),e.find(".tvip_open_tit").html(n+"应版权方要求，本片需购买观看"),e.find("a.tvip_btn_vip .tvip_btn_txt").html("开通VIP享"+l+"元购买本片"),e.find("a.tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买本片"),COVER_INFO.isDisneyPack&&(e.find("a.tvip_btn_vip .tvip_btn_txt").html("开通VIP享"+l+"元购买专辑"),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买")),r.setQrImage("layer_qrcode_img",{key4:10}),p(e),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return f(e),!1}),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return e.find(".tvip_close").trigger("click"),s(),!1}),e.find(".tvip_ft").hide(),u?c.click(COVER_INFO.type+"_vip_trialover:showOpenVip"):c.click(COVER_INFO.type+"_vip_layer:showOpenVip"),r.checkBindAccount(e)}else _()},g=function(t){if(r.vipHasDiscount(COVER_INFO.payInfo)){$("body").append(i),r.showFixedWindow(".tvip_layer",540,225),txv.login.showMask();var e=$(".tvip_layer");r.getVideoDays(function(t){e.find("#vip_view_days").html(t+"天内无限次观看（至"+r.getExpDate(t)+")")});var n=r.hasTryTime(u)?"试看结束，":"";e.find(".tvip_box_vod .tvip_vod_tit").html(n+"应版权方要求，本片需购买观看"),e.find(".tvip_btn_vip .tvip_btn_txt").html("VIP享"+l+"元购买本片"),e.find(".tvip_btn_vip .tvip_txt_line").html("原价"+d+"元"),p(e),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return e.find(".tvip_close").trigger("click"),s(),!1})}else _()},y=function(t,e){u=!!t,txv.login.isLogin()?r.getVipInfo(function(t,n){t?g():m(e)}):h(e)};t.exports=y},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            <div class="tvip_box_vod">\n                <div class="tvip_vod_tit">应版权方要求，本片需购买观看</div>\n                <div class="tvip_time_info"><span class="tvip_time_tit">观影有效期：</span> <span id="vip_view_days"></span></div>\n                <a class="tvip_btn_vip" href="javascript:;">\n                    <span class="tvip_btn_txt">VIP享2.5元购买本片</span>\n                    <span class="tvip_txt_line">原价5.0元</span>\n                </a>\n            </div>\n        </div>\n        <div class="tvip_ft" style="display:none;">\n            <div class="tvip_change_login"><span class="tvip_change_txt">如你已是VIP会员，请</span><a class="tvip_login_txt" href="javascript:;">登录</a></div>\n        </div>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){
with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd" style="padding-bottom: 0;">\n            <div class="tvip_box_open">\n                <div class="tvip_open_tit">应版权方要求，本片需购买观看</div>\n                <div class="tvip_open_wrap">\n                    <div class="tvip_open_lf">\n                        <div class="tvip_tickets_info" style="text-align: center;color:#FFF;" id="open_tips"></div>\n\n                        <div class="tvip_open_btn">\n                            <a class="tvip_btn_vip" href="javascript:;"><span class="tvip_icon_vip"></span><span class="tvip_btn_txt">开通VIP会员</span></a>\n                            <a class="tvip_btn_link" href="javascript:;"><span class="tvip_btn_txt">非会员原价1元购买单片</span><span class="tvip_icon_more"></span></a>\n                            <a class="tvip_btn_tips none" href="javascript:;"><span class="tvip_btn_txt">腾讯视频VIP可折扣购买</span></a>\n                            <div class="mod_tips_promotion none">\n\t\t\t\t                <span class="inner"></span>\n\t\t\t                </div>\n                        </div>\n                        <div class="tvip_pri_list">\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_vip"></span>\n                                <span class="tvip_pri_name">尊贵身份</span>\n                            </div>\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_ads"></span>\n                                <span class="tvip_pri_name">广告特权</span>\n                            </div>\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_new"></span>\n                                <span class="tvip_pri_name">院线新片</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="tvip_open_rt">\n                        <div class="tvip_qr_pic">\n                            <img id="layer_qrcode_img" class="tvip_qr_img" />\n                        </div>\n                        <div class="tvv_qr_txt" style="margin-top: -3px;">微信扫一扫，轻松开会员</div>\n                        <div id="open_reload_link" style="text-align: center;font-size: 13px;color: #999;">支付完成 <a style="color:#fff;" href="javascript:window.location.reload();">点击刷新</a></div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class="tvip_ft">\n            <div class="tvip_change_login"><span class="tvip_change_txt">如你已是VIP会员，请</span><a class="tvip_login_txt" href="javascript:;">登录</a></div>\n        </div>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd" style="padding-bottom: 0;">\n            <div class="tvip_box_wx">\n                <div class="tvip_wx_tit">\n                    应版权方要求，本片需购买观看 <span class="tvip_txt_bgred"></span>\n                </div>\n                <div style="margin: -15px 0 15px 0;text-align: center;color: #fff;font-size: 14px;" id="singlebuy_discount_tips"></div>\n                <div class="tvip_wx_wrap">\n                    <div class="tvip_qr_pic">\n                        <img id="layer_qrcode_img" class="tvip_qr_img" />\n                    </div>\n                    <a class="tvip_btn_link" href="javascript:;"><span class="tvip_btn_txt">非会员原价5.0元购买单片</span><span class="tvip_icon_more"></span></a>\n                </div>\n                <div class="tvip_pri_list">\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_vip"></span>\n                        <span class="tvip_pri_name">尊贵身份</span>\n                    </div>\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_ads"></span>\n                        <span class="tvip_pri_name">广告特权</span>\n                    </div>\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_new"></span>\n                        <span class="tvip_pri_name">院线新片</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}},function(t,e,n){var i=n(87),o=n(111),a=n(112),r=n(114),s=n(115),c=n(99),l=n(97),d=n(86),u=i.getFormatPrice(COVER_INFO.payInfo.c_vip_price),p=i.getFormatPrice(COVER_INFO.payInfo.c_single_price),f=!1,v=function(t){t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),!1})},_=function(t){if(txv.login.isLogin()&&txv.login.isStrongLogin()){t.find(".tvip_close").trigger("click");var e={_source:10,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};$.pay(e),f?d.click(COVER_INFO.type+"_vip_trialover:openMinipay"):d.click(COVER_INFO.type+"_vip_layer:openMinipay")}else i.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_minipay","1"),window.location.reload()}})},h=function(t){txv.login.isLogin()&&txv.login.isStrongLogin()?(t.find(".tvip_close").trigger("click"),c()):(i.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_singlebuy","1"),window.location.reload()}}))},m=function(t){$("body").append(o),i.showFixedWindow(".tvip_layer",540,341),txv.login.showMask();var e=$(".tvip_layer");v(e),e.find(".tvip_btn_vip .tvip_btn_txt").html("开通VIP 获赠观影券"),t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none"));var n=i.hasTryTime(f)?"试看结束，":"";e.find(".tvip_box_open .tvip_open_tit").html(n+"应版权方要求，本片需购买观看"),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员原价"+p+"元购买本片"),e.find("#open_tips").html("腾讯视频VIP会员可使用观影券抵扣"),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return h(e),!1}),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return _(e),!1}),e.find("a.tvip_login_txt").unbind("click").bind("click",function(){return _(e),!1});var a=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");return $.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:a,pay_suc:function(){window.location.reload()}}),f?d.click(COVER_INFO.type+"_vip_trialover:showOpenVip"):d.click(COVER_INFO.type+"_vip_layer:showOpenVip"),e},g=function(t){$("body").append(r),i.showFixedWindow(".tvip_layer",540,343),txv.login.showMask();var e=$(".tvip_layer");v(e);var n=i.hasTryTime(f)?"试看结束，":"";e.find(".tvip_box_open .tvip_open_tit").html(n+"应版权方要求，本片需购买观看"),e.find(".tvip_btn_vip .tvip_btn_txt").html("续费VIP会员 获赠观影券"),t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none")),e.find(".tvip_btn_link .tvip_btn_txt").html("VIP享"+u+"元购买本片"),e.find(".tvip_btn_link .tvip_txt_line").html("原价"+p+"元"),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return h(e),!1}),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return _(e),!1});var o=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");return $.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:o,pay_suc:function(){window.location.reload()}}),f?d.click(COVER_INFO.type+"_vip_trialover:showOpenVip"):d.click(COVER_INFO.type+"_vip_layer:showOpenVip"),e},y=function(t){$("body").append(s),i.showFixedWindow(".tvip_layer",540,434),txv.login.showMask();var e=$(".tvip_layer");v(e);var n=i.hasTryTime(f)?"试看结束，":"",o=t?"<span class='tvip_txt_bgred'>"+t+"</span>":"";e.find(".tvip_box_wx .tvip_wx_tit").html(n+"应版权方要求，本片需购买观看"+o),e.find(".tvip_btn_link .tvip_btn_txt").html("VIP享"+u+"元购买本片"),e.find(".tvip_btn_link .tvip_txt_line").html("原价"+p+"元"),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return h(e),!1});var a=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");$.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:a,pay_suc:function(){window.location.reload()}}),f?d.click(COVER_INFO.type+"_vip_trialover:showQrcode"):d.click(COVER_INFO.type+"_vip_layer:showQrcode")},w=function(t){i.getUserTicket(function(e){e>0?l(null,f):"wx"===txv.login.getLoginType()?y(t):g(t)})},x=function(t){var e=m(t);i.showFixedWindow(".tvip_layer",540,300),e.find(".tvip_ft").hide(),e.find("a.tvip_login_txt").unbind("click"),i.checkBindAccount(e)},b=function(t){$("body").append(a),i.showFixedWindow(".tvip_layer",540,372),txv.login.showMask();var e=$(".tvip_layer");e.find("#singlebuy_discount_tips").html("腾讯视频VIP会员可使用观影券抵扣"),v(e);var n=i.hasTryTime(f)?"试看结束，":"",o=t?"<span class='tvip_txt_bgred'>"+t+"</span>":"";e.find(".tvip_box_wx .tvip_wx_tit").html(n+"应版权方要求，本片需购买观看 "+o),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员"+p+"元购买本片"),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return e.find(".tvip_close").trigger("click"),c(),!1});var r=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");$.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:r,pay_suc:function(){window.location.reload()}}),f?d.click(COVER_INFO.type+"_vip_trialover:showQrcode"):d.click(COVER_INFO.type+"_vip_layer:showQrcode"),i.checkBindAccount(e)},k=function(t,e){f=!!t,i.loadMinipayJS(function(){txv.login.isLogin()?i.getVipInfo(function(t,n){t?w(e):"wx"===txv.login.getLoginType()?b(e):x(e)}):m(e)})};t.exports=k},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            <div class="tvip_box_open tvip_box_open_wx">\n                <div class="tvip_open_tit">应版权方要求，本片需购买观看</div>\n                <div class="tvip_open_wrap">\n                    <div class="tvip_open_lf">\n                        <div class="tvip_tickets_info" style="text-align: center;color:#FFF;">\n                            观影券已用完，续费VIP获赠观影券看完整版\n                        </div>\n\n                        <div class="tvip_open_btn">\n                            <a class="tvip_btn_vip" href="javascript:;"><span class="tvip_icon_vip"></span><span class="tvip_btn_txt">开通VIP会员免费看  买4送2</span></a>\n                            <a class="tvip_btn_link" href="javascript:;"><span class="tvip_btn_txt">非会员原价5.0元购买单片</span><span class="tvip_icon_more"></span><span class="tvip_txt_line">原价5.0元</span></a>\n                            <div class="mod_tips_promotion none">\n                                <span class="inner"></span>\n                            </div>\n                        </div>\n                        <div class="tvip_pri_list">\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_vip"></span>\n                                <span class="tvip_pri_name">尊贵身份</span>\n                            </div>\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_ads"></span>\n                                <span class="tvip_pri_name">广告特权</span>\n                            </div>\n                            <div class="tvip_pri_item">\n                                <span class="tvip_pri_pic tvip_pri_new"></span>\n                                <span class="tvip_pri_name">院线新片</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="tvip_open_rt">\n                        <div class="tvip_qr_pic">\n                            <img id="layer_qrcode_img" class="tvip_qr_img" />\n                        </div>\n                        <div class="tvv_qr_txt">微信扫一扫，轻松开会员</div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="tvip_layer">\n    <iframe style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 1;"></iframe>\n    <div class="tvip_content">\n        <div class="tvip_hd">\n           <a href="javascript:;" class="tvip_close" title="关闭">关闭</a> \n        </div>\n        <div class="tvip_bd">\n            \x3c!--用券结构--\x3e\n            <div class="tvip_box_wx">\n                <div class="tvip_wx_tit">应版权方要求，本片需购买观看 <span class="tvip_txt_bgred"></span></div>\n                <div class="tvip_tickets_info" style="color:#FFF;">\n                    观影券已用完，续费VIP获赠观影券看完整版\n                </div>\n                <div class="tvip_wx_wrap">\n                    <div class="tvip_qr_pic">\n                        <img id="layer_qrcode_img" class="tvip_qr_img" />\n                    </div>\n                    <a class="tvip_btn_link" href="javascript:;"><span class="tvip_btn_txt"></span><span class="tvip_icon_more"></span><span class="tvip_txt_line">原价5.0元</span></a>\n                </div>\n                <div class="tvip_pri_list">\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_vip"></span>\n                        <span class="tvip_pri_name">尊贵身份</span>\n                    </div>\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_ads"></span>\n                        <span class="tvip_pri_name">广告特权</span>\n                    </div>\n                    <div class="tvip_pri_item">\n                        <span class="tvip_pri_pic tvip_pri_new"></span>\n                        <span class="tvip_pri_name">院线新片</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}},function(t,e,n){var i=n(111),o=n(112),a=n(87),r=n(99),s=n(97),c=n(86),l=a.getFormatPrice(COVER_INFO.payInfo.c_vip_price),d=a.getFormatPrice(COVER_INFO.payInfo.c_single_price),u=!1,p=function(t){t.find(".tvip_close").unbind("click").bind("click",function(){return t.find("a").unbind("click"),t.remove(),txv.login.hideMask(),!1})},f=function(t){if(txv.login.isLogin()&&txv.login.isStrongLogin()){t.find(".tvip_close").trigger("click");var e={_source:10,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};$.pay(e),u?c.click(COVER_INFO.type+"_vip_trialover:openMinipay"):c.click(COVER_INFO.type+"_vip_layer:openMinipay")}else a.checkLoginMask(),txv.login.openPayLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_minipay","1"),window.location.reload()}})},v=function(t){txv.login.isLogin()&&txv.login.isStrongLogin()?(t.find(".tvip_close").trigger("click"),r()):(a.checkLoginMask(),txv.login.openLogin({isLowLogin:txv.login.isLowLogin(),success:function(){t.find(".tvip_close").trigger("click"),txv.cookie.set("vip_singlebuy","1"),window.location.reload()}}))},_=function(t){$("body").append(i),a.showFixedWindow(".tvip_layer",540,341),txv.login.showMask();var e=$(".tvip_layer");p(e);var n=a.hasTryTime(u)?"试看结束，开通腾讯视频VIP会员免费看":"开通腾讯视频VIP会员免费看";e.find(".tvip_open_tit").html(n),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买本片"),t&&(e.find(".mod_tips_promotion .inner").html(t),e.find(".mod_tips_promotion").removeClass("none")),e.find(".tvip_btn_vip .tvip_btn_txt").html("开通VIP会员免费看"),e.find("a.tvip_login_txt").unbind("click").bind("click",function(){return f(e),!1}),e.find("a.tvip_btn_vip").unbind("click").bind("click",function(){return f(e),!1}),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return v(e),!1});var o=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");return $.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:o,pay_suc:function(){window.location.reload()}}),u?c.click(COVER_INFO.type+"_vip_trialover:showQrcode"):c.click(COVER_INFO.type+"_vip_layer:showQrcode"),e},h=function(t){var e=_(t);e.find(".tvip_ft").hide(),a.showFixedWindow(".tvip_layer",540,291),a.checkBindAccount(e)},m=function(t){$("body").append(o),a.showFixedWindow(".tvip_layer",540,372),txv.login.showMask();var e=$(".tvip_layer");l>0?e.find("#singlebuy_discount_tips").html("开通腾讯视频VIP享"+l+"元购买本片"):e.find("#singlebuy_discount_tips").hide();var n=t?'<span class="tvip_txt_bgred">'+t+"</span>":"";e.find(".tvip_box_wx .tvip_wx_tit").html("试看结束，微信扫一扫开通腾讯视频VIP免费看 "+n),e.find(".tvip_btn_link .tvip_btn_txt").html("非会员原价"+d+"元购买本片"),e.find("a.tvip_btn_link").unbind("click").bind("click",function(){return v(e),!1});var i=$.pay({aid_version:"V0",key4:10,key11:2,_scene:2},"aid");$.pay_qrimg({id:"layer_qrcode_img",pay_type:0,use_ws:!0,aid:i,pay_suc:function(){window.location.reload()}}),u?c.click(COVER_INFO.type+"_vip_trialover:showQrcode"):c.click(COVER_INFO.type+"_vip_layer:showQrcode"),p(e),a.checkBindAccount(e)},g=function(t,e){u=!!t,a.loadMinipayJS(function(){txv.login.isLogin()?a.getVipInfo(function(t,n){t?a.getUserTicket(function(t){t>0?s(function(){a.showFixedWindow(".tvip_layer",540,276);var t=$(".tvip_layer");t.find(".tvip_btn_link .tvip_btn_txt").html("开通VIP会员看更多大片"),e&&t.find(".tvip_btn_link .tvip_txt_red").html(e),t.find(".tvip_btn_link").unbind("click").bind("click",function(){t.find(".tvip_close").trigger("click");var e={_source:10,_scene:8,_cid:COVER_INFO.cover_id,_vid:VIDEO_INFO.vid,aid_version:"V0"};return $.pay(e),u?c.click(COVER_INFO.type+"_vip_trialover:openMinipay"):c.click(COVER_INFO.type+"_vip_layer:openMinipay"),!1}).show()},!1):"wx"===txv.login.getLoginType()?m(e):h(e)}):"wx"===txv.login.getLoginType()?m(e):h(e)}):_(e)})};t.exports=g},function(t,e,n){var i=n(87),o=n(94),a=window.PageMessage,r=n(86),s=n(99),c=n(97),l=i.getTryTime(VIDEO_INFO.trytime,VIDEO_INFO.trytime_second);if("未知时间"===l)var d="试看中，";else var d="可试看"+l+"，";var u="",p="",f="",v=function(){return+VIP_INFO.episodeCurrent<+COVER_INFO.episode_all?d+"[开通VIP] 会员专享提前看":d+"[开通VIP] 会员免费看全集"},_=function(){return COVER_INFO.pay_status==o.SINGLE_BUY?(txv.vip.playerTipsEvent="traillayer",p=d+"应版权方要求本片需 [购买单片] 观看",COVER_INFO.isDisneyPack&&(p=d+"应版权方要求，本片需 [购买] 观看")):COVER_INFO.pay_status==o.VIP_MONTHLY?(txv.vip.playerTipsEvent="minipay",p=COVER_INFO.type==i.VideoTypes.CARTOON||COVER_INFO.type==i.VideoTypes.TV?v():d+"[开通VIP] 免费观看本片"):COVER_INFO.pay_status==o.VIP_ONLY?(txv.vip.playerTipsEvent="minipay",p=COVER_INFO.type==i.VideoTypes.CARTOON||COVER_INFO.type==i.VideoTypes.TV?v():d+"[开通VIP] 免费观看本片"):COVER_INFO.pay_status==o.VIP_TICKET&&(txv.vip.playerTipsEvent="minipay",p=d+"[开通VIP] 用券观看本片"),f=p},h=function(){return _()},m=function(){return""!==f?f:(COVER_INFO.pay_status==o.SINGLE_BUY?(txv.vip.playerTipsEvent="singlebuy",p=d+"应版权方要求本片需 [购买单片] 观看",COVER_INFO.isDisneyPack&&(p=d+"应版权方要求，本片需 [购买] 观看")):COVER_INFO.pay_status==o.VIP_MONTHLY?p=COVER_INFO.type==i.VideoTypes.CARTOON||COVER_INFO.type==i.VideoTypes.TV?" ":d+"您已是腾讯视频VIP会员，免费观看本片":COVER_INFO.pay_status==o.VIP_ONLY?p=COVER_INFO.type==i.VideoTypes.CARTOON||COVER_INFO.type==i.VideoTypes.TV?" ":d+"您已是腾讯视频VIP会员，免费观看本片":COVER_INFO.pay_status==o.VIP_TICKET&&i.getUserTicket(function(t){t>0?(txv.vip.playerTipsEvent="useticket",p=d+"[用券观看] 本片"):(txv.vip.playerTipsEvent="minipay",p=d+" [续费VIP] 获赠观影券看本片"),f=p}),f=p)},g=function(t){return"trailerMode"==t.type?(txv.vip.playerTipsEvent="minipay","正在试看精彩预览，[开通VIP] 免费观看完整版"):"getPayTip"===t.type&&(""!==u?u:(txv.login.isLogin()?i.getVipInfo(function(t,e){u=t?m():h()}):u=_(),"minipay"==txv.vip.playerTipsEvent&&(r.click(COVER_INFO.type+"_vip_playertips:showOpenVip"),COVER_INFO.pay_status==o.VIP_MONTHLY&&1==txv.cookie.get("vip_singlebuy")&&(s(),txv.cookie.del("vip_singlebuy"))),"useticket"==txv.vip.playerTipsEvent&&(r.click(COVER_INFO.type+"_vip_playertips:showUseTicket"),1==txv.cookie.get("vip_useticket")&&(c(null,!1),txv.cookie.del("vip_useticket"))),"singlebuy"==txv.vip.playerTipsEvent&&(r.click(COVER_INFO.type+"_vip_playertips:showSingleBuy"),1==txv.cookie.get("vip_singlebuy")&&(s(),txv.cookie.del("vip_singlebuy"))),u))};a.on("vidChanged",function(t){u="",f="",l=i.getTryTime(t.trytime,t.trytime_second),d="未知时间"===l?"试看中，":"可试看"+l+"，"}),t.exports=g},function(t,e){if((txv.ua.windows||txv.ua.macs&&!txv.util.useHtml5())&&window.player_time_speed&&window.player_time_speed.start>0){var n=window.PageMessage,i=0,o=function(t){txv.login.isLogin()?txv.vip.getVipInfo().done(function(e){i=1==e.vip?2:1,t&&t()}).fail(function(){i=1,t&&t()}):(i=0,t&&t())},a=function(t){var e={BossId:3699,Pwd:1439649858,type:COVER_INFO.type,pageType:5,usertype:i,playertype:"",ua:navigator.userAgent,url:document.URL||document.location.href};PLAYER&&(e.playertype=PLAYER.getPlayerType()),e=$.extend(e,t),e=$.param(e);var n=["//btrace.video.qq.com/kvcollect?",e,"&_=",Math.ceil(1e3*Math.random())].join("");txv.report(n)},r=function(){var t=!1;n.wait("tvp-playing",function(){t||(a({timeType:2,time:window.player_time_speed.firstPic-window.player_time_speed.start}),a({timeType:1,time:window.player_time_speed.playerInit-window.player_time_speed.start}),a({timeType:3,time:window.player_time_speed.end-window.player_time_speed.start}),a({timeType:4,time:window.player_time_speed.js}),a({timeType:5,time:window.player_time_speed.firstPic-window.player_time_speed.playerInit}),t=!0)})};txv.login.addReadyCallback(function(){o(r)})}},function(t,e,n){var i=n(43),o=n(32),a=n(91),r=n(52),s=n(120),c=window.PageMessage,l={succ:"即将为你打开客户端下载该视频",fail:"下载需要先安装客户端，即将为你下载客户端"};t.exports=Reve.component("c-oper-download",{data:function(){var t=COVER_INFO,e=!t.type||r.hasRight(t.downright);return{title:VIDEO_INFO.title,pic:VIDEO_INFO.pic160x90,isWin:txv.ua.windows,right:e,open:!1,hasTip:!1,clientText:""}},ready:function(){var t=this;t.$data.isWin&&(txv.clipboard.to({el:t.$el,text:"qqlivechannel=channel1.vxiazai"}),c.on("vidChanged",function(e){$(t.$el).find("._vd_item").html(i(t,s,{video:e}))}))},methods:{download:function(){var t=this;this.$data.clientText||this.$data.right&&(o.click("oper-down:click"),a.download("web.vxiazai").then(function(){t.setClientText(l.succ)},function(){t.setClientText(l.fail)}))},enter:function(){o.event("oper-down"),this.$set({open:!0})},leave:function(){this.$set({open:this.hasTip||!1,clientText:""}),this.clientTimer&&clearTimeout(this.clientTimer)},setClientText:function(t){var e=this;this.$set("clientText",t),this.clientTimer&&clearTimeout(this.clientTimer),this.clientTimer=setTimeout(function(){e.leave()},5e3)}}})},function(module,exports){module.exports=function(d){with(d)return'<div class="vd_pic">\n    <img src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png" r-lazyload="'+_.imgUrl(video.pic160x90)+'" onerror="picerr(this,\'h\')" alt="'+_(video.title)+'">\n</div>\n<div class="vd_info">\n    <div class="tit">'+_(video.title)+"</div>\n</div>\n"}},function(t,e,n){var i=n(32);t.exports=Reve.component("c-oper-give",{ready:function(){this.qrcode()},methods:{qrcode:function(){var t="http://film.qq.com/weixin/givemovie.html?cid="+COVER_INFO.id;if(txv.login.isLogin())if("wx"===txv.login.getLoginType()){var e=txv.login.getWxAuthCookies();t+="&appid="+e.appid+"&openid="+e.openid}else t+="&uin="+txv.login.getUin();var n="//pay.video.qq.com/fcgi-bin/qrencode?isNeedShort=1&size=150&url="+encodeURIComponent(t);$("#give-qrcode").attr("src",n)},showPop:function(){i.event("oper-give"),$(this.$el).addClass("open")},hidePop:function(){$(this.$el).removeClass("open")}}})},function(t,e,n){var i,o=n(32),a=n(52),r=window.PageMessage,s=n(123),c=!0;t.exports=Reve.component("c-oper-playnum",{ready:function(){i=$(this.$el),4==COVER_INFO.typeid&&r.on("vidChanged",function(t){$.ajax({url:"//union.video.qq.com/fcgi-bin/data?tid=376&&appid=20001212&appkey=b4789ed0ec69d23a&otype=json",data:{idlist:t.vid},dataType:"jsonp"}).done(function(t){$("#mod_cover_playnum").text(a.formatNum(t.results[0].fields.view_all_count))})})},methods:{refreshPlaynum:function(){s.getCoverDetail(COVER_INFO.id,function(t){var e={_cover_today:t.tdnumc,_cover_total:t.allnumc,_zp_today:t.tdnumc_m,_zp_total:t.allnumc_m,_zb_today:t.tdnumc-t.tdnumc_m,_zb_total:t.allnumc-t.allnumc_m};t.column&&t.column.c_column_view&&(e._column_today=t.column.c_column_view.c_tdnumc,e._column_total=t.column.c_column_view.c_allnumc),t.allnumc>0&&s.sameCover(t.allnumc);for(var n in e){var o=e[n]>0?a.formatNum(e[n]):0;i.find("."+n).html(o)}c=!1})},showPop:function(){c&&4!=COVER_INFO.typeid&&this.refreshPlaynum(),$(this.$el).addClass("open"),o.event("oper-playnum")},hidePop:function(){$(this.$el).removeClass("open")}}})},function(t,e,n){var i=n(52),o=(window.PageMsg,{}),a=!1,r=!1,s={init:function(){s.getCovers([COVER_INFO.id],function(t){t.length>0&&t[0].fields&&t[0].fields.view_all_count&&$("#mod_cover_playnum").html(i.formatNum(t[0].fields.view_all_count))});var t=[];$("._video_playnum").each(function(){t.push($(this).attr("data-id"))});if(t.length>30)for(var e=0;e<Math.ceil(t.length/30);e++){var n=30*e,o=30*(e+1);o=o>t.length?t.length:o,s.getVideos(t.slice(n,o),s.renderVideoPlaynum)}else t.length>0&&s.getVideos(t,s.renderVideoPlaynum)},renderVideoPlaynum:function(t){for(var e=0;e<t.length;e++)if(t[e].fields){var n=t[e].id,o=$("#"+n).find("._video_playnum"),a=t[e].fields.view_all_count;if(0==o.size())continue;o.html(i.formatNum(a)),o.attr("data-fresh",1)}},getVideos:function(t,e){if(t&&0!=t.length){if(a)return void setTimeout(function(){s.getVideos(t,e)},50);for(var n=[],i=[],r=0,c=t.length;r<c;r++){var l=t[r];"undefined"!=typeof o[l]?n.push({id:l,fields:{view_all_count:o[l]}}):i.push(l)}if(0==i.length)return void(e&&e(n));a=!0,$.ajax({url:"//union.video.qq.com/fcgi-bin/data?tid=376&&appid=20001212&appkey=b4789ed0ec69d23a&otype=json",data:{idlist:i.join(",")},dataType:"jsonp"}).done(function(t){if(0==t.errorno&&t.results&&t.results.length>0){for(var i=t.results,a=0;a<i.length;a++)i[a].fields&&(o[i[a].id]=i[a].fields.view_all_count);var r=t.results;n.length>0&&(r=n.concat(r)),e&&e(r)}}).always(function(){a=!1})}},getCovers:function(t,e){if(t&&0!=t.length){if(r)return void setTimeout(function(){s.getCovers(t,e)},50);for(var n=[],i=[],a=0,c=t.length;a<c;a++){var l=t[a];"undefined"!=typeof o[l]?n.push({id:l,fields:{view_all_count:o[l]}}):i.push(l)}if(0==i.length)return void(e&&e(n));r=!0,$.ajax({url:"//union.video.qq.com/fcgi-bin/data?tid=613&&appid=20001212&appkey=b4789ed0ec69d23a&otype=json",data:{idlist:i.join(",")},dataType:"jsonp"}).done(function(t){if(0==t.errorno&&t.results&&t.results.length>0){for(var i=t.results,a=0;a<i.length;a++)i[a].fields&&(o[i[a].id]=i[a].fields.view_all_count);var r=t.results;n.length>0&&(r=n.concat(r)),e&&e(r)}}).always(function(){r=!1})}},getCoverDetail:function(t,e){$.ajax({url:"//union.video.qq.com/fcgi-bin/data?tid=70&&appid=20001212&appkey=b4789ed0ec69d23a&otype=json",data:{idlist:t},jsonpCallback:"playnumCoverDetailCb",dataType:"jsonp"}).done(function(t){0==t.errorno&&t.results&&t.results[0]&&t.results[0].fields&&e&&e(t.results[0].fields)}).fail(function(){})},sameCover:function(t){t="number"==typeof t&&t>0?i.formatNum(t):0,$("#mod_cover_playnum").html(t),$("._cover_total").html(t),$("#cover_list").find("[data-cid='"+COVER_INFO.id+"']").find(".num").html(t),$("#mod_column_year").find("[data-cid='"+COVER_INFO.id+"']").find(".num").html(t)}};t.exports=s},function(t,e,n){var i=window.PageMessage,o=n(52),a=n(32),r=null,s=$("#qrcode"),c=null;t.exports=Reve.component("c-oper-qrcode",{data:function(){return{title:VIDEO_INFO.title,time:"00:00",showing:!1,istinyapp_qr:!0,pt:0}},ready:function(){var t=this;txv.login.isQQLogin()&&txv.vip.getVipInfo().done(function(e){1==e.vip&&t.$set({istinyapp_qr:!0})}),i.on("vidChanged",function(e){t.$data.title=e.title,t.$data.time="00:00",t.$data.vid=e.vid,t.$update(),s.empty(),r=null,t.$data.showing&&t.makeQrcode(e.vid,!0)}),i.on("tvp-timeupdate",function(e){t.$data.time=o.showTime(e),t.$data.pt=e})},methods:{showPop:function(){this.makeQrcode(),this.$set({showing:!0}),a.event("oper-qrcode")},hidePop:function(){this.$set({showing:!1}),c&&clearTimeout(c)},makeQrcode:function(t,e){var n=this.$data.vid||VIDEO_INFO.vid;this.$data.istinyapp_qr?this.qrcode_tinyapp(n):this.qrcode_h5(n,e)},qrcode_h5:function(t,e){if(window.QRCode&&(!r||e)){var n="https://m.v.qq.com/play.html?goapp=849&ptag=849&vid="+t;COVER_INFO.id&&(n+="&cid="),s.size()>0&&(r=new QRCode(s[0],{text:n,width:100,height:100,colorDark:"#000000",colorLight:"#ffffff",center:!1,correctLevel:QRCode.CorrectLevel.M}))}},qrcode_tinyapp:function(t){var e=this,n="//node.video.qq.com/x/qrcode/?ptag=vplay&width=100&lifespan=300&vid="+t+(COVER_INFO.id?"&cid="+COVER_INFO.id:"")+"&seek="+e.$data.pt;e.loadImg(n,function(){$("#qrcode").find("img").length>0?$("#qrcode").find("img")[0].src=n:$("#qrcode").append("<img src='"+n+"'/><span class='qr_pic_hint'>扫码分享到微信</span>")},function(){e.$data.istinyapp_qr&&(e.$set({istinyapp_qr:!1}),$("#qrcode").html("").removeClass("qr_pic_tinyapp")),e.qrcode_h5(t)}),e.updateTinyAppQRTimer(240)},loadImg:function(t,e,n){var i=new Image,o=!1;i.onload=function(){o=!0,e&&e()},i.onerror=function(){n&&n()},i.src=t,setTimeout(function(){o||n&&n()},700)},updateTinyAppQRTimer:function(t){var e=this;c&&clearTimeout(c),c=setTimeout(function(){e.makeQrcode()},1e3*t)}}})},function(t,e,n){var i,o=window.PageMessage,a=n(32),r=n(52),s=n(126);txv.ua.ie||(i=n(127));var c=COVER_INFO,l=VIDEO_INFO,d=l.vid,u=r.listStyleTitle(l,c),p=null,f=$("#mod_shares_qrcode"),v=["tipsHtml","tipsCommon"];t.exports=Reve.component("c-oper-share",{data:function(){return{showAll:!0,shareFlash:document.URL,shareHtml:document.URL,shareCommon:document.URL,tipsHtml:!1,tipsCommon:!1}},ready:function(){this.timer=this.timer||[];var t=this;t.initShareBtn(),t.setShareCodeText(l),o.emit("shareInited"),o.on("vidChanged",function(e){d=e.vid,u=e.title,t.setShareCodeText(e),f.empty(),p=null}),txv.login.addReadyCallback(function(){txv.login.isWxLogin()&&t.setQQRelateState()}),txv.login.addLogoutCallback(function(){t.setQQRelateState(!0)}),txv.login.addLoginCallback(function(){txv.login.isWxLogin()&&t.setQQRelateState()}),t.clipboard=new i("._share_codes"),t.clipboard.on("success",function(e){t.showTips($(e.trigger).attr("data-index"))}),t.clipboard.on("error",function(){txv.tips.FloatWarning({title:"操作提示",desc:"您使用的浏览器不支持此复制功能，请使用"+(txv.ua.macs?"command+c":"Ctrl+C或鼠标右键。")})}),$(t.$el).on("click",".btn_share",function(){console.log("btn_share_click"),o.emit("tvp-shareBtnClick")}),location.href.indexOf("JIKE=share")>-1&&t.showPop()},methods:{showPop:function(){this.setWxQrcode(),$(this.$el).addClass("open"),a.event("oper-share")},hidePop:function(){$(this.$el).removeClass("open")},setQQRelateState:function(t){this.$data.showAll=t,this.$update()},copyShareTxt:function(t){if(!i){var e=this,n=t?this.$data.shareCommon:this.$data.shareHtml;window.clipboardData?(window.clipboardData.setData("text",n),e.showTips(t)):txv.tips.FloatWarning({title:"操作提示",desc:"您使用的浏览器不支持此复制功能，请使用"+(txv.ua.macs?"command+c":"Ctrl+C或鼠标右键。")})}},showTips:function(t){var e=this;this.$set(v[t],!0),this.timer[t]&&clearTimeout(this.timer[t]),this.timer[t]=setTimeout(function(){e.$set(v[t],!1)},1e3)},setWxQrcode:function(t){if(!p||t){var e=txv.util.addUrlParam({ptag:"1.wechat",_out:10,__t:1},this.getVidLink());window.QRCode&&f.size()>0&&(p=new QRCode(document.getElementById("mod_shares_qrcode"),{text:e,width:100,height:100,colorDark:"#000000",colorLight:"#ffffff",center:!1,correctLevel:QRCode.CorrectLevel.M
}))}},setShareCodeText:function(t){var e=this,n=t.vid,i=location.protocol+"//imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?max_age=86400&v=20161117&vid="+n+"&auto=0";e.getVidIdx(n)>0&&(i+="&attstart="+t.piantou||t.playStartTime+"&attend="+t.pianwei||t.playEndTime+"&duration="+t.duration),e.$data.shareFlash=i,e.$data.shareHtml=location.protocol+"//v.qq.com"+r.playUrl(COVER_INFO&&COVER_INFO.cover_id,n),e.$data.shareCommon='<iframe frameborder="0" src="'+location.protocol+"//v.qq.com/txp/iframe/player.html?vid="+n+'" allowFullScreen="true"></iframe>',e.$update()},getVidIdx:function(t){return t.indexOf("_")<0?0:parseInt(t.split("_")[1])},getVidLink:function(){return location.href},initShareBtn:function(){var t=this,e={$el:$(t.$el).find("#mod_shares"),targetName:"VShare",getPic:function(){return-1!=$.inArray(COVER_INFO.typeid,[1,2,3,39,106])?COVER_INFO.pic?COVER_INFO.pic.replace("_h",""):"":txv.util.getVideoSnap(d,t.getVidIdx(d))},getLink:function(e){return t.getVidLink()},getDesc:function(t){var n=document.title,i=$(t).data("share-type"),o=u,a=e.getLink(),r=[e.platform,i].join(".");if("qq"==i)n=e.getTitle(t),-1==$.inArray(COVER_INFO.typeid,[1,2,3,9,10,106])&&(n=$.trim(n.replace(COVER_INFO.title,"")));else{if("qzone"==i)return"";COVER_INFO.title?(n="我正在看#"+COVER_INFO.title+"# ",1==COVER_INFO.typeid?n+=COVER_INFO.secTitle||"":(0==o.indexOf(COVER_INFO.title)&&(o=$.trim(o.replace(COVER_INFO.title,""))),n+=o)):n="我正在看#"+o+"#",-1==a.indexOf("ptag")&&(a=a+(-1==a.indexOf("?")?"?":"&")+"ptag="+encodeURIComponent(r)),n+=" "+a}return n},getTitle:function(t){var e=document.title,n=$(t).data("share-type");switch(n){case"wechat":c.isExclusive&&(e=$("#h1_title").text()+"【腾讯视频全网独播】 - 高清在线观看 - 腾讯视频");break;case"qq":var i=u;e=c.title||e,0!=i.indexOf(c.title)?e+=" "+i.replace(c.varietyDate,""):e=i,c.isExclusive&&(e+="【腾讯视频全网独播】");break;case"qzone":var o=u;e=c.title||"",0!=o.indexOf(c.title)?e+=" "+o:e=c.secTitle?o+" "+c.secTitle:o,c.isExclusive&&(e+="【腾讯视频全网独播】");break;case"douban":case"tencentweibo":case"sinaweibo":var a=c.title||l.title,o=u;c.varietyDate&&(a=a.replace(c.varietyDate,"")),e="我正在看#"+$.trim(a)+"#",o&&o!=c.title?(0==o.indexOf(c.title)&&(o=$.trim(o.replace(c.title,""))),e+=" "+o):c.secTitle&&1!=c.typeid&&(e+=" "+c.secTitle),1==c.typeid&&c.secTitle&&(e+=" "+c.secTitle),c.isExclusive&&(e+="【腾讯视频全网独播】"),"douban"!=n&&(e+=" @腾讯视频")}return e},getSummary:function(){return c.brief?c.brief.replace("[正统看点]",""):c.secTitle||""}};s(e),txv.share={init:s}}}})},function(t,e){var n={pic:"",$el:$("body"),getLink:function(){},getTitle:function(){},getPic:function(){},getSummary:function(){},getDesc:function(){},onShare:function(){},platform:1,ver:"1",targetName:""},i={sinaweibo:"http://service.weibo.com/share/share.php?appkey=3362463736&",douban:"http://shuo.douban.com/!service/share?",qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",tencentweibo:"http://share.v.t.qq.com/index.php?c=share&a=index&",qq:"http://connect.qq.com/widget/shareqq/index.html?",wechat:"http://v.qq.com/share/weixin.html?"},o={101:"QQ空间",102:"腾讯微博",1:"新浪微博",4:"豆瓣",9:"QQ",10:"微信"},a="share-type";t.exports=function(t){function e(t,e){var n=[],o=d.platform;o+="tencentweibo"==t?"weibo":"sinaweibo"==t?"sina":t;for(var a in e)e[a]&&n.push(a+"="+encodeURIComponent(e[a]));return i[t]+n.join("&")}function r(t){return d.getTitle(t)||document.title}function s(t){var e=d.getLink(t)||window.location.href,n="__t="+d.ver,i=d.platform+".",o=$(t).data(a);return i+="tencentweibo"==o?"weibo":"sinaweibo"==o?"sina":o,-1==e.indexOf("ptag")&&(n+="&ptag="+encodeURIComponent(i)),e=e+(-1==e.indexOf("?")?"?":"&")+n}function c(t){return"function"==typeof d.getPic?d.getPic(t)||d.pic:d.pic}function l(t,e,n){var i=txv.login.getUin(),a=o[n],r=new Date;t=t||"",e=e||"",i=txv.login.getUin();var s={uin:i,ver:e,idx:1,val:1,val2:n,itype:1,ctype:3,host:window.location.host,url:t,str1:"腾讯视频",str2:a,t:r.valueOf()};(new Image).src="http://rcgi.video.qq.com/web_report?cmd=2554&"+$.param(s)}var d=$.extend({},n);$.extend(d,t),txv.ua.isiPad&&(d.platform=0);var u={sinaweibo:function(t){var n={url:s(t),title:r(t),pic:c(t),content:"utf-8"};n.url+=-1==n.url.indexOf("?")?"?_out=1":"&_out=1";var i=e("sinaweibo",n);l(n.url,n.title,1),d.targetName?window.open(i,d.targetName,"height=650,width=608,top=100,left=200,toolbar=no,menubar=no,resizable=yes,location=yes,status=no"):window.open(i,"_blank")},tencentweibo:function(t){var n={site:"http://"+document.location.host,url:s(t),title:r(t),pic:c(t),appkey:encodeURI("13301e141c1842958e441f59af5798ee")};n.url+=-1==n.url.indexOf("?")?"?_out=102":"&_out=102";var i=e("tencentweibo",n);l(n.url,n.title,102),d.targetName?window.open(i,d.targetName,"height=650,width=608,top=100,left=200,toolbar=no,menubar=no,resizable=yes,location=yes,status=no"):window.open(i,"_blank")},qzone:function(t){var n={site:"腾讯视频",url:s(t),title:r(t),desc:d.getDesc(t),pics:c(t)};n.url+=-1==n.url.indexOf("?")?"?_out=101":"&_out=101";var i=e("qzone",n);l(n.url,n.title,101),d.targetName?window.open(i,d.targetName,"height=650,width=608,top=100,left=200,toolbar=no,menubar=no,resizable=yes,location=yes,status=no"):window.open(i,"_blank")},douban:function(t){var n={href:s(t),name:r(t),image:c(t)};n.href+=-1==n.href.indexOf("?")?"?_out=4":"&_out=4";var i=e("douban",n);l(n.href,n.name,4),d.targetName?window.open(i,d.targetName,"height=400,width=608,top=100,left=200,toolbar=no,menubar=no,resizable=yes,location=yes,status=no"):window.open(i,"_blank")},qq:function(t){var n=r(t),i={url:s(t),desc:d.getDesc(t)||n,title:n,summary:d.getSummary(t)||n,pics:c(t),site:"腾讯视频",style:"203",width:16,height:16};i.url+=-1==i.url.indexOf("?")?"?_out=9":"&_out=9";var o=e("qq",i);l(i.url,i.title,9),d.targetName?window.open(o,d.targetName,"height=650,width=745,top=100,left=200,toolbar=no,menubar=no,resizable=yes,location=yes,status=no"):window.open(o,"_blank")},wechat:function(t){var n={url:s(t),title:r(t)};n.url+=-1==n.url.indexOf("?")?"?_out=10":"&_out=10";var i=e("wechat",n);l(n.url,n.title,10),window.open(i,"_blank")}},p="[data-"+a+"]";d.$el.off("click",p).on("click",p,function(t){var e=this,n=$(e).data(a),i=u[n];i&&(i(e),d.onShare(n))})}},function(t,e,n){var i,o,a;!function(r,s){o=[t,n(128),n(130),n(131)],i=s,(a="function"==typeof i?i.apply(e,o):i)!==undefined&&(t.exports=a)}(0,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=o(e),d=o(n),u=o(i),p=function(t){function e(n,i){a(this,e);var o=r(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return s(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,u["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return c("action",t)},e.prototype.defaultTarget=function(t){var e=c("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return c("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(d["default"]);t.exports=p})},function(t,e,n){var i,o,a;!function(r,s){o=[t,n(129)],i=s,(a="function"==typeof i?i.apply(e,o):i)!==undefined&&(t.exports=a)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{"default":t}}(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,i["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=undefined;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},a(t,[{key:"action",set:function(){var t=arguments.length<=0||arguments[0]===undefined?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(t!==undefined){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=r})},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),o=document.createRange();o.selectNodeContents(t),i.removeAllRanges(),i.addRange(o),e=i.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var a=0,r=i.length;a<r;a++)i[a].fn!==e&&i[a].fn._!==e&&o.push(i[a]);return o.length?n[t]=o:delete n[t],this}},t.exports=n},function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return o(t,e,n);if(s.nodeList(t))return a(t,e,n);if(s.string(t))return r(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function a(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function r(t,e,n){return c(document.body,t,e,n)}var s=n(132),c=n(133);t.exports=i},function(t,e){e.node=function(t){return t!==undefined&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return t!==undefined&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){function i(t,e,n,i,o){var r=a.apply(this,arguments);return t.addEventListener(n,r,o),{destroy:function(){t.removeEventListener(n,r,o)}}}function o(t,e,n,o,a){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,o,a)}))}function a(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}var r=n(134);t.exports=o},function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=n},function(t,e,n){var i=n(2),o=n(43),a=n(32),r=n(3),s=n(60),c=n(27),l=n(136),d=window.PageMessage,u=r({data:{complain:{type:"request",action:{url:"jsonp://access.video.qq.com/fcgi/inform?vappid=09693353&vsecret=6de1b046b48e5d3030f6e41a422681fc27b26cb9c597644d&from=2"}}},render:function(t){var e=t&&t.complain,n=c(e,"ret");if(0==n&&0==c(e,"data.err_code"))return!0;var i=new Error;throw i.code=n||-100,i}}),p=r({data:{code:{type:"request",action:{url:"jsonp://access.video.qq.com/fcgi/inform_captcha?vappid=09693353&vsecret=6de1b046b48e5d3030f6e41a422681fc27b26cb9c597644d&from=2"}}},render:function(t){var e=t&&t.code,n=c(e,"ret");if(0==n&&0==c(e,"data.err_code"))return c(e,"data.need_captcha");var i=new Error;throw i.code=n||-100,i}});t.exports=s("c-oper-complaints",{data:function(){return{show:!1,curId:-1,tipShow:!1,codeShow:!1,msg:""}},watch:{tipShow:function(t){t&&this.hidePanel()},codeShow:function(t){t&&this.hidePanel()}},ready:function(){var t=this,e="";/^https/.test(window.location.protocol)&&(e="ssl."),$.getScript("//"+e+"captcha.qq.com/template/TCapIframeApi.js?aid=2000000009&rand=12&clientype=2&lang=2052&apptype=1&captype=4&disturblevel=1",function(){var e=$(t.$el);t.capInit=window.capInit,t.capDestroy=window.capDestroy,e.append(o(t,l,{list:[{text:"广告"},{text:"时政反动"},{text:"色情低俗"},{text:"暴力血腥"},{text:"违法犯罪"},{text:"标题夸张"},{text:"文不对题"},{text:"欺诈恶意营销"},{text:"其他"}]}))});var n=function(e){t.vid=e.vid};n(VIDEO_INFO),d.wait("vidChanged",function(){d.on("vidChanged",n),n.apply(this,arguments)}),$(document).bind("click",function(){t.hidePanel()})},methods:{toggle:function(){var t=this,e=t.$data;e.tipShow||e.codeShow||(a.click("complaint:panel"),t.set({show:!e.show}))},notHide:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},select:function(t,e){return function(){var n=this;a.click("complaint:select"),n.set({curId:t}),n.text=e}},submit:function(){var t=txv.login;if(!t.isLogin())return void t.openLogin();var e=this,n=$(e.$el),o=e.text,r=e.vid;o&&r&&(a.click("complaint:submit"),e.text=0,e.set({show:!1,curId:-1}),p({vid:r}).then(function(t){var a={vid:r,inform_text:o};if(t){var s=n.find("._code");return e.set({codeShow:!0}),e.capDestroy(),new i(function(t){e.capInit(s.get(0),{showHead:!1,type:"embed",callback:function(n){e.set({codeShow:!1}),0==n.ret&&(a.randstr=n.randstr,a.ticket=n.ticket,t(u(a)))}})})}return u(a)}).then(function(){e.showMsg("感谢你的反馈")})["catch"](function(t){var n=t.code;+n&&e.showMsg("举报遇到点问题("+n+")")}))},showMsg:function(t){var e=this;e.set({msg:t,tipShow:!0}),setTimeout(function(){e.set({tipShow:!1})},2e3)},close:function(){this.set({codeShow:!1})},hidePanel:function(){this.set({show:!1})}}})},function(module,exports){module.exports=function(d){with(d)return'<div class="mod_pop_action mod_pop_action_more">\n    <div class="mod_pop_action_section">\n        <div class="mod_more_pop">\n            <div class="more_pop_info" r-show="{show}">\n                <div class="pop_option_title">举报视频</div>\n                '+(list||[]).map(function(t,e){return'\n                <div class="pop_option" r-on="{click:select('+e+", '"+t.text+'\')}" r-class="{current: curId == '+e+'}">\n                    <i class="icon_sm icon_radio_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use class="svg_use_false" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_radio_sm"></use><use class="svg_use_true" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_radio_true_sm"></use></svg></i>\n                    <span class="icon_text">'+t.text+"</span>\n                </div>\n                "}).join("")+'\n                <a href="javascript:;" class="pop_btn_em" r-on="{click:submit}" r-class="{disabled: curId < 0}">提交</a>\n            </div>\n            <div class="more_pop_result" r-show="{tipShow}" r-text="inner">{msg}</div>\n        </div>\n    </div>\n</div>\n<div class="mask_layer" r-show="{codeShow}"></div>\n<div class="x_modal" style="z-index:9999" r-show="{codeShow}">\n    <div class="x_modal_bd">\n        <a href="javascript:;" class="x_close" r-on="{click:close}"><i class="x_iconfont x_icon_close"></i></a>\n        <div class="captcha_continaer _code"></div>\n    </div>\n</div>'}},function(t,e,n){var i,o=n(43),a=n(32),r=window.PageMessage;t.exports=Reve.component("c-big-background",{ready:function(){this.getColumns(COVER_INFO.type)},methods:{getColumns:function(t){if(t){var e={};switch(t){case 2:e.report="web.tv",e.vsite="tv",e.ename="tv_player_bgpic";break;case 10:e.report="web.variety.bgpic",e.vsite="variety",e.ename="var_player2_bgpic";break;case 22:e.vsite="mv",e.ename="mv_ad_banner"}var n=this;$.ajax({url:"//data.v.qq.com/videocms/getNewsvideoList.php?ref=pclient&appkey=6UkwV9DeHr9_PC",data:e,jsonpCallback:"player2Bgpic",dataType:"jsonp"}).done(function(e){if(e&&e.data&&e.data.content&&e.data.content.length>0){var i=e.data.content;if(10==t){for(var o=0;o<i.length;o++)if(COVER_INFO.column_id+""==i[o].column_id+"")return void n.show(i[o])}else if(2==t||22==t)for(var o=0;o<i.length;o++)if("column"==i[o]._type?COVER_INFO.column_id+""==i[o].column_id+"":COVER_INFO.cover_id==i[o].cid)return void n.show(i[o])}$(n.$el).remove()}).fail(function(){$(n.$el).remove()})}},player_ad_width:function(){var t=document.documentElement.clientWidth;t<1340?i.removeClass("player_bg_ad_ms").removeClass("player_bg_ad_mms").addClass("player_bg_ad_xs"):t<1600?i.removeClass("player_bg_ad_xs").removeClass("player_bg_ad_mms").addClass("player_bg_ad_ms"):t<1820?i.removeClass("player_bg_ad_xs").removeClass("player_bg_ad_ms").addClass("player_bg_ad_mms"):i.removeClass("player_bg_ad_xs").removeClass("player_bg_ad_ms").removeClass("player_bg_ad_mms")},hide:function(){$(this.$el).hide()},show:function(t){var e=this,s=t.invalid_time;if(s&&(s=s.replace("-","/"),(new Date).getTime()>new Date(s).getTime()))return void e.hide();var c=n(138);t.pic_url=t.pic_url||"",t.tidbits_pic=t.tidbits_pic||"",t.interview_pic=t.interview_pic||"",t.streetsnap_pic=t.streetsnap_pic||"";var l=o(e,c,t);i=$(e.$el),i.html(l),$("html").hasClass("lte_ie8")&&(e.player_ad_width(),$(window).resize(function(){e.player_ad_width()})),i.show(),a.event("ads-big-background");var d=!1;r.on("flash_action",function(t){if(t&&2==t.cmd)if(t.tohide){if("none"==$(".player_bg_ad_inner").css("display"))return;$(".player_bg_ad_inner").css("display","none"),d=!0}else d&&(d=!1,$(".player_bg_ad_inner").get(0).style.cssText="")}),r.waitandon("vidChanged",function(t){d&&(d=!1,$(".player_bg_ad_inner").get(0).style.cssText="")})}}})},function(module,exports){module.exports=function(d){with(d)return'<div class="player_bg_ad_inner">\n\t'+(function(){if(pic_url.length)return'<div class="bg_1"><img src="'+_.imgUrl(pic_url)+'" alt="背景图" /></div>'}()||"")+"\n\t"+(function(){if(tidbits_pic.length)return'<div class="bg_2"><img src="'+_.imgUrl(tidbits_pic)+'" alt="背景图"/></div>'}()||"")+"\n\t"+(function(){if(interview_pic.length)return'<div class="bg_3"><img src="'+_.imgUrl(interview_pic)+'" alt="背景图" /></div>'}()||"")+"\n\t"+(function(){if(streetsnap_pic.length)return'<div class="bg_4"><img src="'+_.imgUrl(streetsnap_pic)+'" alt="背景图"/></div>'}()||"")+'\n    <i class="mark_v"><img r-lazyload="//i.gtimg.cn/qqlive/images/mark/mark_11.png" alt="广告" /></i>\n    <a href="javascript:" class="player_bg_ad_close" r-on="{click: hide}">关闭</a>\n</div>\n'}},function(t,e,n){var i=n(94),o=n(99),a=n(97),r=n(140),s=n(143),c=n(145),l=n(146),d=n(147),u=n(87),p=n(32),f=n(2);t.exports=Reve.component("c-vip",{ready:function(){var t=this;"undefined"==typeof $.pay?$.getScript("//vm.gtimg.cn/tencentvideo_v1/script/vip.minipay.js?date=20160913",function(){t.buildVipSection()}):this.buildVipSection(),txv.login.addLoginCallback(function(){try{t.buildVipSection()}catch(e){console.log(e)}}),txv.login.addLogoutCallback(function(){try{t.buildVipSection()}catch(e){console.log(e)}}),txv.buildVipSection=this.buildVipSection,this.checkScroll(),"0o3n651vzynmbek"===COVER_INFO.id&&7==COVER_INFO.pay_status&&(COVER_INFO.isDisneyPack=!0)},methods:{buildVipSection:function(){u.clearCache();var t=this,e=function(){t.eventAndQr()};txv.vip.isvip=!1;var n=new f(function(t,e){u.getButtonConfig(function(e){t(e)})}),o=new f(function(t,e){u.getOpenVIPAD(function(e){t(e)})}),a=new f(function(t,e){u.getEventText(function(e){t(e)})}),p=new f(function(t,e){if(txv.login.isLogin()){var n=txv.login.getLoginType();txv.vip.getVipInfo().done(function(e){e.isLogin=!0,e.loginType=n,t(e)}).fail(function(){t({vip:0,isLogin:!0,loginType:n})})}else t({vip:0,isLogin:!1,loginType:""})});f.all([n,o,a,p]).then(function(n){var o={openConfig:n[0],tipsText:n[2]?n[2]:n[1],isCommTips:!!n[2]};if(COVER_INFO.is_trailer>0&&u.isLateDate(COVER_INFO.hollywood_online))return void r(t,n[3],o,e);COVER_INFO.pay_status==i.SINGLE_BUY?c(t,n[3],o,e):COVER_INFO.pay_status==i.VIP_MONTHLY?d(t,n[3],o,e):COVER_INFO.pay_status==i.VIP_ONLY?l(t,n[3],o,e):COVER_INFO.pay_status==i.VIP_TICKET&&s(t,n[3],o,e)})["catch"](function(t){})},__tenplay_hidePayTips:function(){hideBasePayTip&&$("#poptip").remove();try{for(var t in WEBSOCKS)WEBSOCKS.hasOwnProperty(t)&&WEBSOCKS[t].close()}catch(e){}},vipPayRefreshHandler:function(){return txv.login.isLogin()?(setTimeout(function(){window.location.reload()},1e3),this.__tenplay_hidePayTips(),!1):(txv.login.openLogin({success:function(){setTimeout(function(){window.location.reload()},1e3)}}),this.__tenplay_hidePayTips(),!1)},checkScroll:function(){setTimeout(function(){var t=$("#video_scroll_wrap");t.scroll(function(){t.scrollTop()>100?t.prev().addClass("vip_show"):t.prev().removeClass("vip_show")})},500)},eventAndQr:function(){var t=this,e=($(this.$el),!!$("#_vip_player_sec").html());setTimeout(function(){if($(".vip_qr_hover").unbind("mouseover").bind("mouseover",function(){$(this).siblings(".vip_qr_pop").removeClass("none")}).unbind("mouseout").bind("mouseout",function(){$(this).siblings(".vip_qr_pop").addClass("none")}),$(".vip_minipay_click").length>0&&$(".vip_minipay_click").unbind("click").bind("click",function(){var t=$(this),e=9;"player_rightpanel"===t.attr("_stat")&&(e=9,p.click(COVER_INFO.typeid+"_vip_rightpanel:openMinipay"),u.openReport({f_event:"click"}));var n={_source:e,_scene:8,_cid:COVER_INFO.id,_vid:VIDEO_INFO.vid,aid_version:"V0"};return u.isNewQQLogin()?txv.login.isLogin()?$.pay(n):txv.login.openPayLogin({success:function(){txv.vip.getVipInfo().done(function(t){t.vip||"qq"!=txv.login.getLoginType()?t.vip&&"wx"==txv.login.getLoginType()&&txv.login.bye_login():$.pay(n)})}}):!txv.login.isLogin()||"qq"==txv.login.getLoginType()&&txv.login.isLowLogin()?txv.login.openPayLogin({isLowLogin:txv.login.isLowLogin(),success:function(){txv.vip.getVipInfo().done(function(t){t.vip||"qq"!=txv.login.getLoginType()?t.vip&&"wx"==txv.login.getLoginType()&&txv.login.bye_login():$.pay(n)})}}):$.pay(n),!1}),txv.cookie.get("vip_minipay")&&($(".vip_minipay_click").length>0||1===$("#vip_qrcode_img").length)){var n={_source:10,_scene:8,_cid:COVER_INFO.id,_vid:VIDEO_INFO.vid,aid_version:"V0"};txv.cookie.get("vip_minipay_aid")&&(n._source=txv.cookie.get("vip_minipay_aid")),$.pay(n)}$(".vip_ticket_click").length>0&&($(".vip_ticket_click").unbind("click").bind("click",function(){return u.isNewQQLogin()?txv.login.isLogin()?a(null,!1):txv.login.openPayLogin({success:function(){txv.cookie.set("vip_useticket","1"),window.location.reload()}}):txv.login.getLoginType()&&txv.login.isStrongLogin()?a(null,!1):txv.login.openPayLogin({isLowLogin:txv.login.isLowLogin(),success:function(){txv.cookie.set("vip_useticket","1"),window.location.reload()}}),!1}),txv.cookie.get("vip_useticket")&&a(null,!1)),$(".vip_singlebuy_click").length>0&&($(".vip_singlebuy_click").unbind("click").bind("click",function(){return u.isNewQQLogin()?txv.login.isLogin()?o():txv.login.openPayLogin({success:function(){txv.cookie.set("vip_singlebuy","1"),window.location.reload()}}):txv.login.getLoginType()&&txv.login.isStrongLogin()?o():txv.login.openPayLogin({isLowLogin:txv.login.isLowLogin(),success:function(){txv.cookie.set("vip_singlebuy","1"),window.location.reload()}}),!1}),txv.cookie.get("vip_singlebuy")&&o()),$(".vip_refresh_click").unbind("click").bind("click",function(){return window.location.reload(),!1});$("#vip_qrcode_img").unbind("mouseover").bind("mouseover",function(){$("#vmm_moe").html("<img src='//i.gtimg.cn/qqlive/images/20160823/qr_npc.gif?t="+Math.random()+"' />")}),$("#vip_qrcode_img").length>0&&t.setQrcode(),txv.cookie.del("vip_minipay"),txv.cookie.del("vip_minipay_aid"),txv.cookie.del("vip_useticket"),txv.cookie.del("vip_singlebuy"),e&&window.PageMessage.emit("vip-open-button",!0)},300)},setQrcode:function(){$("#vip_qrcode_img").load(function(){var t=$("#vip_qrcode_img").attr("src");$(".vip_qrcode_img").attr("src",t),p.click(COVER_INFO.typeid+"_vip_rightpanel:showQrcode")});var t=$.pay({aid_version:"V0",key4:9,key11:2,_scene:2},"aid");$.pay_qrimg({id:"vip_qrcode_img",pay_type:0,use_ws:!1,aid:t,scan_suc:function(){p.click(COVER_INFO.typeid+"_vip_rightpanel:scanSucc")},pay_suc:function(){window.location.reload()},error:function(){}})}}})},function(t,e,n){var i=n(87),o=n(43),a=n(32),r=(n(95),n(141)),s=n(142),c=COVER_INFO.type+"_vip_rightpanel:",l=(i.getFormatPrice(COVER_INFO.payInfo.c_single_price),i.getFormatPrice(COVER_INFO.payInfo.c_vip_price),i.getTrailerDate(COVER_INFO.hollywood_online)),d=function(t,e,n,s,d){if(s.openConfig&&s.openConfig.title&&s.openConfig.url)i.setOpenDom(t,e,s.openConfig.title,s.openConfig.url,n.vip);else{if(s.openConfig&&s.openConfig.title)var u=s.openConfig.title;else var u="开通VIP "+l+" 看正片";var p=o(t,r,{btn_text:u,btn_class:"vip_minipay_click",tips:s.tipsText,link_text:!1,link_class:!1,only_text:!1});e.html(p),a.click(c+"showOpenVip"),s.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}s.openConfig&&s.openConfig.title&&i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"}),d()},u=function(t,e,n,r,d){if(r.openConfig&&r.openConfig.title&&r.openConfig.url)i.setOpenDom(t,e,r.openConfig.title,r.openConfig.url,n.vip);else{if(r.openConfig&&r.openConfig.title)var u=r.openConfig.title;else var u="开通VIP "+l+" 看正片";var p=o(t,s,{main_text:u,tips:r.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:!1,link_class:!1});e.html(p),e.addClass("mod_side_vip_wechat"),a.click(c+"showOpenVip"),r.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}r.openConfig&&r.openConfig.title&&i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"}),d()},p=function(t,e,n,i,o){d.apply(null,arguments)},f=function(t,e,n,i,o){e.remove(),o()},v=function(t,e,n,i,o){e.remove(),o()},_=function(t,e,n,i){var o=$(t.$el);o.removeClass("mod_side_vip_wechat").addClass("mod_side_vip"),e.isLogin?e.vip?"wx"===e.loginType?f(0,o,0,0,i):v(0,o,0,0,i):"wx"===e.loginType?u(t,o,e,n,i):p(t,o,e,n,i):d(t,o,e,n,i)};t.exports=_},function(module,exports){module.exports=function(d){
with(d)return'\n<svg class="svg_sprite" display="none" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <symbol id="svg_icon_vip_flat_sm" viewBox="0 0 16 16">\n        <path d="M14.746 7.105l-2.584 2.959.422 4.038-.014.012c.007.042.024.081.024.125 0 .424-.329.768-.734.768a.713.713 0 0 1-.273-.057l-.011.009-3.57-1.685-3.539 1.647-.008-.005a.695.695 0 0 1-.33.091c-.406 0-.734-.344-.734-.768 0-.032.013-.059.017-.09l-.009-.006.17-1.56c.475-.108.943-.233 1.4-.383l-.098.805 3.115-1.294 3.073 1.292-.351-3.232 2.291-2.737-.486-.085c.346-.434.667-.889.967-1.359l.942.189.006.02a.75.75 0 0 1 .571.733.77.77 0 0 1-.257.573zm-1.618-2.671c-2.169 3.982-5.932 6.722-10.238 7.351a.63.63 0 0 1-.345.073c-.385-.039-.666-.41-.628-.829a.729.729 0 0 1 .607-.669l-.003-.03c3.946-.511 7.401-3.005 9.388-6.636.127-.27.394-.444.688-.414.385.039.666.41.627.829a.785.785 0 0 1-.104.32l.008.005zM7.99 3.014L6.348 6.441l-3.347.579 1.685 2.042a12.73 12.73 0 0 1-1.333.434L1.268 7.107a.773.773 0 0 1-.259-.575c0-.345.221-.626.52-.723l.008-.034 3.928-.776 1.869-3.597h.03a.724.724 0 0 1 .642-.416c.279 0 .513.169.637.409h.028l1.722 3.31c-.318.429-.659.839-1.027 1.224L7.99 3.014z"></path>\n    </symbol>\n    <symbol id="svg_icon_vip_star" viewBox="0 0 20 20">\n        <path d="M134,1284.83h0l-4.4-.66a7.59,7.59,0,0,1-2.1,6.91,7.974,7.974,0,0,1-3.4,1.9l6,3.03h0.2s0.1-.1,0-0.1l-1.2-6.34,4.9-4.55v-0.19Zm-15.4,6.73a9.7,9.7,0,0,0,1.6.19,7.762,7.762,0,0,0,5.4-2.09,6.915,6.915,0,0,0,2.2-5.68l-0.7-.09-3-5.78-0.1-.09a0.1,0.1,0,0,0-.1.09l-3,5.78-6.8.94a0.1,0.1,0,0,0-.1.1v0.09l4.9,4.55Zm3.2,1.7a7.994,7.994,0,0,1-3.4-.76l-0.6,3.32v0.09H118l6-3.03A5.543,5.543,0,0,1,121.8,1293.26Z" transform="translate(-114 -1278.03)"></path>\n    </symbol>\n    <symbol id="svg_icon_gift" viewBox="0 0 20 20">\n        <path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M17,6V4.5C17,2.567,15.433,1,13.5,1h-1   c-0.981,0-1.865,0.406-2.5,1.056C9.365,1.406,8.481,1,7.5,1h-1C4.567,1,3,2.567,3,4.5V6C1.895,6,1,6.896,1,8v8c0,1.104,0.895,2,2,2   h14c1.105,0,2-0.896,2-2V8C19,6.896,18.105,6,17,6z M11,4.5C11,3.672,11.672,3,12.5,3h1C14.328,3,15,3.672,15,4.5V6h-4V4.5z M5,4.5   C5,3.672,5.672,3,6.5,3h1C8.328,3,9,3.672,9,4.5V6H5V4.5z M3,8h5v8H3V8z M17,16h-5V8h5V16z"></path>\n    </symbol>\n    <symbol id="svg_icon_right_sm" viewBox="0 0 16 16">\n        <path d="M11.71 8.716L7.716 12.71a1.01 1.01 0 0 1-1.427-1.427L9.573 8 6.289 4.716a1.01 1.01 0 0 1 1.427-1.427l3.994 3.994c.198.198.296.458.295.717.001.259-.097.518-.295.716z"></path>\n    </symbol>\n    <symbol id="svg_icon_qr_sm" viewBox="0 0 16 16">\n        <path d="M13.5 11.5a1 1 0 0 1-1-1 1 1 0 0 1 0-2h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1zm0-4h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1zm-1-4h-2v2h2v-2zm-6 11h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1zm-1-4h-2v2h2v-2zm1-3a1 1 0 0 1-1-1v-4a1 1 0 0 1 2 0v4a1 1 0 0 1-1 1zm-3 0h-1a1 1 0 0 1 0-2 1 1 0 0 1 2 0v1a1 1 0 0 1-1 1zm0-4h-1a1 1 0 0 1 0-2h1a1 1 0 0 1 0 2zm6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0 4a1 1 0 0 1 2 0v1a1 1 0 0 1-1 1h-1a1 1 0 0 1 0-2zm4 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path>\n    </symbol>\n</svg>\n<div class="vertical_center_box">\n    <a href="javascript:;" class="btn_vip_normal '+btn_class+'" _stat="player_rightpanel">\n        \x3c!--<i class="icon_sm icon_vip_flat_sm"><svg class="svg_icon" viewBox="0 0 16 16"><use xlink:href="#svg_icon_vip_flat_sm"></use></svg></i>--\x3e\n        <i class="icon icon_vip_star"><svg class="svg_icon" viewBox="0 0 20 20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_vip_star"></use></svg></i>\n        <span class="icon_text">\n            '+btn_text+"\n        </span>\n        "+(function(){if(tips)return'\n        <span class="tips_promotion">\n            <span class="inner">'+tips+"</span>\n        </span>\n        "}()||"")+"\n    </a>\n    "+(function(){if(link_text)return'\n    <a href="javascript:;" class="link_vip_normal '+link_class+'">\n        <span class="icon_text">'+link_text+'</span>\n        <i class="icon_sm icon_right_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_right_sm"></use></svg></i>\n    </a>\n    '}()||"")+"\n    "+(function(){if(only_text)return'\n    <div class="txt_vip_normal">\n        <span class="icon_text">'+only_text+"</span>\n    </div>\n    "}()||"")+'\n</div>\n\x3c!-- 侧边二维码 --\x3e\n<div class="vip_qr_side vip_qr_hover">\n    <div class="vip_qr_pic">\n        <div class="qr_npc">\n            \x3c!--动图--\x3e\t\n            <img src="//i.gtimg.cn/qqlive/images/20160823/qr_npc.gif" />\n            \x3c!--静态图--\x3e\t\n            \x3c!-- <img src="http://i.gtimg.cn/qqlive/images/20160823/qr_npc.png" alt="" /> --\x3e\n        </div>\n        <img id="vip_qrcode_img">\n    </div>\n</div>\n\x3c!-- 浮层二维码 --\x3e\n<div class="vip_qr_pop none">\n    <i class="triangle_up"></i>\n    <div class="vip_qr_pic">\n        <img class="vip_qrcode_img">\n    </div>\n    <span class="qr_video_mm"></span>\n    <div class="qr_title">微信扫码快速开通会员</div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="vip_qr">\n    <i class="icon_wechat">\n        <svg class="svg_icon svg_icon_wechat" viewBox="0 0 16 16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_wechat"></use></svg>\n    </i>\n    <span class="qr_video_mm"></span>\n    <div class="qr_content">\n        <div class="qr_title txt_em">'+main_text+'</div>\n        <div class="qr_desc">\n            '+(function(){if(desc_refresh)return'\n            支付完成<a class="link vip_refresh_click" href="javascript:;">点击刷新</a>\n            '}()||"")+"\n            "+(function(){if(desc_text)return'\n            <a class="link" href="'+desc_url+'" target="_blank">'+desc_text+"</a>\n            "}()||"")+'\n        </div>\n    </div>\n    <div class="vip_qr_pic">\n        <img id="vip_qrcode_img">\n    </div>\n    '+(function(){if(tips)return'\n    <span class="tips_promotion">\n        <span class="inner"> '+tips+" </span>\n    </span>\n    "}()||"")+"\n</div>\n"+(function(){if(link_text)return'\n<a href="javascript:;" class="link_vip_normal '+link_class+'">\n    <span class="icon_text"> '+link_text+' </span>\n    <i class="icon_sm icon_right_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_right_sm"></use></svg></i>\n</a>\n'}()||"")}},function(t,e,n){var i=n(87),o=n(43),a=n(32),r=n(95),s=n(141),c=n(144),l=n(142),d=COVER_INFO.type+"_vip_rightpanel:",u=i.getFormatPrice(COVER_INFO.payInfo.c_single_price),p=i.getFormatPrice(COVER_INFO.payInfo.c_vip_price),f=function(t,e,n,r,c){var l=o(t,s,{btn_text:"开通VIP会员用券看",btn_class:"vip_minipay_click",tips:r.tipsText,link_text:"非会员原价"+u+"元购买本片",link_class:"vip_singlebuy_click",only_text:!1});e.html(l),a.click(d+"showOpenVip"),r.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"}),c()},v=function(t,e,n,a,r){var s=o(t,l,{main_text:"扫码开通VIP免费看",tips:a.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:"非会员原价"+u+"元购买本片",link_class:"vip_singlebuy_click"});e.html(s),e.addClass("mod_side_vip_wechat"),a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"}),r()},_=function(t,e,n,r,s){i.checkPaid(function(n,i){if(n){var l=o(t,c,{btn_text:'您可观看本片 <span class="num">有效期至 '+i.end.substr(0,10)+"</span>",link_text:"开通VIP看更多大片",link_class:"vip_minipay_click"});e.html(l),a.click(d+"showOpenVip"),s()}else f(t,e,0,r,s)})},h=function(t,e,n,s,f){i.checkPaid(function(n,v){if(n){var _=o(t,c,{btn_text:'您可观看本片 <span class="num">有效期至 '+v.end.substr(0,10)+"</span>",link_text:"续费VIP享精彩不断",link_class:"vip_minipay_click"});e.html(_),a.click(d+"showOpenVip"),f()}else i.getUserTicket(function(n){if(n>0){var a=o(t,r,{btn_text:'用券观看 <span class="num">'+n+"</span>张券可用",btn_class:"vip_ticket_click",btn_url:!1,tips:!1,link_text:!1,link_class:!1});e.html(a)}else{var a=o(t,l,{main_text:"扫码续费VIP用券看",tips:s.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:"VIP享"+p+'元购买本片，<span style="text-decoration:line-through;">非会员原价'+u+"元</span>",link_class:"vip_singlebuy_click"});e.html(a),e.addClass("mod_side_vip_wechat"),s.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}f()})})},m=function(t,e,n,s,l){i.checkPaid(function(n,f){if(n){var v=o(t,c,{btn_text:'您可观看本片 <span class="num">有效期至 '+f.end.substr(0,10)+"</span>",link_text:"续费VIP享精彩不断",link_class:"vip_minipay_click"});e.html(v),a.click(d+"showOpenVip"),l()}else i.getUserTicket(function(n){if(n>0)var c=o(t,r,{btn_text:'用券观看，<span class="num">'+n+"</span>张券可用",btn_class:"vip_ticket_click",btn_url:!1,tips:!1,link_text:!1,link_class:!1});else{var c=o(t,r,{btn_text:"续费VIP会员用券看",btn_class:"vip_minipay_click",btn_url:!1,tips:s.tipsText,link_text:"VIP享"+p+'元购买本片，<span style="text-decoration:line-through;">非会员原价'+u+"元</span>",link_class:"vip_singlebuy_click"});a.click(d+"showOpenVip"),s.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}e.html(c),l()})})},g=function(t,e,n,i){var o=$(t.$el);o.removeClass("mod_side_vip_wechat").addClass("mod_side_vip"),e.isLogin?e.vip?"wx"===e.loginType?h(t,o,0,n,i):m(t,o,0,n,i):"wx"===e.loginType?v(t,o,0,n,i):_(t,o,0,n,i):f(t,o,0,n,i)};t.exports=g},function(module,exports){module.exports=function(d){with(d)return'<span class="time_vip_big">\n    <span class="icon_text">'+btn_text+"</span>\n</span>\n"+(function(){if(link_text)return'\n<a href="javascript:;" class="link_vip_big '+link_class+'">\n    <i class="icon icon_vip_star"><svg class="svg_icon" viewBox="0 0 20 20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_vip_star"></use></svg></i>\n    <span class="icon_text"> '+link_text+' </span>\n    <i class="icon_sm icon_right_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_right_sm"></use></svg></i>\n</a>\n'}()||"")}},function(t,e,n){var i=n(87),o=n(43),a=n(32),r=n(95),s=n(141),c=n(144),l=n(142),d=COVER_INFO.type+"_vip_rightpanel:",u=i.getFormatPrice(COVER_INFO.payInfo.c_single_price),p=i.getFormatPrice(COVER_INFO.payInfo.c_vip_price),f=function(t,e,n,c,l){if(i.vipHasDiscount(COVER_INFO.payInfo)){var f=o(t,s,{btn_text:"开通VIP享"+p+"元购买本片",btn_class:"vip_minipay_click",tips:c.tipsText,link_text:"非会员原价"+u+"元购买本片",link_class:"vip_singlebuy_click",only_text:!1});e.html(f),a.click(d+"showOpenVip"),c.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}else{var f=o(t,r,{btn_text:u+"元购买本片",btn_class:"vip_singlebuy_click",btn_url:!1,tips:!1,link_text:!1,link_class:!1});e.html(f)}l()},v=function(t,e,n,s,c){if(i.vipHasDiscount(COVER_INFO.payInfo)){var f=o(t,l,{main_text:"扫码开通VIP享"+p+"元购买",tips:s.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:"非会员原价"+u+"元购买本片",link_class:"vip_singlebuy_click"});e.html(f),e.addClass("mod_side_vip_wechat"),a.click(d+"showOpenVip"),s.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}else{var f=o(t,r,{btn_text:"扫码"+u+"元购买本片",btn_class:"vip_singlebuy_click",btn_url:!1,tips:!1,link_text:!1,link_class:!1});e.html(f)}c()},_=function(t,e,n,i,o){f.apply(null,arguments)},h=function(t,e,n,i,o){m.apply(null,arguments)},m=function(t,e,n,s,c){if(i.vipHasDiscount(COVER_INFO.payInfo)){var l=o(t,r,{btn_text:"VIP享"+p+'元购买本片 <del class="del">原价'+u+"元</del>",btn_class:"vip_singlebuy_click",btn_url:!1,tips:!1,link_text:"续费VIP享精彩不断",link_class:"vip_minipay_click"});e.html(l),a.click(d+"showOpenVip")}else{var l=o(t,r,{btn_text:u+"元购买本片",btn_class:"vip_singlebuy_click",btn_url:!1,tips:!1,link_text:!1,link_class:!1});e.html(l)}c()},g=function(t,e,n,r){var s=$(t.$el);s.removeClass("mod_side_vip_wechat").addClass("mod_side_vip"),e.isLogin?i.checkPaid(function(i,l){if(i){var u=e.vip?"续费VIP看更多大片":"开通VIP看更多大片",p=o(t,c,{btn_text:'您可观看本片 <span class="num">有效期至 '+l.end.substr(0,10)+"</span>",link_text:u,link_class:"vip_minipay_click"});s.html(p),a.click(d+"showOpenVip"),r()}else e.vip?"wx"===e.loginType?h(t,s,e,n,r):m(t,s,e,n,r):"wx"===e.loginType?v(t,s,0,n,r):_(t,s,e,n,r)}):f(t,s,0,n,r)};t.exports=g},function(t,e,n){var i=n(87),o=n(43),a=n(32),r=n(96),s=n(95),c=n(141),l=n(142),d=COVER_INFO.type+"_vip_rightpanel:",u=(i.getFormatPrice(COVER_INFO.payInfo.c_single_price),i.getFormatPrice(COVER_INFO.payInfo.c_vip_price),i.getOpenVIPText()),p=function(t,e,n,r,s){if(r.openConfig&&r.openConfig.title&&r.openConfig.url)i.setOpenDom(t,e,r.openConfig.title,r.openConfig.url,n.vip);else{if(r.openConfig&&r.openConfig.title)var l=r.openConfig.title;else var l=u;var p=o(t,c,{btn_text:l,btn_class:"vip_minipay_click",tips:r.tipsText,link_text:!1,link_class:!1,only_text:!1});e.html(p),r.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}a.click(d+"showOpenVip"),r.openConfig&&r.openConfig.title&&i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"}),s()},f=function(t,e,n,a,r){if(a.openConfig&&a.openConfig.title&&a.openConfig.url)i.setOpenDom(t,e,a.openConfig.title,a.openConfig.url,n.vip);else{if(a.openConfig&&a.openConfig.title)var s=a.openConfig.title;else var s="扫码开通VIP免费看";var c=o(t,l,{main_text:s,tips:a.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:!1,link_class:!1});e.html(c),a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}e.addClass("mod_side_vip_wechat"),a.openConfig&&a.openConfig.title&&i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"}),r()},v=function(t,e,n,i,o){p.apply(null,arguments)},_=function(t,e,n,a,s){var c=i.getExpireDays(n.endTime);if(a.openConfig&&a.openConfig.title&&a.openConfig.url)i.setOpenDom(t,e,a.openConfig.title,a.openConfig.url,n.vip),i.openReport({f_event:"expose"});else{if(c>7)if(a.tipsText){var d=o(t,l,{main_text:"畅享活动 扫码优惠续费VIP会员",tips:a.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:!1,link_class:!1});e.html(d),e.addClass("mod_side_vip_wechat"),a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}else{var d=o(t,r,{btn_text:"您的会员福利已备好，快来看看~",btn_class:"",btn_url:"//film.qq.com/vip/activity_v2.html?ptag=webright",tips:!1,link_text:!1,link_class:!1});e.html(d)}else{var d=o(t,l,{main_text:"您的VIP还有"+c+"天过期 立即续费",tips:a.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:!1,link_class:!1});e.html(d),e.addClass("mod_side_vip_wechat"),a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}s()}},h=function(t,e,n,a,l){var d=i.getExpireDays(n.endTime);if(a.openConfig&&a.openConfig.title&&a.openConfig.url)i.setOpenDom(t,e,a.openConfig.title,a.openConfig.url,n.vip),i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"});else{if(d>7)if(a.tipsText){var u=o(t,c,{btn_text:"畅享活动 优惠续费VIP会员",btn_class:"vip_minipay_click",tips:a.tipsText,link_text:!1,link_class:!1,only_text:!1});a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}else var u=o(t,r,{btn_text:"您的会员福利已备好，快来看看~",btn_class:"",btn_url:"//film.qq.com/vip/activity_v2.html?ptag=webright",tips:!1,link_text:!1,link_class:!1});else{var u=o(t,s,{btn_text:"您的VIP还有"+d+"天过期 立即续费",btn_class:"vip_minipay_click",btn_url:!1,tips:a.tipsText,link_text:!1,link_class:!1});a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}e.html(u),l()}},m=function(t,e,n,i){var o=$(t.$el);o.removeClass("mod_side_vip_wechat").addClass("mod_side_vip"),e.isLogin?e.vip?"wx"===e.loginType?_(t,o,e,n,i):h(t,o,e,n,i):"wx"===e.loginType?f(t,o,e,n,i):v(t,o,e,n,i):p(t,o,e,n,i)};t.exports=m},function(t,e,n){var i=n(87),o=n(43),a=n(32),r=n(96),s=n(95),c=n(141),l=n(144),d=n(142),u=COVER_INFO.type+"_vip_rightpanel:",p=i.getFormatPrice(COVER_INFO.payInfo.c_single_price),f=(i.getFormatPrice(COVER_INFO.payInfo.c_vip_price),i.getOpenVIPText()),v=function(t,e,n,r,s){if(r.openConfig&&r.openConfig.title&&r.openConfig.url)i.setOpenDom(t,e,r.openConfig.title,r.openConfig.url,n.vip);else{if(r.openConfig&&r.openConfig.title)var l=r.openConfig.title;else var l=f;var d=o(t,c,{btn_text:l,btn_class:"vip_minipay_click",tips:r.tipsText,link_text:"非会员原价"+p+"元购买本片",link_class:"vip_singlebuy_click",only_text:!1});e.html(d),r.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}a.click(u+"showOpenVip"),r.openConfig&&r.openConfig.title&&i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"}),s()},_=function(t,e,n,r,s){i.checkPaid(function(c,f){if(c){var v=o(t,l,{btn_text:'您可观看本片 <span class="num">有效期至 '+f.end.substr(0,10)+"</span>",link_text:"开通VIP看更多大片",link_class:"vip_minipay_click"});e.html(v),a.click(u+"showOpenVip"),s()}else{if(r.openConfig&&r.openConfig.title&&r.openConfig.url)i.setOpenDom(t,e,r.openConfig.title,r.openConfig.url,n.vip),i.openReport({type:"text",f_event:"expose",f_resource:"开通文案"});else{var v=o(t,d,{main_text:"扫码开通VIP免费看",tips:r.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:"非会员原价"+p+"元购买本片",link_class:"vip_singlebuy_click"});e.html(v),e.addClass("mod_side_vip_wechat"),a.click(u+"showOpenVip"),r.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}s()}})},h=function(t,e,n,r,s){i.checkPaid(function(i,c){if(i){if("HLWHF"==n.servicetype)var d='你可免费观看 <span class="num">VIP按月支付中</span>';else var d='您可观看本片 <span class="num">有效期至 '+c.end.substr(0,10)+"</span>";var p=o(t,l,{btn_text:d,link_text:"开通VIP看更多大片",link_class:"vip_minipay_click"});e.html(p),a.click(u+"showOpenVip"),s()}else v(t,e,n,r,s)})},m=function(t,e,n,a,s){var c=i.getExpireDays(n.endTime);if(a.openConfig&&a.openConfig.title&&a.openConfig.url)i.setOpenDom(t,e,a.openConfig.title,a.openConfig.url,n.vip),i.openReport({f_event:"expose"});else{if(c>7)if(a.tipsText){var l=o(t,d,{main_text:"畅享活动 扫码优惠续费VIP会员",tips:a.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:!1,link_class:!1});e.html(l),e.addClass("mod_side_vip_wechat"),a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}else{var l=o(t,r,{btn_text:"您的会员福利已备好，快来看看~",btn_class:"",btn_url:"//film.qq.com/vip/activity_v2.html?ptag=webright",tips:!1,link_text:!1,link_class:!1});e.html(l)}else{var l=o(t,d,{main_text:"您的VIP还有"+c+"天过期 立即续费",tips:a.tipsText,desc_refresh:!0,desc_text:!1,desc_url:!1,link_text:!1,link_class:!1});e.html(l),e.addClass("mod_side_vip_wechat"),a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}s()}},g=function(t,e,n,a,l){var d=i.getExpireDays(n.endTime);if(a.openConfig&&a.openConfig.title&&a.openConfig.url)i.setOpenDom(t,e,a.openConfig.title,a.openConfig.url,n.vip),i.openReport({f_event:"expose"});else{if(d>7)if(a.tipsText){var u=o(t,c,{btn_text:"畅享活动 优惠续费VIP会员",btn_class:"vip_minipay_click",tips:a.tipsText,link_text:!1,link_class:!1,only_text:!1});a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}else var u=o(t,r,{btn_text:"您的会员福利已备好，快来看看~",btn_class:"",btn_url:"//film.qq.com/vip/activity_v2.html?ptag=webright",tips:!1,link_text:!1,link_class:!1});else{var u=o(t,s,{btn_text:"您的VIP还有"+d+"天过期 立即续费",btn_class:"vip_minipay_click",btn_url:!1,tips:a.tipsText,link_text:!1,link_class:!1});a.isCommTips&&i.openReport({type:"tips",f_event:"expose",f_resource:"开通角标"})}e.html(u),l()}},y=function(t,e,n,i){var o=$(t.$el);o.removeClass("mod_side_vip_wechat").addClass("mod_side_vip"),e.isLogin?e.vip?"wx"===e.loginType?m(t,o,e,n,i):g(t,o,e,n,i):"wx"===e.loginType?_(t,o,e,n,i):h(t,o,e,n,i):v(t,o,e,n,i)};t.exports=y},function(t,e,n){var i,o,a=window.PageMessage,r=(n(53),n(149)),s=n(63),c=18e5;t.exports=Reve.component("c-new-tv-preheat",{template:n(150),data:function(){return{mainVid:"",isPlaying:!1,isMainPlayerFirstPause:!1,isSupport:!1,controlBackgroundImg:"",isFollow:!1,isShowPlayer:!1,followText:"加入看单",vid:"",cid:"",playUrl:""}},created:function(){var t=this.$data.recommend_episodes,e=this.$data.recommend_episodes_icon;if(txv.ua.ie)return void $("#preheat-video-container").remove();var n=this;if(t&&e&&"undefined"!==e&&"undefined"!==t&&"null"!==t&&"null"!==t){this.$data.controlBackgroundImg=this.$data.recommend_episodes_icon;var i=this.$data.recommend_episodes&&this.$data.recommend_episodes.split("/")||[];i.length>1&&(this.$data.vid=i[0].length>i[1].length?i[1]:i[0],this.$data.cid=i[0].length>i[1].length?i[0]:i[1])}else COVER_INFO.id||VIDEO_INFO.vid||COVER_INFO.column_id?$.ajax({url:"//h5cgi.video.qq.com/fcgi-bin/process_bar_pic",data:{otype:"json",vid:VIDEO_INFO.vid||"",cid:COVER_INFO.id||"",lid:COVER_INFO.column_id||"",businessId:1},dataType:"jsonp"}).done(function(t){if(0==t.errCode){var e;try{e=$.parseJSON(t.picUrl)}catch(i){}e&&e.vid&&(n.$data.vid=e.vid,n.$data.cid=e.cid,n.$data.controlBackgroundImg=e.icon,n.$data.playUrl=e.playurl,a.emit("init-mini-video-player"))}else $("#preheat-video-container").remove()}).fail(function(){$("#preheat-video-container").remove()}):$("#preheat-video-container").remove()},ready:function(){function t(){r().then(function(){a.emit("txminiplayer-ready")}),a.on("txminiplayer-ready",function(){var t=Txminiplayer.util.isSupportMP4();if(t){e.$set({isSupport:t});txv.ua.ie;e._player=new Txminiplayer({delegateMouseenter:!0,containerId:"preheat-video",muted:!0,preload:!1,autoplay:!1,vid:e.$data.vid,defaultStyle:!0}),e._player.pause(),e.checkFollow(),e._player.on("ended",function(){e.hidePlayer()})}}),$("._mod_hanger_video").on("click",".figure_video video, .figure_video_start",function(){var t=e.$data.isPlaying;t?(e._player&&e._player.pause(),e.startCount()):(e._player&&e._player.play(),clearTimeout(e._30Timeout)),t=!t,e.$set({isPlaying:t})}),a.on("tvp-paused",function(){setTimeout(function(){if(!($("._pop_relation_goods").length>0)||$("._pop_relation_goods").hasClass("none")){var t=PLAYER.getPlayerState();if(2==t||void 0===t){e.$data.isMainPlayerFirstPause||(e.$set({isMainPlayerFirstPause:!0}),e.showAndPause(),setTimeout(function(){e._player.play(!0),clearTimeout(e._30Timeout),e.$set({isPlaying:!0})},700)),o=new Date}}},1e3)}),a.on("tvp-playing",function(){if(e.$data.mainVid&&e.$set({mainVid:PLAYER.getVid()}),PLAYER.getVid()!==e.$data.mainVid)return void e.$set({mainVid:PLAYER.getVid()});e._player&&e._player.pause(),e.startCount(),e.$set({isPlaying:!1})}),i=o=new Date;var t=setInterval(function(){var n=new Date,a=n-i,r=n-o;if(a>=c&&r>=c)e.showAndPause(),clearInterval(t);else{var s=c-(n-i),l=c-(n-o),d=Math.max(Math.max(s,l),0);s<50&&l<50&&setTimeout(function(){e.showAndPause(),clearInterval(t)},d)}},c);$(window).click(function(){i=new Date})}var e=this;txv.ua.ie||(this.$data.vid?t():a.on("init-mini-video-player",function(){t()}))},methods:{togglePlayer:function(){this.$data.isShowPlayer?this.hidePlayer():this.showPlayer()},hidePlayer:function(){var t=this;if(PLAYER&&PLAYER.unMute(),!this.$data.isShowPlayer)return t._player.pause(),void t.$set({isPlaying:!1});this.$set({isShowPlayer:!1}),this._player.pause(),t.$set({isPlaying:!1})},showPlayer:function(){var t=this;if(this.$data.isShowPlayer)return this._player.play(!0),clearTimeout(this._30Timeout),void this.$set({isPlaying:!0});this.$set({isShowPlayer:!0}),setTimeout(function(){t._player.play(!0),clearTimeout(t._30Timeout),t.$set({isPlaying:!0})},700)},showAndPause:function(){if(!$(this.$el).parent().hasClass("player_container_wide")){var t=this;this.$set({isShowPlayer:!0,isPlaying:!1}),t._player.pause()}},goPlayPage:function(){if(this.$data.playUrl)window.open(this.$data.playUrl,"_blank");else if(this.$data.vid){var t=location.protocol+"//"+location.hostname+txv.util.getPlayUrl(this.$data.vid);window.open(t,"_blank")}},handleFollow:function(t){this.$data.isFollow?this.removeFollow(t):this.addFollow(t)},addFollow:function(){var t=this;if(!txv.login.isLogin())return txv.login.openLogin();this.follow("add",{id:this.$data.cid,type:2},function(e,n){if(-11==n.ret)return txv.login.openLogin();t.$set({isFollow:e,followText:e?"已加入看单":"加入看单"})})},removeFollow:function(){if(!txv.login.isLogin())return txv.login.openLogin();var t=this;this.follow("remove",{id:this.$data.cid,type:2},function(e,n){if(-11==n.ret)return txv.login.openLogin();t.$set({isFollow:!e,followText:e?"加入看单":"已加入看单"})})},checkFollow:function(){var t=this;if(!txv.login.isLogin())return this.$set({isFollow:!1,followText:"加入看单"});this.follow("check",{id:this.$data.cid,type:2},function(e,n){-11==n.ret&&(e=!1),t.$set({isFollow:e,followText:e?"已加入看单":"加入看单"})})},follow:function(t,e,n){e=e||{},n=n||function(){},s[t](e,n)},startCount:function(){var t=this;clearTimeout(this._30Timeout),this._30Timeout=setTimeout(function(){t.$data.isPlaying||t.hidePlayer()},3e4)}}})},function(t,e,n){function i(){var t=o();if(c.push(t.defer),!s){s=!0;var e=$("#"+r);e.length?e.html(""):$("body").append('<style id="'+r+'">'),$.getScript("//vm.gtimg.cn/tencentvideo/txmp/js/txminiplayer.js").done(function(){var t=window.Txminiplayer;c.forEach(function(e){e.resolve(t)})}).fail(function(t){c.forEach(function(e){e.reject(t)})})}return t.promise}function o(){var t={};return{promise:new a(function(e,n){t.resolve=function(t){e(t)},t.reject=function(t){n(t)}}),defer:t}}var a=n(2),r="txmp_style_miniplay",s=!1,c=[];t.exports=function(){var t=window.Txminiplayer;return t?a.resolve(t):i()}},function(module,exports){module.exports=function(d){with(d)return'<div r-component="c-new-tv-preheat" class="none"\n     r-class="{none: !isSupport}"\n     r-props="{\n        recommend_episodes: \''+cover.recommend_episodes+"';\n        recommend_episodes_icon: '"+cover.recommend_episodes_icon+'\';\n     }">\n    <div class="mod_hanger" id="preheat-video-container">\n        <img class="hanger_pic"\n            r-attr="{\n                src: controlBackgroundImg && controlBackgroundImg.replace(/^https?:/, \'\')\n            }"\n             _stat="new-tv-preheat:container"\n            r-on="{\n                click: togglePlayer\n            }">\n        <div class="mod_hanger_video _mod_hanger_video"\n             r-class="{show: isShowPlayer}">\n            <div id="preheat-video" style="width: 300px; height: 169px;"></div>\n            <div class="hanger_title __collect_container" _stat="new-tv-preheat:follow">\n                <a href="javascript:;"\n                   class="btn_collect hanger_btn_collect __preheat_follow"\n                   r-attr="{\n                     title: followText\n                   }"\n                   r-on="{click: handleFollow}"\n                   r-style="{\n                     display: cid ? \'block\' : \'none\'\n                   }"\n                   style="z-index: 88;">\n                    <i class="icon icon_collect"\n                       data-type="1"\n                       r-style="{display: !isFollow ? \'inline-block\' : \'none\' } ">\n                        <svg class="svg_icon svg_icon_collect" viewBox="0 0 20 20" width="20" height="20"><path d="M19 15h-2v2a1 1 0 0 1-2 0v-2h-2a1 1 0 0 1 0-2h2v-2a1 1 0 1 1 2 0v2h2a1 1 0 1 1 0 2zm-.067-7c0 .049-.021.091-.028.138-.003.021 0 .042-.004.063l-.008-.002a.985.985 0 0 1-.96.801 1 1 0 0 1-1-1c0-.054.023-.101.031-.153l-.019-.003c.183-.882.057-1.979-.881-2.927-.471-.476-1.419-.909-2.253-.909-1.427 0-2.266 1.172-3.131 1.802L9.496 6.894 8.287 5.828c-.594-.561-1.747-1.823-3.144-1.823-.834 0-1.679.316-2.253.897-1.31 1.323-1.106 3.318-.177 4.341l6.751 6.068.016-.014 1.154 1.037-.017.017a.983.983 0 0 1 .254.649 1 1 0 0 1-1 1 .987.987 0 0 1-.648-.253l-.004.005-.037-.033-.025-.021-7.65-6.782C-.506 8.862-.506 5.567 1.478 3.543A5.071 5.071 0 0 1 5.131 2c1.383 0 2.68.548 3.654 1.543l.707.722.706-.722A5.077 5.077 0 0 1 13.853 2c1.383 0 2.68.548 3.654 1.543 1.17 1.195 1.624 2.831 1.412 4.389.002.024.014.044.014.068zm-9.441 9.994l-.033-.029.065.001-.032.028z"></path></svg>\n                    </i>\n                    <i class="icon icon_collected"\n                       data-type="2"\n                       r-style="{display: isFollow ? \'inline-block\' : \'none\'} ">\n                        <svg class="svg_icon svg_icon_collected" viewBox="0 0 20 20" width="20" height="20"><path d="M15 7.5a6 6 0 0 0-6 6c0 1.288.414 2.474 1.104 3.451l-.612.543-7.985-7.078C-.506 8.362-.506 5.067 1.478 3.043A5.071 5.071 0 0 1 5.131 1.5c1.383 0 2.681.548 3.655 1.543l.706.722.706-.722A5.077 5.077 0 0 1 13.853 1.5c1.382 0 2.68.548 3.654 1.543 1.5 1.533 1.86 3.792 1.088 5.68A5.95 5.95 0 0 0 15 7.5zm0 1a5 5 0 1 1-.001 10.001A5 5 0 0 1 15 8.5zm-2.732 6.486l1.177 1.177c.018.022.025.048.046.069a.875.875 0 0 0 .634.255.875.875 0 0 0 .634-.255c.021-.021.028-.047.046-.069l3.177-3.177a.88.88 0 1 0-1.246-1.245l-2.611 2.611-.611-.611a.881.881 0 0 0-1.246 1.245z"></path></svg>\n                    </i>\n                </a>\n            </div>\n            <a href="javascript:;" class="hanger_btn_play" _stat="new-tv-preheat:prepageclick" r-on="{click: goPlayPage;}"><i class="icon_sm icon_play_sm" style="z-index: 88;"><svg class="svg_icon svg_icon_play_sm" viewBox="0 0 16 16" width="16" height="16"><path d="M10.83 8.31v.022l-4.08 2.539-.005.003-.048.03-.012-.005c-.073.051-.15.101-.246.101-.217 0-.376-.165-.413-.369l-.027-.011V5.461l.009-.005c0-.009-.009-.014-.009-.022 0-.24.197-.435.44-.435.096 0 .174.049.247.101l.031-.017 4.129 2.569v.016a.42.42 0 0 1 .153.317.418.418 0 0 1-.169.325zm3.493 2.604a.986.986 0 0 1-.948.742 1 1 0 0 1-1-1 .98.98 0 0 1 .094-.412l-.019-.01C12.79 9.559 13 8.807 13 8a5 5 0 1 0-5 5c.766 0 1.484-.186 2.133-.494l.013.03a.975.975 0 0 1 .417-.097 1 1 0 0 1 1 1 .987.987 0 0 1-.77.954A6.936 6.936 0 0 1 8 14.999a7 7 0 1 1 7-7c0 1.048-.261 2.024-.677 2.915z"></path></svg></i>观看预告片</a>\n            <a href="javascript:;" _stat="new-tv-preheat:close" class="hanger_close"\n               r-on="{click: hidePlayer}">\n                <i class="icon_xs icon_close_xs"><svg class="svg_icon svg_icon_close_xs" viewBox="0 0 10 10" width="10" height="10"><path d="M9.4 8.9l-.5.5-3.9-4-3.9 4-.5-.5 4-3.9-4-3.9.4-.4 4 3.9L8.9.7l.4.4L5.4 5l4 3.9z"></path></svg></i>\n            </a>\n        </div>\n    </div>\n</div>\n'}},function(t,e,n){var i=window.PageMessage,o=n(53);t.exports=Reve.component("c-barrage-list",{ready:function(){if(this.hasbullet()){n(152).init(this),o("//vm.gtimg.cn/tencentvideo/script/module/barragelist_v2.js"),i.waitandon("vidChanged",function(){"function"==typeof window.__flashplayer_closelist&&window.__flashplayer_closelist()})}},methods:{hasbullet:function(){if(txv.util.useHtml5&&txv.util.useHtml5())return!1;if(VIDEO_INFO&&1==VIDEO_INFO.danmu)return!0;if(LIST_INFO&&LIST_INFO.data)for(var t in LIST_INFO.data)if(1==LIST_INFO.data[t].danmu)return!0;return!1}}})},function(t,e,n){var i=n(43),o={init:function(t){window.barragePage={},barragePage.pop_targetid=0,barragePage.pop_bulletid=0,window.__flashplayer_bulletReport=function(e){if(e)return txv.login.isLogin()?(o.showDlg(t),barragePage.pop_targetid=e.targetid||0,barragePage.pop_bulletid=e.bulletid||0):txv.login.openLogin(),!0},barragePage.reportCallback=function(e){var n=$("#pop_barrage");n.hide(),o.clearInput(n),!e||0!=e.errCode&&21!=e.errCode?(txv.tips.FloatWarning({title:"举报失败",staySecond:5,desc:'对不起，网络不太给力，举报失败 <a href="javascript:;" id="pop_barrage_retry">重新举报</a>'}),$("#pop_barrage_retry").unbind("click").bind("click",function(){$(this).parents("#ipop").remove(),o.showDlg(t)})):txv.tips.FloatMsg({title:"举报成功"})}},showDlg:function(t){if(0==$("#pop_barrage").size()){txv.tips.loadCss();var e=n(153),a=i(t,e);$("body").append(a),txv.tips.showMask();var r=$("#pop_barrage");txv.tips.fixCss(r),r.find("#pop_barrage_cancel").click(function(){r.hide(),txv.tips.hideMask(),o.clearInput(r)}),r.find(".x_close").click(function(){r.hide(),txv.tips.hideMask()}),r.find("#pop_barrage_submit").click(function(){o.submit()})}else $("#pop_barrage").show(),txv.tips.showMask()},submit:function(){var t=$("#pop_barrage"),e=0;t.find("input[type=radio]").each(function(){if(this.checked)return e=+$(this).attr("data-poptype"),!1});var n=t.find("#pop_barrage_txt").val(),i={_method:"put",format:"SCRIPT",callback:"parent.barragePage.reportCallback",targetid:barragePage.pop_targetid,commentid:barragePage.pop_bulletid,enterapp:"web",type:e,desc:n,g_tk:o.getCSRFToken()
},a=t.find("#pop_barrage_form");a.empty();for(name in i)a.append($('<input name="'+name+'" type="hidden" value="" />').val(i[name]));a.submit()},getCSRFToken:function(){for(var t=txv.cookie.get("skey")||txv.cookie.get("lskey"),e=2013,n=0,i=t.length;n<i;++n)e+=(e<<5)+t.charCodeAt(n);return 2147483647&e},clearInput:function(t){t.find("input[type=radio]").each(function(t,e){e.checked=!(t>0)}),t.find("#pop_barrage_txt").val("")}};t.exports={init:o.init}},function(module,exports){module.exports=function(d){with(d)return'<div class="x_modal" id="pop_barrage">\n\t\x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e\n\t<iframe id="pop_barrage_iframe" name="pop_barrage_iframe" style="display:none"></iframe>\n\t<form action="//w.coral.qq.com/report/comment/0" method="post" target="pop_barrage_iframe" id="pop_barrage_form" style="display:none;"></form>\n\t<div class="x_modal_bd">\n\t\t<a href="javascript:;" class="x_close" title="关闭"><i class="x_iconfont x_icon_close">&#xe601;</i></a>\n\t\t<div class="x_modal_form">\n\t\t\t<h3 class="x_title">您为什么要举报此信息？</h3>\n\t\t\t<div class="x_options">\n\t\t\t\t<label class="x_lable"><input type="radio" checked="checked" name="x_option" class="x_radio" data-poptype="1" /><span class="x_text">色情淫秽</span></label>\n\t\t\t\t<label class="x_lable"><input type="radio" name="x_option" class="x_radio" data-poptype="8" /><span class="x_text">骚扰谩骂</span></label>\n\t\t\t\t<label class="x_lable"><input type="radio" name="x_option" class="x_radio" data-poptype="1024" /><span class="x_text">广告欺诈</span></label>\n\t\t\t\t<label class="x_lable"><input type="radio" name="x_option" class="x_radio" data-poptype="32" /><span class="x_text">反动</span></label>\n\t\t\t\t<label class="x_lable"><input type="radio" name="x_option" class="x_radio" data-poptype="0" /><span class="x_text">其他</span></label>\n\t\t\t</div>\n\t\t\t<h3 class="x_title">举报说明（可选）</h3>\n\t\t\t<div class="x_desc"><input type="text" class="x_inp_text" id="pop_barrage_txt" placeholder="请描述恶意行为" /></div>\t\n\t\t</div>\n\t</div>\n\t<div class="x_modal_ft">\n\t\t<a class="x_btn" href="javascript:;" id="pop_barrage_cancel">取消</a>\n\t\t<a class="x_btn x_btn_primary" href="javascript:;" id="pop_barrage_submit">提交</a>\n\t</div>\n</div>\n\n'}},function(t,e,n){var i=window.PageMessage,o=n(155),a=n(32);i.wait("watchta-expose",function(){a.event("watchta")}),i.on("watchta-select",function(){a.click("watchta:select")}),i.on("watchta-unselect",function(){a.click("watchta:unselect")}),t.exports=Reve.component("c-active",{ready:function(){function t(t){function e(){o.showList(!0,{mid:+n,type:+i})}var n=txv.util.getUrlParam("markid"),i=txv.util.getUrlParam("mtype");n&&i?(txv.login.removeReadyCallback(e),txv.login.addReadyCallback(e)):o.showList(),o.justWatchTAReset()}i.wait("tvp-ready",function(){t.apply(this,arguments),i.on("tvp-ready",t)}),i.on("vidChanged",function(t){o.showList(null,null,t),o.justWatchTAReset()})},methods:{}})},function(t,e,n){var i,o,a=window.PageMessage,r=n(53),s={TIMETOSHOWVOTE:"active_1",APPLE_CUSTOMER:"active_2",GOODSSHOW:"active_3",VOTESHOW:"active_5",PROPSSHOW:"active_6",WATCHANDBUYSHOW:"active_7",VOTEPROPSHOW:"active_8",BOXSHOW:"active_9",LISTDATA:"active_10"},c=$("#mod_active_content"),l=($("#mod_active_tab"),{NORMAL:1,GOODS:4,PROPS:32,VOTE_TEXT:16384,VOTE_GUESS:32768,VOTE_GUESS_ANSWER:65536,PK_TOPIC:192,VOTE_TEXT_GUESS:384,VOTE_PIC:320,VOTE_PIC_GUESS:448,VOTE_TEXT_ANSWER:576,VOTE_PIC_ANSWER:640,WATCH_AND_BUY:768,VOTE_PROP:960,BOX:1216}),d=function(t,e){var n=function(t,e){return 1==t?t==e:t==e||t-1==e};if($.isArray(e)){var i=!1;return $.each(e,function(e,o){if(n(t,o))return i=!0,!1}),i}return n(t,e)},u=function(t,e){var n=!1;return $.each(e,function(e,i){if(-1!=$.inArray(i,t)||-1!=$.inArray(i+1,t))return n=!0,!1}),n},p={page:'<div class="scroll_wrap scroll_wrap_indie" id="mod_active_page"></div>',pageScroll:'<div class="scroll_wrap scroll_wrap_indie" id="mod_active_scroll"></div>',error:'<div class="scroll_wrap scroll_wrap_indie"><div class="mod_loading_tips"><div class="mod_content"><i class="iconfont icon_warning">&#x1003;</i><div class="tip_text">加载失败</div><a href="javascript:;" class="btn_retry" id="error_tips">点击重试</a></div></div></div>'},f=!1,v=!1,_=!1,h=!1,m=!1,g=!1,y=!1,w=!1,x=[],b={url:{getMark:"//ncgi.video.qq.com/fcgi-bin/livemark/get_video_mark?otype=json&pr=1&idlist={vid}"},showCommon:function(){var t=$("#fullplaylist");t.find("#_lottery_winlist").remove(),t.find("#_box_result").remove()},showPage:function(){b.showCommon(),c.html(p.page)},showPageScroll:function(){b.showCommon(),c.html(p.pageScroll)},showError:function(){b.showCommon(),c.html(p.error)},getSeajs:function(t){r("//vm.gtimg.cn/tencentvideo/script/txv.sea.js",function(){t&&t()})},showList:function(t,e,n){n?(o=n,i=n.vid):(o=VIDEO_INFO,i=VIDEO_INFO.vid),VIDEO_INFO.mark=[],a.emit("activeTab",-1),"0"!=o.showMark&&b.getActiveListData(function(n){x=[];var o=[],r=[l.GOODS,l.PROPS,l.VOTE_TEXT,l.VOTE_GUESS,l.PK_TOPIC,l.VOTE_TEXT_GUESS,l.VOTE_PIC,l.VOTE_PIC_GUESS,l.WATCH_AND_BUY,l.VOTE_PROP,l.BOX];if(n&&n.length>0)for(var s=0;s<n.length;s++)if(-1==$.inArray(n[s].cate,o)&&o.push(n[s].cate),-1!=$.inArray(n[s].cate,r)||-1!=$.inArray(n[s].cate-1,r)){var c=n[s].gds[0];c.play_cate=n[s].cate,c.play_mid=n[s].did,c.play_mtime=n[s].pt/1e3,c.play_title=n[s].ti,n[s].exts&&n[s].exts.length>0&&(c.play_exts=n[s].exts[0]);for(var p=!0,f=0;f<x.length;f++)if(x[f].play_mtime==c.play_mtime){p=!1;break}p&&x.push(n[s].gds[0])}VIDEO_INFO.mark=x,x.length>0&&b.getSeajs(function(){seajs.use("module/template",function(){seajs.use("module/activelist",function(e){t||(b.showPageScroll(),e.init({vid:i,message:a}));for(var n=!1,o=0,r=x.length;o<r;o++)if(!d(x[o].play_cate,l.WATCH_AND_BUY)&&!d(x[o].play_cate,l.BOX)){n=!0;break}n&&a.emit("activeTab",10),b.initActiveSwitch(e)});var n=null,r=0;if(t&&e&&e.mid){for(var s=0,c=x.length;s<c;s++)if(x[s].play_mid==e.mid){n=x[s];break}r=e.type}u(o,[l.GOODS])&&b.goodsActions(),u(o,[l.VOTE_TEXT,l.PK_TOPIC,l.VOTE_PIC])&&b.voteTextActions(d(r,[l.VOTE_TEXT,l.PK_TOPIC,l.VOTE_PIC])?n:null),u(o,[l.VOTE_GUESS,l.VOTE_TEXT_GUESS,l.VOTE_PIC_GUESS])&&b.voteGuessActions(d(r,[l.VOTE_GUESS,l.VOTE_TEXT_GUESS,l.VOTE_PIC_GUESS])?n:null),u(o,[l.VOTE_GUESS_ANSWER,l.VOTE_TEXT_ANSWER,l.VOTE_PIC_ANSWER])&&b.votePubAnswActions(),u(o,[l.PROPS])&&b.propsActions(d(r,l.PROPS)?n:null),u(o,[l.VOTE_PROP])&&b.votePropActions(d(r,l.VOTE_PROP)?n:null),u(o,[l.BOX])&&b.boxActions()})})},"json"),b.watchAndBuyActions()},getActiveListData:function(t){if(Txplayer&&Txplayer.dataset&&"v5"===Txplayer.dataset.coreVersion)a.on(s.LISTDATA,function(e){switch(e.action){case"list":var n=e.data;if(n&&n.length>0){var i=JSON.parse(JSON.stringify(n));t&&t(i)}}});else{var e=b.url.getMark.replace(/\{vid\}/,i);COVER_INFO&&COVER_INFO.id&&(e+="&cid="+COVER_INFO.id),COLUMN_INFO&&COLUMN_INFO.column_id&&(e+="&lid="+COLUMN_INFO.column_id),$.ajax({url:e,dataType:"jsonp"}).done(function(e){if(0==e.errorno&&e.results[0].fields.length>0){var n=e.results[0].fields[0].videotag;if(n.length>0&&null!=n[0]){var i=n[0].ts.t[0];i.length>0&&t&&t(i)}}})}},initActiveSwitch:function(t){g||(a.on("active_switch",function(e){switch(e.type){case"list":"0"==e.openlist&&a.emit("activeTab",-2),b.showPageScroll(),t.init({vid:i,message:a});break;case"error":b.showError(),$("#error_tips").bind("click",function(){for(var t=[{mark:l.VOTE_TEXT,type:"vote_text"},{mark:l.VOTE_GUESS,type:"vote_guess"},{mark:l.VOTE_GUESS_ANSWER,type:"vote_pub_answ"},{mark:l.GOODS,type:"goods"},{mark:l.PK_TOPIC,type:"pk_topic"},{mark:l.VOTE_PIC,type:"vote_pic"},{mark:l.VOTE_TEXT_GUESS,type:"vote_text_guess"},{mark:l.VOTE_PIC_GUESS,type:"vote_pic_guess"},{mark:l.VOTE_TEXT_ANSWER,type:"vote_text_answ"},{mark:l.VOTE_PIC_ANSWER,type:"vote_pic_answ"},{mark:l.VOTE_PROP,type:"vote_prop"}],n=0,i=t.length;n<i;n++)if(d(e.info.play_cate,t[n].mark)){a.emit("active_switch",{type:t[n].type,info:e.info});break}})}}),g=!0)},goodsActions:function(){seajs.use("module/activegoods",function(t){v||(a.on(s.GOODSSHOW,function(e){switch(e.action){case"click":0==$("#active_"+e.info.play_cate+"_"+e.info.play_mid).size()&&(b.showPageScroll(),t.params.mark=e.info,t.params.mark.openlist=0,t.init({video:o,message:a})),a.emit("activeTab",10,!0);break;case"close":b.flashCloseAction()}},!1),a.on("active_switch",function(e){switch(e.type){case"goods":b.showPageScroll(),t.params.mark=e.info,t.params.mark.openlist=1,t.init({video:o,message:a})}}),v=!0)})},voteTextActions:function(t){seajs.use("module/activevote.normal",function(e){t&&(b.showPage(),e.params.mark=t,e.params.mark.openlist=1,e.init({video:o,message:a}),a.emit("activeTab",10,!0)),f||(a.on("active_switch",function(t){switch(t.type){case"vote_text":case"pk_topic":case"vote_pic":b.showPage(),e.params.mark=t.info,e.params.mark.openlist=1,e.init({video:o,message:a}),a.emit("activeTab",10,!0)}}),a.on(s.VOTESHOW,function(t){t.info&&t.info.play_cate&&d(+t.info.play_cate,[l.VOTE_TEXT,l.PK_TOPIC,l.VOTE_PIC])&&b.voteCommon(e,t)}),f=!0)})},voteGuessActions:function(t){seajs.use("module/activevote.guess",function(e){t&&(b.showPage(),e.params.mark=t,e.params.mark.openlist=1,e.init({video:o,message:a}),a.emit("activeTab",10,!0)),_||(a.on("active_switch",function(t){switch(t.type){case"vote_guess":case"vote_text_guess":case"vote_pic_guess":b.showPage(),e.params.mark=t.info,e.params.mark.openlist=1,e.init({video:o,message:a}),a.emit("activeTab",10,!0)}}),a.on(s.VOTESHOW,function(t){t.info&&t.info.play_cate&&d(+t.info.play_cate,[l.VOTE_GUESS,l.VOTE_TEXT_GUESS,l.VOTE_PIC_GUESS])&&b.voteCommon(e,t)}),_=!0)})},flashCloseAction:function(t){a.emit("active_switch",{type:"list",openlist:0})},voteCommon:function(t,e){var n=0==$("#active_"+e.info.play_cate+"_"+e.info.play_mid).size();switch(e.action){case"show":n&&(b.showPage(),t.params.mark=e.info,t.params.mark.openlist=0,t.init({video:o,message:a})),a.emit("activeTab",10,!0);break;case"vote":n&&(b.showPage(),t.params.mark=e.info,t.params.mark.openlist=0,t.init({video:o,message:a})),a.emit("activeTab",10,!0),"function"==typeof t.blink&&t.blink();break;case"close":b.flashCloseAction()}},votePubAnswActions:function(){seajs.use("module/activevote.pubanswer",function(t){h||(a.on("active_switch",function(e){switch(e.type){case"vote_pub_answ":case"vote_text_answ":case"vote_pic_answ":b.showPage(),t.params.mark=e.info,t.params.mark.openlist=1,t.init({video:o,message:a}),a.emit("activeTab",10,!0)}}),a.on(s.VOTESHOW,function(e){switch(e.action){case"show_ans":b.showPage(),t.params.mark=e.info,t.params.mark.openlist=0,t.init({video:o,message:a}),a.emit("activeTab",10,!0)}}),h=!0)})},propsActions:function(t){seajs.use("module/activeprops",function(e){t&&(b.showPageScroll(),e.params.mark=t,e.params.mark.openlist=1,a.emit("activeTab",10,!0),e.init({vid:i,message:a})),m||(a.on("active_switch",function(t){switch(t.type){case"props":b.showPageScroll(),e.params.mark=t.info,e.params.mark.openlist=1,e.init({vid:i,message:a}),a.emit("activeTab",10,!0)}}),a.on(s.PROPSSHOW,function(t){switch(t.action){case"show":var n=0==$("#active_"+t.info.play_cate+"_"+t.info.play_mid).size();n&&(b.showPageScroll(),e.params.mark=t.info,e.params.mark.openlist=0,e.init({vid:i,message:a})),a.emit("activeTab",10,!0);break;case"person":a.emit("activeTab",10,!0);var n=0==$("#active_"+t.info.play_cate+"_"+t.info.play_mid).size();n?(b.showPageScroll(),e.params.mark=t.info,e.params.mark.openlist=0,e.init({vid:i,message:a},!0)):e.giveProps();break;case"close":b.flashCloseAction()}}),m=!0)})},boxActions:function(){seajs.use("module/activebox",function(t){a.on("active_switch",function(e){switch(e.type){case"box":"obtain"==e.oper&&(a.emit("activeTab",10,!0),t.params.mark=e.info,t.params.mark.openlist=1,t.obtain({vid:i,message:a}))}}),a.on(s.BOXSHOW,function(e){switch(e.action){case"show":seajs.use("module/activelist",function(t){t.showBox(e.info)}),a.emit("activeTab",10,!0);break;case"obtain":return t.params.mark=e.info,t.params.mark.openlist=0,t.obtain({vid:i,message:a}),a.emit("activeTab",10,!0),a.emit("active_switch",{type:"box",oper:"remove"},!0),!0}})})},watchAndBuyActions:function(){window.__flashplayer_watchAndBuyList=function(t){var e=function(t,e,n){t=t.replace(/^http:\/\//g,"//"),seajs.use(t,function(t){b.showPageScroll(),t.show("mod_active_scroll",n,function(){window.PLAYER&&window.PLAYER.callPlayerExtendMethod("relevanceAd_close"),a.emit("active_switch",{type:"list",openlist:e})}),a.emit("activeTab",10,!0)})},n=0,o=0,r=0;if(Txplayer&&Txplayer.dataset&&"v5"===Txplayer.dataset.coreVersion){if(t&&t.length>0)for(var n=0;n<t.length;n++)if(t[n]&&t[n].params&&t[n].params.watch_buy){var c={order:t[n].params.watch_buy,play_mtime:t[n].play_mtime||0,id:t[n].order_id,play_mid:t[n].scene_id,play_cate:l.WATCH_AND_BUY};c.order.link=t[n].link,c.order.order_id=t[n].order_id,VIDEO_INFO.mark||(VIDEO_INFO.mark=[]),VIDEO_INFO.mark.push(c),r++}$.each(VIDEO_INFO.mark,function(t,e){d(e.play_cate,[l.BOX,l.WATCH_AND_BUY])||o++})}else VIDEO_INFO&&VIDEO_INFO.mark&&VIDEO_INFO.mark.length>0&&$.each(VIDEO_INFO.mark,function(e,i){d(i.play_cate,l.WATCH_AND_BUY)?(t&&t[n]&&t[n].params&&t[n].params.watch_buy&&(i.order=t[n].params.watch_buy,i.order.link=t[n].link,i.order.order_id=t[n].order_id,t[n].play_mtime>0&&(i.play_mtime=t[n].play_mtime),r++),n++):d(i.play_cate,l.BOX)||o++});0==o&&0==r?a.emit("activeTab",-1):(a.emit("activeTab",10),b.getSeajs(function(){seajs.use("module/template",function(){seajs.use("module/activelist",function(t){seajs.use("module/activelist",function(t){0==o?(b.showPageScroll(),t.init({vid:i,message:a}),b.initActiveSwitch(t)):t.showAD()})})})})),y||(a.on("active_switch",function(t){switch(t.type){case"watch_buy":t&&t.info&&t.info.order&&t.info.order.detail_url&&e(t.info.order.detail_url,1,{link:t.info.order.link,order_id:t.info.order.order_id})}}),a.on(s.WATCHANDBUYSHOW,function(t){switch(t.action){case"click":t.watch&&t.watch.params&&t.watch.params.watch_buy&&t.watch.params.watch_buy.detail_url&&e(t.watch.params.watch_buy.detail_url,0,{link:t.watch.link,order_id:t.watch.order_id});break;case"close":b.flashCloseAction()}}),y=!0)},window.PLAYER&&window.PLAYER.callPlayerExtendMethod("watchAndBuyList")},votePropActions:function(t){seajs.use("module/activevote.prop",function(e){var n=function(t,n){var o;return $.each(VIDEO_INFO.mark,function(e,n){d(n.play_cate,l.VOTE_PROP)&&n.bt==t.bt&&(o=n)}),0==$("#active_"+t.play_cate+"_"+t.play_mid).size()&&(b.showPage(),e.params.mark=o,e.params.mark.openlist=n,e.init({vid:i,message:a})),a.emit("activeTab",10,!0),o};e.loadRankData().then(function(){t&&n(t,1),w||(a.on("active_switch",function(t){switch(t.type){case"vote_prop":n(t.info,1)}}),a.on(s.VOTEPROPSHOW,function(t){switch(t.action){case"show":var e=n(t.info,0);window.PLAYER&&window.PLAYER.callPlayerExtendMethod("setItemVoteCount",e.rank_total_format?e.rank_total_format:0);break;case"vote":n(t.info,0);break;case"close":b.flashCloseAction()}}),w=!0)})})}};b.justWatchTAReset=function(){$("#active_mod_viewstars").remove()},window.__flashplayer_justwatchTAInfoArray=function(t){var e=[];window.__flashplayer_justwatchTASelect=function(t,n){e.push([t,n])},b.getSeajs(function(){seajs.use("module/template",function(){seajs.use("module/active.watchta",function(n){n.dataReady(t,window.PLAYER),window.__flashplayer_justwatchTASelect=n.select;for(var i=0,o=e.length;i<o;i++)n.select(e[i][0],e[i][1])})})})},t.exports=b},function(t,e,n){var i=window.PageMessage,o=n(157),a=n(52);t.exports=Reve.component("c-online-num",{ready:function(){var t=this;o.init({vid:VIDEO_INFO.vid},function(e){t.show(e,!0),$(t.$el).show()}),o.refresh(t.show),i.waitandon("vidChanged",function(e){o.init({vid:e.vid},t.show)})},methods:{show:function(t,e){t&&t>0&&($("#onlineNum").html(a.formatNum(t)),e?i.wait("tvp-ready",function(){i.emit("tvp-onlineNum",t)}):i.emit("tvp-onlineNum",t))}}})},function(t,e){var n={vid:"",time:12e4},i={init:function(t,e){if(!t||!t.vid)return void(e&&e(!1));for(var o in t)n[o]=t[o];i.ajax(e)},refresh:function(t){setInterval(function(){i.ajax(t)},n.time)},ajax:function(t){$.ajax({url:"//tunnel.video.qq.com/fcgi/user_play_count?vappid=65390405&vsecret=c725d665f8d68a9666a2b6bc382cd2d7dd8cc1d5fb08b807",dataType:"jsonp",data:{strVid:n.vid},timeout:1e4}).done(function(e){if(0==e.ret&&e.data){var n=1;return e.data.lUserCount>0&&(n=e.data.lUserCount),void(t&&t(n))}t&&t(!1)}).fail(function(){t&&t(!1)})}};t.exports={init:i.init,refresh:i.refresh}},function(t,e,n){var i=n(3),o=n(43),a=n(27),r=n(32),s=n(159),c=n(160),l=n(161),d=n(162),u=n(63),p=n(52),f=window.PageMessage,v=i({data:{vplus:{type:"request",action:{url:"jsonp://node.video.qq.com/x/api/video_info"}}},render:function(t){return a(t,"vplus.data.vplus_user_item")}});t.exports=Reve.component("c-intro",{data:function(){return{isMain:!1,hasVplus:!1,vpprotect:!1,hasVpprotect:!1,hasTag:!0,isFollow:!1,followChecked:!1,$shortTags:{length:0}}},ready:function(){var t=this,e=COVER_INFO,n=e&&e.cover_id;this.need_check_follow=!!$(this.$el).find("._btn_follow").length,this.$data.$shortTags=$(t.$el).find("._video_tags_short"),this.updateState(VIDEO_INFO),this.isvpprotect(VIDEO_INFO),this.updateTagLength();var i=function(i){if(t.updateState(i),t.isvpprotect(i),t.need_check_follow&&u.check({id:i.vid}),c){var a=o(t,c,{column:COLUMN_INFO,cover:e,video:i});$(t.$el).find("._video_title").html(a),$(t.$el).find("._date").text(p.formatDate(i.video_checkup_time,"yyyy年MM月dd日发布")),$(t.$el).find("._video_tags").html(t.renderTags(e,i)),t.updateTagLength(),v({cid:n,vid:i.vid}).then(function(n){var i=n&&n.euin,a=i&&""!=i;if(a){var r=o(t,s,{type:e.type,uploadQQInfo:n});$(t.$el).find("._video_user").html(r)}t.$set({hasVplus:a})})}};f.wait("vidChanged",function(){f.on("vidChanged",i),i.apply(this,arguments)}),this.need_check_follow&&u.onChanged(function(e){var n=VIDEO_INFO.vid;e.id==n&&t.$set({isFollow:e.follow,followChecked:!0})})},methods:{renderTags:function(t,e){return o(this,d,{cover:t,video:e,sellPoint:t.sellPoint,yearAndArea:t.yearAndArea})},scoreexpose:function(){clearTimeout(_),_=setTimeout(function(){r.stat("intro:score")},3e3)},isvpprotect:function(t){var e=this;$.ajax({url:"//c.v.qq.com/vvideooricheck?otype=json&vid="+t.vid,data:{vid:t.vid},dataType:"jsonp"}).done(function(t){"o"==t.s&&1==t.ori?(e.$set("vpprotect",!0),e.$data.hasVpprotect||($(e.$el).find("._video_title").after(o(e,l,{})),e.$set("hasVpprotect",!0))):e.$set("vpprotect",!1)})},updateState:function(t){var e=(t.category_map||[]).indexOf("正片")>=0;this.$set({isMain:e})},updateTagLength:function(){this.$set("hasTag",$(this.$el).find("._video_tags").children().length||COVER_INFO.type)},followV:function(){var t=this,e=t.$data,n=VIDEO_INFO;if(e.followChecked){var i={id:n.vid,type:1};e.isFollow?u.remove(i,function(e){e&&t.$set({isFollow:!1})}):u.add(i,function(e){e&&t.$set({isFollow:!0})})}}}});var _},function(module,exports){module.exports=function(d){with(d)return(function(){return uploadQQInfo.urlfull&&uploadQQInfo.urlfull.length?'\n<a href="'+uploadQQInfo.urlfull+'" target="_blank" class="user_info" _stat="intro:user">\n\t'+(function(){if(uploadQQInfo.avatar&&uploadQQInfo.avatar.length)return'\n\t<img class="user_avatar" src="'+_.imgUrl(uploadQQInfo.avatar)+'" />\n\t'}()||"")+'\n\t<span class="user_name">'+uploadQQInfo.nick+"</span>\n</a>\n":"\n\t"+(function(){if(uploadQQInfo.avatar&&uploadQQInfo.avatar.length)return'\n\t<img class="user_avatar" src="'+_.imgUrl(uploadQQInfo.avatar)+'" />\n\t'}()||"")+'\n\t<span class="user_name">'+uploadQQInfo.nick+"</span>\n"}()||"")+"\n\n"+(function(){if(3!=uploadQQInfo.user_type)return'\n<a href="javascript:" class="btn_book"  r-class="{btn_booked: follow'+uploadQQInfo.euin+'}" r-subscribe="'+uploadQQInfo.euin+'" \n\tr-attr="{title: follow'+uploadQQInfo.euin+" ? '取消订阅' : '订阅'; _stat: follow"+uploadQQInfo.euin+" ? 'intro:cancelorder' : 'intro:order'}\">\n\t<span class=\"btn_txt\" r-text>{follow"+uploadQQInfo.euin+" ? '已订阅' : '订阅'}</span>"+(function(){if(uploadQQInfo.count1)return'\n\t<span class="num">'+_.formatNum(uploadQQInfo.count1)+"</span>"}()||"")+"\n</a>\n"}()||"")}},function(module,exports){module.exports=function(d){with(d)return(function(){return 1==cover.type?"\n\t"+(function(t){return"\n\t\t"+(function(){return video.c_full?'\n\t    <a href="'+_.detailUrl(cover.cover_id)+'" target="_blank" _stat="intro:title" title="'+t+'">'+t+"</a>\n\t\t":"\n\t\t"+t+"\n\t\t"}()||"")+"\n\t"}(_(video.title||video.c_title_output))||"")+"\n    "+(function(){if(cover.title_en)return'\n        <span class="alias" r-show="{isMain}" style="display:'+(function(){return(video.category_map||[]).indexOf("正片")>=0?"inline-block":"none"}()||"")+';">'+(cover.title_en||"")+"</span>\n    "}()||"")+"\n\n":2==cover.type||3==cover.type||106==cover.type?"\n\t"+(function(t){return"\n\t"+t+"\n\t"}(_.listStyleTitle(video,cover,{wrapA:!0}))||"")+"\n\n":10==cover.type?"\n\t"+(function(){return video.c_full&&column.column_id?"\n\t"+(function(t,e){return'\n\t<a href="/detail/'+column.column_id.charAt(0)+"/"+column.column_id+'.html" target="_blank" _stat="intro:title" title="'+t+'">'+t+"</a> "+e+"\n\t"}("《"+_(column.title)+"》",_(video.title))||"")+"\n\t":"\n\t"+(function(t){return"\n\t\t"+t+"\n\t"}(_(video.title))||"")+"\n\t"}()||"")+"\n\n":"\n\t"+_(video.title)+"\n\n"}()||"")+"\n"}},function(module,exports){module.exports=function(d){with(d)return'<span class="mark_copyright _vpprotect" r-show="{vpprotect}">原创</span>'}},function(module,exports){module.exports=function(d){with(d)return""+(function(){return"undefined"==typeof cover.type||-1==[1,2,3,106,10,9].indexOf(cover.type)?"\n    "+(function(){if(video.pioneer_tag)return"\n    \n"}()||"")+"\n":9==cover.type?"\n\t"+(function(t,e){return""+(function(){if(t&&"不详"!=t)return""+(function(){return e?'\n        <a _stat="intro:tag" href="'+e+'" target="_blank" class="tag_item">'+t+"</a>":'\n        <span class="tag_item">'+t+"</span>"}()||"")}()||"")}(_(cover.area_name),yearAndArea&&yearAndArea.areaUrl)||"")+"\n\n"+(function(){return 106==cover.type?"\n    "+(function(t,e){return"\n        "+(function(){return e?'\n        <a _stat="intro:tag" href="'+e+'" target="_blank" class="tag_item">'+t+"</a>\n        ":'\n        <span class="tag_item">'+t+"</span>\n        "}()||"")+"\n    "}(cover.cartoon_age,yearAndArea&&yearAndArea.yearUrl)||"")+"\n":"\n    "+(function(t,e){return(function(){if(t&&"noop"!=t)return""+(function(){return e?'\n            <a _stat="intro:tag" href="'+e+'" target="_blank" class="tag_item">'+t+"</a>":'\n            <span class="tag_item">'+t+"</span>"}()||"")}()||"")+"\n    "}(yearAndArea.year||cover.year,yearAndArea&&yearAndArea.yearUrl)||"")+"\n"}()||"")+"\n"+(function(){if(cover.main_genre)return'\n    <a _stat="intro:tag" href="//v.qq.com/x/search/?stag=txt.playpage.vppdesc&q='+encodeURIComponent(_(cover.main_genre)+(-1==cover.main_genre.indexOf(cover.type_name)?cover.type_name:""))+'" target="_blank" class="tag_item">'+_(cover.main_genre)+"</a>"}()||"")+(function(){if(cover.sub_genre&&cover.sub_genre.length)return"\n    "+cover.sub_genre.slice(0,cover.vipPage?4:5).filter(function(t){return t!=cover.main_genre}).map(function(t,e){return'<a _stat="intro:tag" href="//v.qq.com/x/search/?stag=txt.playpage.vppdesc&q='+encodeURIComponent(_(t)+(-1==t.indexOf(cover.type_name)?cover.type_name:""))+'" target="_blank" class="tag_item">'+_(t)+"</a>"}).join(" ")}()||"")+"\n\t"+(function(){if(video.pioneer_tag)return"\n    \n"}()||"")+"\n":"\n\t"+(function(){if(sellPoint)return""+(function(){if(sellPoint.iGoldenHorseAwardFlag)return'\n    <span class="tag_item tag_item_cup">\n        <i class="icon_sm icon_cup_sm">\n            <svg class="svg_icon svg_icon_cup_sm" viewBox="0 0 16 16" width="16" height="16">\n              <use xlink:href="#svg_icon_cup_sm"></use>\n            </svg>\n        </i>\n        <span class="icon_text">金马奖</span>\n    </span>'}()||"")+(function(){if(sellPoint.iDoubanHighScoreFlag)return'\n    <span class="tag_item tag_item_douban">\n        <i class="icon_sm icon_douban_sm">\n            豆\n        </i>\n        <span class="icon_text">豆瓣高分</span>\n    </span>'}()||"")+(function(){if(sellPoint.iWeiboHotCmtFlag)return'\n    <span class="tag_item tag_item_weibo">\n        <i class="icon_sm icon_weibo_sm">\n            <svg class="svg_icon svg_icon_weibo_sm" viewBox="0 0 16 16" width="16" height="16">\n              <use xlink:href="#svg_icon_weibo_sm"></use>\n            </svg>\n        </i>\n        <span class="icon_text">微博热议</span>\n    </span>'}()||"")}()||"")+"\n\t"+(function(){return video.category_map&&video.category_map.indexOf("正片")+video.category_map.indexOf("预告片")!=-2?"\n\t\t"+(function(t,e){return""+(function(){if(t&&"不详"!=t)return""+(function(){return e?'\n        <a _stat="intro:tag" href="'+e+'" target="_blank" class="tag_item">'+t+"</a>":'\n        <span class="tag_item">'+t+"</span>"}()||"")}()||"")}(_(cover.area_name),yearAndArea&&yearAndArea.areaUrl)||"")+"\n\n"+(function(){return 106==cover.type?"\n    "+(function(t,e){return"\n        "+(function(){return e?'\n        <a _stat="intro:tag" href="'+e+'" target="_blank" class="tag_item">'+t+"</a>\n        ":'\n        <span class="tag_item">'+t+"</span>\n        "}()||"")+"\n    "}(cover.cartoon_age,yearAndArea&&yearAndArea.yearUrl)||"")+"\n":"\n    "+(function(t,e){return(function(){if(t&&"noop"!=t)return""+(function(){return e?'\n            <a _stat="intro:tag" href="'+e+'" target="_blank" class="tag_item">'+t+"</a>":'\n            <span class="tag_item">'+t+"</span>"}()||"")}()||"")+"\n    "}(yearAndArea.year||cover.year,yearAndArea&&yearAndArea.yearUrl)||"")+"\n"}()||"")+"\n"+(function(){if(cover.main_genre)return'\n    <a _stat="intro:tag" href="//v.qq.com/x/search/?stag=txt.playpage.vppdesc&q='+encodeURIComponent(_(cover.main_genre)+(-1==cover.main_genre.indexOf(cover.type_name)?cover.type_name:""))+'" target="_blank" class="tag_item">'+_(cover.main_genre)+"</a>"}()||"")+(function(){if(cover.sub_genre&&cover.sub_genre.length)return"\n    "+cover.sub_genre.slice(0,cover.vipPage?4:5).filter(function(t){return t!=cover.main_genre}).map(function(t,e){return'<a _stat="intro:tag" href="//v.qq.com/x/search/?stag=txt.playpage.vppdesc&q='+encodeURIComponent(_(t)+(-1==t.indexOf(cover.type_name)?cover.type_name:""))+'" target="_blank" class="tag_item">'+_(t)+"</a>"}).join(" ")}()||"")+"\n\t":"\n\t\t"+(function(){if(video.pioneer_tag)return"\n    \n"}()||"")+"\n\t"}()||"")+"\n"}()||"")}},function(t,e,n){"use strict";var i=n(64),o=n(42),a=window.sessionStorage;t.exports=Reve.component("c-mood",{data:function(){return{pText:"",score:0,likeStatus:undefined,likeText:"",dislikeText:"",cgiArgs:{vappid:"17174171",vsecret:"a06edbd9da3f08db096edab821b3acf3c27ee46e6d57c2fa",vversion_name:"5.2.0.1234",vplatform:5,strCid:COVER_INFO.cover_id},timer:{}}},ready:function(){this.$set("beginTime",new Date),this.init();var t=a&&a.getItem("mood_click");t&&(this.$set("beginTime",a.getItem("mood_begin_time")),a.removeItem("mood_begin_time"),this.thumbsChange("1"==t),a.removeItem("mood_click"))},methods:{init:function(){var t=this;i("//access.video.qq.com/fcgi/person_evaluate_get",t.$data.cgiArgs,function(e,n){if(!n||0!=n.ret||0!=n.data.iRet)return void t.error();var i=n.data;t.$set("score",i.iScore),0===i.eOp?t.thumbsInit():1===i.eOp?t.thumbsUp():t.thumbsDown(),t.updateProgress()}),txv.login.addLogoutCallback(function(){txv.cookie.del("uin",".qq.com"),txv.cookie.del("o_cookie",".qq.com")})},updateProgress:function(){var t=this,e=$(this.$el);e.find("._mood_progress").css({width:t.$data.score+"%"}),t.$set("timer",setTimeout(function(){e.removeClass("active")},2e3))},thumbsInit:function(){var t=this;this.$set({pText:t.$data.score+"%",likeStatus:undefined,likeText:"顶",dislikeText:"踩"})},thumbsUp:function(){var t=this;$(this.$el).addClass("mod_mood_liked").removeClass("mod_mood_disliked"),this.$set({pText:t.$data.score+"%",likeStatus:!0,likeText:"已顶",dislikeText:"踩"})},thumbsDown:function(){var t=this;$(this.$el).addClass("mod_mood_disliked").removeClass("mod_mood_liked"),this.$set({pText:100-t.$data.score+"%",likeStatus:!1,likeText:"顶",dislikeText:"已踩"})},thumbsChange:function(t,e){var n=this,r=$(this.$el);if(!txv.login.isLogin())return txv.login.openLogin({success:function(){txv.vip.getVipInfo().done(function(e){1==e.vip?a&&(a.setItem("mood_click",t?1:0),a.setItem("mood_begin_time",n.$data.beginTime)):n.thumbsChange(t)})}}),!1;if(!!t===this.$data.likeStatus)return!1;clearTimeout(n.$data.timer),r.removeClass("active");var s=o.extend({},n.$data.cgiArgs,{strVid:VIDEO_INFO.vid,eOp:t?1:2,iTime:new Date-n.$data.beginTime});i("//access.video.qq.com/fcgi/person_evaluate_set",s,function(e,i){if(!i||0!=i.ret||0!=i.data.iRet)return void n.error();n.$set("score",i.data.iScore),t?n.thumbsUp():n.thumbsDown(),r.addClass("active"),n.updateProgress()})},error:function(){$(this.$el).hide()}}})},function(t,e,n){var i=n(3),o=n(43),a=n(165),r=n(27),s=n(166),c=i({data:{imgReq:{type:"request",action:{url:"jsonp://data.v.qq.com/videocms/getNewsvideoList.php?ref=pclient&appkey=6UkwV9DeHr9_PC&vsite=vshou&ename=download_banner_pc"}}},render:function(t){var e=txv.ua.windows,n=r(t,"imgReq.data.content");return n?n.map(function(t){var n=e?t.pic_url:t.tidbits_pic;return n=n&&n.replace(/^https?:/,""),{title:t.title,url:n}}).filter(function(t){return t.url&&""!=t.url}):[]}});t.exports=Reve.component("c-intro-ad",{data:function(){return{cur:0}},ready:function(){var t=this,e=$(t.$el).find("a");c().then(function(n){var i=n.sort(function(){return Math.random()-.5}),a=o(t,s,{imgs:i});e.append(a),t.loaded=!0,setInterval(function(){var e=t.$data.cur;e++,e<i.length||(e=0),t.$set({cur:e})},3e3)})},methods:{download:function(){this.loaded&&a.play("vad")}}})},function(t,e){function n(t){return $.extend({cid:COVER_INFO.cover_id,vid:a},t)}var i=txv.client,o=window.PageMessage,a=VIDEO_INFO.vid;o.on("vidChanged",function(t){a=t.vid}),t.exports={exist:i.exist,download:function(t,e){return e=n(e||{}),i.down(e,t)},play:function(t,e){return e=n(e||{ext:"start=0"}),i.play(e,t)},exec:function(t){return i.execSso(t)}}},function(module,exports){module.exports=function(d){with(d)return""+(imgs||[]).map(function(t,e){return'\n<img src="'+t.url+'" alt="'+t.title+'" r-class="{none: '+e+' != cur}">'}).join("")}},function(t,e,n){var i=n(43),o=n(32),a=n(27),r=n(168),s=n(169),c=n(170),l=n(171),d=window.PageMessage;t.exports=Reve.component("c-desc",{data:function(){return{cur:1,curEpiIdx:0,curDescId:0,hasExpand:!1,descExpand:!0,hasEpiDesc:!1,epiDescExpand:!1,hasMini:!0,miniEpiError:!1,miniEpiLoading:!1,epiError:!1,epiLoading:!1,epiCur:0,pagers:[],descs:{}}},ready:function(){var t=this,e=COVER_INFO,n=VIDEO_INFO;$(t.$el).find(".summary").height()>48&&t.$set({hasExpand:!0,descExpand:!1});var o=e.plot_id,r=0;if(o)try{r=JSON.parse(o)}catch(h){r=0}if(r){var s=Object.keys(r).map(function(t){var e=r[t],n=+a(e.match(/_(\d+)$/),"1");if(n)return{idx:n,title:"第"+n+"集",id:e,vid:t}}).filter(function(t){return t}).sort(function(t,e){return t.idx>e.idx?1:-1}),u=[];s.forEach(function(t){var e=Math.floor((t.idx-1)/5),n=u[e];n||(u[e]=n=[]),t.pId=e,n.push(t)});var p=u.map(function(t){var e=t[0],n=t[t.length-1],i=t.map(function(t){return t.id});return{id:e.pId,dIds:i,title:e==n?e.idx:e.idx+"-"+n.idx}});if(p[0]){var f=i(t,c,{pagers:p});$(t.$el).find(".mod_story_nav").html(f);var v=i(t,l,{videos:s});$(t.$el).find(".mod_story_detail dl").html(v),t.$set({hasEpiDesc:!0,curDescId:r[n.vid],curEpiIdx:+n.episode,pagers:p});var _=function(e){var n=r[e.vid];n?(t.$set({hasMini:!0,curDescId:n,curEpiIdx:+e.episode}),t.$data.epiDescExpand?t.syncEpi():t.syncMiniEpi()):(t.syncEpi(),t.$set({hasMini:!1,epiDescExpand:!0}))};d.wait("vidChanged",function(){d.on("vidChanged",_),_.apply(this,arguments)})}}},methods:{changeTab:function(t){var e=this;return function(){switch(t){case 0:e.bossed||(e.bossed=!0,o.event("desc"));break;case 1:e.syncEpi()}if(e.$set({cur:t,descExpand:!0}),0==t){$(e.$el).find(".summary").height()>48&&e.$set({hasExpand:!0})}}},toggleExpand:function(){this.$set({
descExpand:!this.$data.descExpand})},toggleEpiExpand:function(){var t,e=$(window),n=this,i=n.$data,o=!i.epiDescExpand;o?(t=function(){var t=$(n.$el).find('dt[data-did="'+i.curDescId+'"]');t.length&&(e.scrollTop(t.offset().top-73),setTimeout(function(){e.scrollTop(t.offset().top-73)},100))},n.syncEpi(t)):(n.syncMiniEpi(),t=function(){e.scrollTop($(n.$el).offset().top-73)}),n.$set({epiDescExpand:o}),t()},changeEpis:function(t,e){var n=this;return function(){var i=n.$data.pagers[t],o=i&&i.dIds;o&&(r({ids:o}).then(function(o){var a={},r=n.$data.epiCur==t;r&&(a.epiLoading=!1),o?(a.descs=o,i.loaded=!0):!i.loaded&&r&&(a.epiError=!0),n.$set(a),i.loaded&&r&&e&&e()}),n.$set({epiLoading:!i.loaded})),n.$set({epiCur:t,epiError:!1})}},syncEpi:function(t){var e=this,n=e.$data,i=n.curDescId,o=n.pagers,a=0,r=function(){e.$set({epiCur:a}),e.changeEpis(a,t)()};o.some(function(t){return a=t.id,t.dIds.some(function(t){if(i==t)return r(),!0})})||r()},retryEpis:function(){var t=this,e=t.$data.epiCur;t.changeEpis(e)()},syncMiniEpi:function(){var t=this,e=$(t.$el).find("._cur_desc"),n=t.$data.curDescId,o=t.$data.curEpiIdx;n&&(t.$set({miniEpiLoading:!0}),r({ids:[n]}).then(function(a){var r={miniEpiLoading:!1};a=a||t.$data.descs;var c=a&&a[n];c&&e.html(i(t,s,{episode:o,desc:c})),r.miniEpiError=!c,t.$set(r)}))},play:function(t){return function(){window.playJSBridge.changeVid(t),$(window).scrollTop(0)}}}})},function(t,e,n){function i(t){return t.replace(/^\s+/,"")}var o=n(3),a=n(27),r={};t.exports=o({data:{descPage:{type:"request",action:{url:"jsonp://node.video.qq.com/x/api/cut",timeout:3e3,fixBefore:function(t){var e=t.ids;if(e&&e[0]&&(e=e.filter(function(t){return!r[t]}),e.forEach(function(t){r[t]=1}),e[0]))return{ids:e.join(","),_ext:{rawIds:e}};throw"quit"},onError:function(t,e,n){if("quit"!=t){var i=a(n,"_ext.rawIds")||n.ids;i&&i[0]&&i.forEach(function(t){1===r[t]&&(r[t]=0)})}return[]}}}},render:function(t){var e=t.descPage;if(e&&e.length)return e.forEach(function(t){var e=t.jsonData,n=t.id;r[n]=i(e.episodes_desc)}),r}})},function(module,exports){module.exports=function(d){with(d)return(function(){if(episode&&+episode)return'\n<div class="title">\n    <span>第'+ +episode+"集</span>\n</div>\n"}()||"")+'\n<p class="content">\n    '+desc.replace(/\s/g,"")+'\n    <span class="expend_more more" _stat="desc:plotexpand" r-on="{click: toggleEpiExpand}">所有剧集<i class="icon_xs arrow_down_xs"><svg class="svg_icon svg_icon_arrow_down_xs" viewBox="0 0 10 10" width="10" height="10"><use xlink:href="#svg_icon_arrow_down_xs"></use></svg></i></span>\n</p>\n'}},function(module,exports){module.exports=function(d){with(d)return(pagers||[]).map(function(t,e){return'\n<li class="nav_item" r-class="{current: epiCur == '+e+'}" r-on="{click: changeEpis('+e+')}" _stat="intro:plotpage">'+t.title+"</li>\n"}).join("")+"\n"}},function(module,exports){module.exports=function(d){with(d)return""+(videos||[]).map(function(t,e){return'\n<dt class="title" r-show="{epiCur == '+t.pId+'}" data-did="'+t.id+'">\n    <span>'+t.title+'</span>\n    <i class="icon_sm icon_play_sm" r-on="{click: play(\''+t.vid+'\')}">\n        <svg class="svg_icon svg_icon_play_sm" viewBox="0 0 16 16" width="16" height="16">\n            <use xlink:href="#svg_icon_play_sm"></use>\n        </svg>\n    </i>\n</dt>\n<dd class="content" r-show="{epiCur == '+t.pId+'}" r-text="inner">{descs[\''+t.id+"']}</dd>\n"}).join("")}},function(t,e){var n=window.PageMessage;t.exports=Reve.component("c-desc-video",{data:function(){return{hasDesc:!1,hasExpand:!1,descExpand:!0,$introItem:{length:0}}},ready:function(){function t(t){e.$data.$introItem.text(t.desc||""),e.updateHasExpand()}var e=this;this.$data.$introItem=$(e.$el).find("._video_summary"),this.updateHasExpand(),n.wait("vidChanged",function(){n.on("vidChanged",t),t.apply(this,arguments)})},methods:{toggleExpand:function(){this.$set({descExpand:!this.$data.descExpand})},updateHasExpand:function(){this.$set("hasDesc",!!this.$data.$introItem.text().length);var t={};this.$data.$introItem.height()>48?(t.hasExpand=!0,t.descExpand=!1):(t.hasExpand=!1,t.descExpand=!0),this.$set(t)}}})},function(t,e,n){function i(){var t,e=0;try{e=txv.login.getUnicode()}catch(n){}try{return 0==e?(window.localStorage?(t=window.localStorage.getItem("vplay_no_login_code"))||(t=Math.random().toString(16).substring(2),window.localStorage.setItem("vplay_no_login_code",t)):t=Math.random().toString(16).substring(2),t):""}catch(n){return""}}var o=(n(174),n(42)),a=n(43),r=n(64),s=n(175)("recommends"),c=n(176),l=function(t){var e,n=[];return function(i){if(e)return n.push(i);var a=[].slice.call(arguments);a.shift(),a.unshift(function(){e=!1;var t=this,a=arguments;i&&i.apply(t,a);var r=n;n=[],o.forEach(r,function(e){e&&e.apply(t,a)})}),e=!0,t.apply(this,a)}}(function(t,e){var n=this,o=n.$data.page_data["p_"+n.$data.page_index];return"lazyload"===e&&n.$data.page_data.p_0?void t():o?(n._renderAsync(o,t),void n._setNextPidx(t)):(this.$data.cgiArgs.no_login_id=i(),void r("//node.video.qq.com/x/vlikecgi/related_rec",this.$data.cgiArgs,function(e,i){if(e)return n.$data.jsonpCount++,n.$data.jsonpCount>2&&n._hide(),void t();n.$data.jsonpCount=0;var o=i&&i.data&&i.data.recItemList;if(!o||!o[0])return void n._hide();n.$data.cgiArgs.pageContext=encodeURI(i.data.pageContext),n.$data.firstTime=!1;for(var a={cid:n.$data.cgiArgs.cid,seqNum:i.data.seqNum,group:{}},r=0;r<o.length;r++){var s="g_"+parseInt(r/7);a.group[s]||(a.group[s]=[]),a.group[s].push(o[r])}n._renderAsync(a,t),n.$data.page_data["p_"+n.$data.page_index]=a,n._setNextPidx(t),txv.Message.emit("report_recomm_refresh",n.$el)},{timeout:5e3}))});t.exports=Reve.component("c-cover-recommend",{data:function(){return{total_page:4,page_index:0,page_data:{},firstTime:!0,jsonpCount:0,cgiArgs:{cid:"",rec_num:14,pageContext:"",no_login_id:""}}},ready:function(){this.$data.cgiArgs.cid=COVER_INFO.cover_id;var t=this;window.PageMessage&&window.PageMessage.waitandon("loadRecommends",function(e,n){var i=s.get();if(i)return void n(i);t.load(n)})},methods:{lazyload:function(){l.call(this,null,"lazyload")},load:function(){l.apply(this,arguments)},change:function(){l.call(this)},_renderAsync:function(t,e){var n=this,i=$(this.$el),r=i.find("._recommend-list"),l=a(n,c,{coverRecommends:t});i.removeClass("mod_row_loading"),r.html("").append(l);var d=o.map(t.group.g_0,function(t){return t.itemId+"|"+t.unionInfo.title+"|"+t.unionInfo.horizontal_pic_url+"|"+t.unionInfo.horizontal_pic_url.replace(".jpg","_big.jpg")});s.set(d),e&&"function"==typeof e&&e(d),txv.Boss&&txv.Boss.wind(r)},_setNextPidx:function(t){t(),this.$data.page_index>=this.$data.total_page?this.$data.page_index=0:this.$data.page_index++},_hide:function(){this.$data.firstTime&&$(this.$el).hide()}}})},function(t,e,n){"use strict";var i=n(42),o={queryParse:function(t,e){if(!t)return{};e=e||"&";var n=t.replace(/^\?/,""),o={},a=n?n.split(e):null;return a&&a.length>0&&i.forEach(a,function(t){t=t.split("=");var e=t.splice(0,1),n=t.join("=");o[e]=decodeURIComponent(n)}),o},queryJoin:function(t){var e=[].slice.call(arguments);e[0]={};var n=o.queryStringify(i.extend.apply(i,e));if(!n)return t;var a;return a=/[\?&]$/.test(t)?"":~t.indexOf("?")?"&":"?",t+a+n},queryStringify:function(t,e){return t?i.map(i.keys(t),function(e){return e+"="+encodeURIComponent(t[e])}).join(e||"&"):""}};t.exports=o},function(t,e){"use strict";function n(){this.msg=new i,this._value=null}var i=window.PageMessage;n.prototype.get=function(){return this._value},n.prototype.set=function(t){return this._value=t,this.msg.emit("change",t),this},n.prototype.watch=function(t){return this.msg.on("change",t)};var o={};t.exports=window.PageStore=function(t){return o[t]||(o[t]=new n),o[t]}},function(module,exports){module.exports=function(d){with(d)return Object.keys(coverRecommends.group).map(function(t,e){return'\n<ul class="figure_list">\n    '+(coverRecommends.group[t]||[]).map(function(t,e){return'\n    <li __wind class="list_item" data-cid="'+t.itemId+'">\n        <a href="'+_.playUrl(t.itemId)+'" class="figure" tabindex="-1" target="_blank" data-float="'+t.itemId+'" _stat="cover-recommend:picclick">\n            <img class="figure_pic" src="//i.gtimg.cn/qqlive/images/20150608/pic_v.png" r-lazyload="'+_.coverPic(t.unionInfo.cover_id,"","y")+'" alt="'+t.unionInfo.title+'" onerror="picerr(this,\'v\')">\n            '+_.coverCorner(t.unionInfo.web20_imgtag,[1,2,3])+'\n        </a>\n        <strong class="figure_title"><a href="'+_.playUrl(t.itemId)+'" title="'+t.unionInfo.title+'" _stat="cover-recommend:click" target="_blank">'+t.unionInfo.title+'</a></strong>\n        <div class="figure_desc" title="'+t.unionInfo.second_title+'" r-show="{'+(null!=t.unionInfo.second_title)+'}">'+t.unionInfo.second_title+"</div>\n    </li>\n    "}).join("")+"\n</ul>\n"}).join("")+"\n"}},function(t,e,n){function i(){var t=document.createElement("video");if("function"==typeof t.canPlayType){if("probably"==t.canPlayType('video/mp4; codecs="mp4v.20.8"'))return!0;if("probably"==t.canPlayType('video/mp4; codecs="avc1.42E01E"')||"probably"==t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))return!0}return!1}var o=n(2),a=n(32),r=n(149),s=(n(27),n(178)),c=n(179),l=n(180);t.exports=Reve.component("c-video-cut",{data:function(){return{hasPrev:!1,hasNext:!1,ready:!1}},methods:{display:function(){var t=this,e=$(t.$el);if("undefined"!=typeof txv.ua.ie||!i())return void e.hide();var n=$(t.$el).find("ul.figure_list");t.pager=new c({getVisibleNum:function(){var t=124,e=n.children();if(e.length)t=e.width();else{var i=$('<li class="list_item">');n.append(i),t=i.width(),i.remove()}return Math.floor(n.width()/(t+5))+1},onChanged:function(e,i,o){t.$set({hasPrev:e,hasNext:i}),o[0]&&l.load({parent:n,vm:t},o)}});return o.all([s(),r()]).then(function(e){var n=e[0],i=n.videos;if(!i[0])throw new Error("no videos");t.pager.config({data:i}),a.event("video-cut"),t.$set("ready",!0)})["catch"](function(t){e.hide()})},prev:function(){this.pager.prev()},next:function(){this.pager.next()},leave:function(){l.pause()}}})},function(t,e,n){var i=n(3),o=n(27),a=i({data:{cuts:{type:"request",action:{url:"jsonp://s.video.qq.com/load_poster_list_info?otype=json&plat=2&req_type=13"}}},render:function(t){var e=o(t,"cuts.modList.0.posterList");if(e&&e.length){var n=[],i=[];return e.forEach(function(t){switch(+t.dataType){case 1001:n.push(t);break;case 1e3:i.push(t)}}),{videos:n,pics:i}}throw new Error("no videos")}}),r=0;t.exports=function(){return r||(r=a({id:COVER_INFO.cover_id})),r}},function(t,e){function n(t){var e=this;t=t||{},e.idx=r.length,r.push(t),t.cur=0,t.num=0,t.data=t.data||[],i(e);var n=0;$(window).resize(function(){n&&(clearTimeout(n),n=0),n=setTimeout(function(){n=0,i(e)},500)})}function i(t){var e=r[t.idx];e.num=e.getVisibleNum(),o(t)}function o(t){var e=r[t.idx],n=e.cur,i=e.num,o=e.data.length;n+i>o&&(n=o-i),n<0&&(n=0),e.cur=n,e.onChanged&&a(e)}function a(t){var e=t._cur||0,n=t._num||0,i=t._total||0,o=t.cur,a=t.num,r=t.data,s=r.length;if(o!=e||a!=n||s!=i){var c=o+a,l=r.filter(function(t,e){return e>=o&&e<c});t.onChanged(o>0,c<r.length,l)}t._cur=t.cur,t._num=t.num,t._total=t.data.length}var r=[];n.prototype.config=function(t){var e=this,n=r[e.idx];r[e.idx]=$.extend(n,t),i(e)},n.prototype.prev=function(){var t=r[this.idx];t.cur=t.cur-t.num,o(this)},n.prototype.next=function(){var t=r[this.idx];t.cur=t.cur+t.num,o(this)},n.prototype.move=function(t){var e=r[this.idx];e.cur=e.cur+t,o(this)},t.exports=n},function(t,e,n){function i(t){var e=t.id,n=l[e];if(!n){d++,n={containerId:"mod_mini_"+d,vid:e},c.push(n),l[e]=n;var i;return c.length>s&&(i=c.shift(),l[i.vid]=0,i.player=0),{create:n,remove:i}}return{exist:n}}var o=n(43),a=n(149),r=n(181),s=10,c=[],l={},d=0,u={load:function(t,e){var n=t.parent,s=t.vm,c=n.children();c.hide();var l=e.map(function(t){var e=i(t),n=e.exist;n&&c.filter("#"+n.containerId).show();var o=e.remove;return o&&c.filter("#"+o.containerId).remove(),e.create}).filter(function(t){return t});l[0]&&(n.append(o(s,r,{videos:l})),l.forEach(function(t){a().then(function(e){t.isHover=!1;var i=n.find("#"+t.containerId),o=function(){t.isHover=!0};i.bind("mousemove",o),i.bind("mouseenter",function(){i.unbind("mousemove",o).bind("mousemove",o),t.isHover=!0,t.playHandle&&(clearTimeout(t.playHandle),t.playHandle=0),t.playHandle=setTimeout(function(){t.playHandle=0,a&&a.play()},150)}),i.bind("mouseleave",function(){i.unbind("mousemove",o),t.isHover=!1,t.playHandle&&(clearTimeout(t.playHandle),t.playHandle=0)});var a=new e({containerId:t.containerId,vid:t.vid,preload:!0,delegateMouseenter:!0,defaultStyle:!1});a.once("playing",function(){setTimeout(function(){t.player=a,t.isHover||a.pause()},200)}).on("playing",function(){u.pause(t)})})}))},pause:function(t){c.forEach(function(e){var n=e.player;e!=t&&n&&n.pause()})}};t.exports=u},function(module,exports){module.exports=function(d){with(d)return""+(videos||[]).map(function(t,e){return'\n<li class="list_item" id="'+t.containerId+'"></li>\n'}).join("")}},function(t,e,n){var i=(n(2),n(42)),o=n(43),a=n(32),r=n(178),s=n(179),c=n(183);t.exports=Reve.component("c-pic-cut",{data:function(){return{list:[],hasNext:!1,hasPrev:!1,ready:!1}},methods:{display:function(){var t=this,e=$(t.$el),n=e.find("ul.figure_list"),l=t.pager=new s({getVisibleNum:function(){var t=124,e=n.children();if(e.length)t=e.width();else{var i=$('<li class="list_item">');n.append(i),t=i.width(),i.remove()}return Math.floor(n.width()/(t+5))+1},onChanged:function(e,i,a){var r=o(t,c,{videos:a});n.html(r),t.$set({hasPrev:e,hasNext:i})}});return r().then(function(e){var n=e.pics;if(!n[0])throw new Error("no videos");var o=n.map(function(t,e){var n=t.pic,o=n;return n&&(n=n.replace(/^https?:/,""),o=n.replace(/\/0$/,"/400")),{id:e,thumb:o||"",pic:n||"",title:i.escape(t.title||"")}}).filter(function(t){return""!=t.pic});t.$set({list:o,ready:!0}),l.config({data:o}),a.event("pic-cut")})["catch"](function(t){e.hide()})},showPop:function(t){var e=this;return function(){e.$refs.popups.showRender(t,e.$data.list)}},next:function(){this.pager.next()},prev:function(){this.pager.prev()}}})},function(module,exports){module.exports=function(d){with(d)return(videos||[]).map(function(t,e){return'\n<li class="list_item">\n    <a _stat="pic-cut:click" href="javascript:" class="figure" tabindex="-1" title="'+t.title+'" r-on="{click: showPop('+t.id+')}">\n        <span class="figure_pic" style="background-image:url('+t.thumb+')"></span>\n    </a>\n</li>\n'}).join("")+"\n"}},function(t,e,n){"use strict";function i(t){return t?t.replace(/^http:\/\//,"//"):""}var o=n(185),a=n(42),r=n(43),s=n(186);t.exports=Reve.component("c-popups",{data:function(){return{isShow:!1,current:0,max:0,total:0,lPoster:"",posterList:null,isRendered:!1,size:10,curPage:1,totalPage:1}},ready:function(){document.body.appendChild(this.$el),$(window).on("resize",this.calcSize)},methods:{calcSize:function(){var t=$(this.$el).find("._scoll_wrapper").width(),e=Math.ceil(t/110);e&&(this.$data.size=e,this._slider&&this._slider.set({size:e}))},initSlider:function(t){this.$data.max=t;var e=$(this.$el);this.calcSize();var n=this;this._slider=o({$cont:e.find("._scont"),$prev:e.find("._sprev"),$next:e.find("._snext"),size:this.$data.size,total:t,width:110,onNext:function(){n.$set("curPage",n._slider.get("cur"))},onPrev:function(){n.$set("curPage",n._slider.get("cur"))}})},onCurrent:function(t){var e=$(t.$currentTarget);this.$data.current=e.data("index"),this.$update(),this.loadBigPoster()},onPrev:function(){this.$data.current&&(this.$data.current--,this._update())},onNext:function(){this.$data.current>=this.$data.max-1||(this.$data.current++,this._update())},_update:function(){this.$update(),this._slider.set({cur:this.getPage(this.$data.current)}),this._slider.update(),this.loadBigPoster()},onClose:function(){this.hide()},hide:function(){this.$set("isShow",!1)},show:function(){this.$set("isShow",!0)},loadBigPoster:function(t){var e=this.$data.current;t=t||this.$data.posterList,this.$set({total:t.length,curPage:this.getPage(e),totalPage:this.getTotalPage(t.length),lPoster:i(t[e].pic)})},showRender:function(t,e){var n;if(a.some(e||this.$data.posterList,function(e,i){if(e.id==t)return n=i,!0})){if(this.$data.current=n,this.loadBigPoster(e),this.show(),!this.$data.isRendered){this.$set("posterList",e);var i=r(this,s,a.extend({},this.$data,{posterList:e}));$(this.$el).find("._scont").append(i),this.initSlider(this.$data.posterList.length),this.$data.isRendered=!0}this._slider.set({cur:this.getPage(n)}),this._slider.update()}},getPage:function(t){return Math.floor(t/this.$data.size)+1},getTotalPage:function(t){return Math.ceil(t/this.$data.size)},imgHttps:function(t){return t?t.replace(/^http:\/\//,"//"):""},polyData:function(t,e){for(var e=e||5,n=[],i=t.length,o=i/e,a=0;a<o;a++){var r=i>e+e*a?e+e*a:i,s=t.slice(a*e,r);n.push(s)}return n}}})},function(t,e,n){"use strict";function i(){}function o(t){if(t&&t.$cont){if(!(this instanceof o))return new o(t);this._onPrev=t.onPrev||i,this._onNext=t.onNext||i,this.config=a.extend({},{total:0,cur:1,size:5,width:156,disClass:"none"},t),this.$cont=$(t.$cont),this.$prev=t.$prev?$(t.$prev):null,this.$next=t.$next?$(t.$next):null,this.init()}}var a=n(42);o.prototype.init=function(){var t=this.$cont,e=this.$prev,n=this.$next;t.css({position:"relative"}),this.update(),e&&e.on("click",a.bind(this.onPrev,this)),n&&n.on("click",a.bind(this.onNext,this))},o.prototype.update=function(){var t=this.$cont,e=this.$prev,n=this.$next,i=this.get("cur"),o=this.get("size"),a=this.get("total"),r=this.get("width"),s=this.get("disClass"),c=Math.ceil(a/o);t.animate({left:-(i-1)*r*o},200),e&&(i>1?e.removeClass(s):e.addClass(s)),n&&(c>1&&i<c?n.removeClass(s):n.addClass(s))},o.prototype.onPrev=function(t){var e=this.get("cur");return e>1&&(this.set({cur:--e}),this.update(),this._onPrev()),!1},o.prototype.onNext=function(t){var e=this.get("cur"),n=this.get("size"),i=this.get("total"),o=Math.ceil(i/n);return o>1&&e<o&&(this.set({cur:++e}),this.update(),this._onNext()),!1},o.prototype.get=function(t){return this.config[t]},o.prototype.set=function(t){t instanceof Object&&a.extend(this.config,t)},t.exports=o},function(module,exports){module.exports=function(d){with(d)return(posterList||[]).map(function(t,e){return'\n\t<span \n\t\tclass="item"\n\t\tdata-index="'+e+'"\n        _stat="popups:listclick"\n\t\tr-class="{current: current === '+e+'}" \n\t\tr-on="{click: onCurrent}" \n\t><img r-lazyload="'+_.imgHttps(t.pic)+'"></span>\n'}).join("")+"\n"}},function(t,e,n){var i,o,a=window.PageMessage,r=n(43),s=n(32),c=(n(64),n(188)),l={cgiurl:"//s.video.qq.com/srh_music?id={id}&num=6&plat=2&album_num=2&srcid=1&otype=json",qqPlayerjs:"//imgcache.gtimg.cn/music/js/module/qplayer.js",qqMusicDownloadUrl:"//y.qq.com/y/static/down/download.js"},d={reportToTDB:function(t,e){e=e||{},e.action=256,e.ival=2,e.ival2=e.ival2||2,e.sval5=COVER_INFO.cover_id,e.sval6=COVER_INFO.title||"";var n=$.param(e),i=["//ncgi.video.qq.com/report/search?",n,"&_=",Math.ceil(1e3*Math.random())].join("");t?txv.lazyreport.push(i):txv.report(i)},initQPlayer:function(){var t=$.qPlayer;t.init({fromTag:44,useQzoneMusic:!1}),t.on("timeupdate",function(t){if(t.currentTime==t.totalTime){var e=o.find(".current"),n=!1;e.size()>0&&d.reportToTDB(!1,{ival1:3,ival2:n?2:5,sval:e.attr("data-songid"),sval1:e.attr("data-sname")||"",sval2:e.attr("data-aid"),sval3:e.attr("data-amid")||"",sval4:e.attr("data-aname")||""})}}),a.on("tvp-resume",function(){t.pause(),o.find(".current").removeClass("current").addClass("pause")}),a.waitandon("vidChanged",function(e){t.stop(),d.stopPlay()}),d.binEvents(o,t)},stopPlay:function(){o.find("._control_line").removeClass("current pause")},binEvents:function(t,e){t.find("._mode_play").on("click",function(t){t.preventDefault();var n=$(this),i=n.parents("._control_line"),o=!0;if(i.hasClass("current")?(e.pause(),i.removeClass("current").addClass("pause"),o=!1):i.hasClass("pause")?(a.emit("tvp-pause"),e.play(),d.stopPlay(),i.addClass("current")):(a.emit("tvp-pause"),e.play({list:[{songurl:i.attr("data-url")}],isPlay:!0,mode:1}),d.stopPlay(),i.addClass("current")),o){var r=n.parents("#mod_qqmusic_content").size()>0;d.reportToTDB(!1,{ival1:2,ival2:r?2:5,sval:i.attr("data-songid"),sval1:i.attr("data-sname")||"",sval2:i.attr("data-aid"),sval3:i.attr("data-amid")||"",sval4:i.attr("data-aname")||""})}}),t.find("._mode_down").on("click",function(t){t.preventDefault();var e=$(this),n=e.parents("._control_line"),o=e.parents("#mod_qqmusic_content").size()>0;c.show({render:r,that:i,title:COVER_INFO.title||"",coverType:COVER_INFO.type,ival2:o?2:5,sval:n.attr("data-songid"),sval1:n.attr("data-sname")||"",sval2:n.attr("data-aid"),sval3:n.attr("data-amid")||"",sval4:n.attr("data-aname")||""}),d.reportToTDB(!1,{ival1:7,ival2:o?2:5,sval:n.attr("data-songid"),sval1:n.attr("data-sname")||"",sval2:n.attr("data-aid"),sval3:n.attr("data-amid")||"",sval4:n.attr("data-aname")||""})}),t.find("._mode_mv").on("click",function(t){var e=$(this),n=e.parent(),i=e.parents("#mod_qqmusic_content").size()>0;d.reportToTDB(!1,{ival1:4,ival2:i?2:5,sval:n.attr("data-songid"),sval1:n.attr("data-sname")||"",sval2:n.attr("data-aid"),sval3:n.attr("data-amid")||"",sval4:n.attr("data-aname")||"",sval7:e.attr("data-mv")})})},getMusicInfo:function(){var t=$.Deferred(),e=COVER_INFO.cover_id;return $.ajax({url:l.cgiurl.replace(/\{id\}/,e),type:"get",dataType:"jsonp",timeout:1e4,CSRF:!0,success:function(e){t.resolve(e)}}),t.promise()},getQQPlayer:function(){var t=$.Deferred();return $.getScript(l.qqPlayerjs,function(){t.resolve()}),t.promise()}};t.exports=Reve.component("c-qqmusic",{data:{ready:!1,total:0,qqmusicurl:"//dldir1.qq.com/music/clntupate/QQMusic_VideoNew.exe"},ready:function(){var t=this;$.ajax({url:l.qqMusicDownloadUrl,dataType:"jsonp",jsonpCallback:"MusicJsonCallback",success:function(e){e&&(txv.ua.macs&&e.Mac&&e.Mac.desc[0].Flink?t.$set("qqmusicurl",e.Mac.desc[0].Flink):e.WindowsPC&&e.WindowsPC.desc[0].Flink&&t.$set("qqmusicurl",e.WindowsPC.desc[0].Flink))},error:function(t,e){}})},methods:{show:function(){return i=this,o=$(i.$el).find("._mod_music"),d.getMusicInfo().done(function(t){if(t&&t.head&&0==t.head.error&&t.result_list&&t.result_list.length>0&&t.result_list[0].song_list&&t.result_list[0].song_list.length>0){var e=t.result_list[0];if(e.song_list&&e.song_list.length>0){var a={};(e.album_list||[]).forEach(function(t){a[t.album_id]=t}),e.song_list.forEach(function(t){var e=a[t.album_id];e&&(t.pic=e.album_pic)}),i.$set({total:e.total_song_num});var c=n(190),l=r(i,c,{list:e});o.html(l),o.show(),d.getQQPlayer().done(function(){d.initQPlayer()})}s.event("qqmusic"),i.$set("ready",!0)}else $(i.$el).hide(),i.$set("ready",!1)})}}})},function(t,e,n){var i={reportToTDB:function(t,e){e=e||{},e.action=256,e.ival=2,e.ival2=e.ival2||2,e.sval5=COVER_INFO.cover_id,e.sval6=COVER_INFO.title||"";var n=$.param(e),i=["//ncgi.video.qq.com/report/search?",n,"&_=",Math.ceil(1e3*Math.random())].join("");t?txv.lazyreport.push(i):txv.report(i)},show:function(t){var e=$("#pop_qqmusic");e.size()>0&&(txv.tips.hideMask(),e.remove());var o=n(189);$("body").append(t.render(t.that,o,{title:t.title||"",coverType:t.coverType,isIe:!!txv.ua.ie})),txv.tips.showMask(),e=$("#pop_qqmusic"),txv.tips.fixCss(e),e.find(".x_close").click(function(n){n.preventDefault(),txv.tips.hideMask(),e.remove(),i.reportToTDB(!1,{ival1:10,ival2:t.ival2,sval:t.sval||"",sval1:t.sval1||"",sval2:t.sval2||"",sval3:t.sval3||"",sval4:t.sval4||"",sval7:t.sval7||""})}),e.find("._report").click(function(e){i.reportToTDB(!1,{ival1:$(this).attr("data-ival1"),ival2:t.ival2,sval:t.sval||"",sval1:t.sval1||"",sval2:t.sval2||"",sval3:t.sval3||"",sval4:t.sval4||"",sval7:t.sval7||""})})}};t.exports=i},function(module,exports){module.exports=function(d){with(d)return'<div class="x_modal" id="pop_qqmusic">\n\t\x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e\n\t<div class="x_modal_bd">\n\t\t<a href="javascript:;" class="x_close" title="关闭" _stat="qqmusic-down:close"><i class="x_iconfont x_icon_close">&#xe601;</i></a>\n\t\t<h3 class="x_title">您需要在“ QQ音乐客户端 ” <br />下载《'+title+'》高品质原声</h3>\n\t</div>\n\t<div class="x_modal_ft">\n\t\t'+(function(){if(isIe)return'<a class="x_btn x_btn_primary _report" _stat="qqmusic-down:open" data-ival1="9" href="tencent://QQMusic/?version==700&&cmd_count==1&&cmd_0==4003&&clienttype_0==0">打开客户端</a>'}()||"")+'\n\t\t<a class="x_btn x_btn_primary _report" _stat="qqmusic-down:down" data-ival1="8" target="_blank" href="http://y.qq.com/vedio/vediotomusic.html">下载客户端</a>\n\t</div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return(list.song_list||[]).map(function(t,e){return'\n<div class="_control_line item item_odd '+(e%2==0?"item_odd":"item_even")+'"\n     data-index="'+e+'"\n     data-url="'+t.url+'"\n     data-aid="'+t.album_id+'"\n     '+(function(){if(t.album_mid)return' data-amid="'+t.album_mid+'"'}()||"")+"\n     "+(function(){if(t.album_name)return' data-aname="'+t.album_name+'"'}()||"")+'\n     data-songid="'+t.song_id+'"\n     '+(function(){if(t.song_name)return' data-sname="'+t.song_name+'"'}()||"")+'\n    >\n    <span class="cover">\n        <img src="'+(_.imgUrl(t.pic)||"//i.gtimg.cn/qqlive/images/20170706/music.png")+'" class="cover_pic">\n        <i class="icon_music_now"></i>\n    </span>\n    <span class="name" title="'+_(t.song_name)+'">'+_(t.song_name)+"</span>\n    "+(function(){if(t.mv_id)return'<a _stat="qqmusic:mv" href="'+_.playUrl(t.mv_id)+'" class="_mode_mv btn_music_mv" data-mv="'+t.mv_id+'" title="播放MV"><span class="mark_mv">MV</span></a>'}()||"")+'\n    <a _stat="qqmusic:play" href="javascript:;" class="_mode_play btn_music_play" title="播放音乐">\n        <i class="icon_sm icon_music_play_sm">\n            <svg class="svg_icon svg_icon_music_play_sm" viewBox="0 0 16 16" width="16" height="16">\n                <use xlink:href="#svg_icon_music_play_sm"></use>\n            </svg>\n        </i>\n        <i class="icon_sm icon_music_pause_sm">\n            <svg class="svg_icon svg_icon_music_pause_sm" viewBox="0 0 16 16" width="16" height="16">\n                <use xlink:href="#svg_icon_music_pause_sm"></use>\n            </svg>\n        </i>\n    </a>\n    <a _stat="qqmusic:download" href="javascript:;" class="_mode_down btn_music_download" title="下载音乐">\n        <i class="icon_sm icon_dl_sm">\n            <svg class="svg_icon svg_icon_dl_sm" viewBox="0 0 16 16" width="16" height="16">\n                <use xlink:href="#svg_icon_dl_sm"></use>\n            </svg>\n        </i>\n    </a>\n</div>\n'}).join("")+"\n"}},function(t,e,n){var i=n(43),o=n(32),a=n(27),r=n(179),s=n(3),c=(n(2),n(192)),l=COVER_INFO;t.exports=Reve.component("c-similar",{data:function(){return{title:"",loading:!0,hasNext:!1,hasPrev:!1}},ready:function(){var t=this,e=l.doulist_id,n=l.doulie_tags,i=(e&&e.split("+")||[]).filter(function(t){return""!=t}),o=(n&&n.split("+")||[]).filter(function(t){return""!=t});if(!i[0])return void $(t.$el).hide();var r=!1,c=i.shift();t.curTitle=o.shift();var d=0,u=0,p=[],f=s({data:{covers:{type:"request",action:{url:"jsonp://list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&novalue=1&platform=1&version=10000&intfname=doulist_cid&tid=958&appkey=6c03bbe9658448a4&appid=20001238&type=1&sourcetype=1&sort=3",cache:!0,fixBefore:function(t){if(!r)return d=t.pagesize,c&&d?(r=!0,{offset:u,1112:c,pagesize:d}):void 0},fixAfter:function(e){r=!1;var n=a(e,"jsonvalue.results")||[],s=n.length;return s<4&&0==u?(c=i.shift(),t.curTitle=o.shift(),p):(s<d?(u=0,c=0):u+=s,p=p.concat(n))},onError:function(){return p}}}},render:function(t){return t.covers}});t.req=function(t,e){var n=t,i=p.length+t,o=function(){f({pagesize:n}).then(function(){if(p=p.filter(function(t){return t.id!=l.cover_id}),c&&(n=i-p.length)>0)return void o();e(null,p)})["catch"](function(t){e(t,p)})};o()},t.visible&&!t.loaded&&t.init()},methods:{display:function(){var t=this;t.visible=!0,t.req&&(t.loaded=!0,setTimeout(function(){t.init()}))},init:function(){var t=this,e=$(t.$el),n=e.find("._l"),o=t.getNum=function(){var t=224,e=n.children();if(e.length)t=e.width();else{var i=$('<li class="list_item">');n.append(i),t=i.width(),i.remove()}return Math.floor(n.width()/(t+5))+1},s={getVisibleNum:o,onChanged:function(e,o,a){t.$set({hasNext:o,hasPrev:e});var r=a.filter(function(t){return t.fields}).map(function(t){var e=t.fields;return e.cid=t.id,e});n.html(i(t,c,{list:r})),txv.Boss&&txv.Boss.wind(n)}};t.req(2*o(),function(n,i){if(!a(i,"3"))return void e.hide();t.pager=new r(s);t.setData(i),t.$set({loading:!1,title:t.curTitle})})},next:function(){var t=this;t.pager.next(),t.$data.hasNext||t.req(t.getNum(),function(e,n){t.setData(n)}),o.click("similar:next")},prev:function(){this.pager.prev(),o.click("similar:prev")},setData:function(t){this.pager.config({data:t})}}})},function(module,exports){module.exports=function(d){with(d)return""+(list||[]).map(function(t,e){return'\n<li class="list_item" __wind>\n  <a href="//v.qq.com/x/cover/'+t.cid+'.html" _stat="similar:play" target="_blank" class="figure" tabindex="-1" data-float="'+t.cid+'">\n    <img class="figure_pic" onerror="picerr(this, \'v\')" src="//i.gtimg.cn/qqlive/images/20150608/pic_v.png" r-lazyload="'+_.coverPic(t.cid,"","y")+'" alt="'+_(t.title)+'">'+(function(t){return""+(function(){if(t>0)return'\n        <div class="figure_score"><em class="score_l">'+Math.floor(t)+'</em><em class="score_s">.'+Math.floor(10*t%10)+"</em></div>"}()||"")}(parseFloat(t.score&&t.score.score))||"")+(function(){return 1==t.type?""+_.coverCorner(t.web20_imgtag,[2])+(function(t){return""+(function(){if(t>0)return'\n          <div class="figure_count">\n            <span class="num">'+_.showTime(t,!0)+"</span>\n          </div>"}()||"")}(+t.positive_vid_timelong)||""):""+_.coverCorner(t.web20_imgtag,[2,3])}()||"")+'\n  </a>\n  <strong class="figure_title "><a href="//v.qq.com/x/cover/'+t.cid+'.html" _stat="similar:play" target="_blank" title="'+_(t.title)+'">'+_(t.title)+'</a></strong>\n  <div class="figure_desc" title="'+_(t.second_title)+'">'+_(t.second_title)+"</div>\n</li>\n"}).join("")}},function(t,e,n){var i=window.PageMessage,o=n(43),a="commentIframe",r=null,s=!1,c=!(COVER_INFO.cover_id&&-1!=$.inArray(COVER_INFO.type,[1,10,46])),l="//page.coral.qq.com/coralpage/comment/video.html";t.exports=Reve.component("c-comments",{ready:function(){r=$(this.$el),this.setIframeInfo();var t=this;c&&i.waitandon("vidChanged",function(e){s=!1,t.show(e.vid)}),i.on("scrollToComment",function(){var t=r.offset().top,e=$(document);e.scrollTop(t-73),s||setTimeout(function(){t=r.offset().top,e.scrollTop(t-73)},500)})},methods:{show:function(t){t=t||(c?VIDEO_INFO.vid:COVER_INFO.cover_id);var e=this;setTimeout(function(){s||(e.loadComment(t),s=!0)},100)},loadComment:function(t){var e=this;e.getCommentId(t,function(t){if(t){e.setCommentId(t);var n=$("#"+a);n.size()>0?n.attr("src",l+"?t="+new Date):e.appendIframe(t),r.show()}})},appendIframe:function(t){if(r&&1==r.size()){var e=n(194),i=o(this,e,{url:l,id:a,adid:r.attr("data-adid")||"",coralEvent:"registerCoralEvent"});r.append(i)}},setCommentId:function(t){window.cmt_id=t,"function"==typeof window.getCmtCnt&&$.ajax({url:"//coral.qq.com/article/"+t+"/commentnum",dataType:"jsonp",success:function(t){t&&t.data&&t.data.commentnum&&"function"==typeof window.getCmtCnt&&window.getCmtCnt(t.data.commentnum)}})},getCommentId:function(t,e){if("string"==$.type(t)&&$.isFunction(e)){var n={op:3};$.isNumeric(t)?n.column=t:15==t.length?n.cid=t:n.vid=t,$.ajax({url:"//ncgi.video.qq.com/fcgi-bin/video_comment_id?otype=json",data:n,dataType:"jsonp"}).done(function(t){t&&t.result&&0==t.result.ret&&t.comment_id&&e(t.comment_id)}).error(function(){r.hide()})}},setIframeInfo:function(){window.registerCoralEvent={code:1,source:9,site:"video",ownStyle:window.location.protocol+"//imgcache.gtimg.cn/tencentvideo_v1/vstyle/web/v3/style/niuping/np_vstyle.css?max_age=86400&v=20140113",loginEvent:function(){txv.login.openLogin()},publicLogined:function(){
var t=txv.login.getUin(),e=txv.login.getNick(),n=txv.login.getAvatar(),i=document.getElementById(a);if(i)try{i.contentWindow.publicLogined(t,e,n)}catch(o){}},publicLogout:function(){var t=document.getElementById(a);if(t)try{t.contentWindow.publicLogout()}catch(e){}}},"undefined"!=typeof window.addCmtObj&&$.isPlainObject(window.addCmtObj)&&$.extend(window.registerCoralEvent,window.addCmtObj),txv.login.addLoginCallback(registerCoralEvent.publicLogined),txv.login.addClearLoginStatusCallback(registerCoralEvent.publicLogout)}}})},function(module,exports){module.exports=function(d){with(d)return'<iframe src = "'+url+'" frameborder="no" scrolling=no id = "'+id+'" data-adid="'+adid+'" onload="var uin = txv.login.getUin();if(parseInt(uin)>10000){'+coralEvent+'.publicLogined();}"></iframe>'}},function(t,e,n){var i=window.PageMessage,o=n(43),a="commentIframe",r=null,s=!1,c=!(COVER_INFO.cover_id&&-1!=$.inArray(COVER_INFO.type,[1,10,46])),l="//page.coral.qq.com/coralpage/comment/video.html";t.exports=Reve.component("c-comments-video",{ready:function(){r=$(this.$el),this.setIframeInfo();var t=this;c&&i.waitandon("vidChanged",function(e){s=!1,t.show(e.vid)}),i.on("scrollToComment",function(){var t=r.offset().top,e=$(document);e.scrollTop(t-73),s||setTimeout(function(){t=r.offset().top,e.scrollTop(t-73)},500)})},methods:{show:function(t){t=t||(c?VIDEO_INFO.vid:COVER_INFO.cover_id);var e=this;setTimeout(function(){s||(e.loadComment(t),s=!0)},100)},loadComment:function(t){var e=this;e.getCommentId(t,function(t){if(t){e.setCommentId(t);var n=$("#"+a);n.size()>0?n.attr("src",l+"?t="+new Date):e.appendIframe(t),r.show()}})},appendIframe:function(t){if(r&&1==r.size()){var e=n(196),i=o(this,e,{url:l,id:a,adid:r.attr("data-adid")||"",coralEvent:"registerCoralEvent"});r.append(i)}},setCommentId:function(t){window.cmt_id=t,"function"==typeof window.getCmtCnt&&$.ajax({url:"//coral.qq.com/article/"+t+"/commentnum",dataType:"jsonp",success:function(t){t&&t.data&&t.data.commentnum&&"function"==typeof window.getCmtCnt&&window.getCmtCnt(t.data.commentnum)}})},getCommentId:function(t,e){if("string"==$.type(t)&&$.isFunction(e)){var n={op:3};$.isNumeric(t)?n.column=t:15==t.length?n.cid=t:n.vid=t,$.ajax({url:"//ncgi.video.qq.com/fcgi-bin/video_comment_id?otype=json",data:n,dataType:"jsonp"}).done(function(t){t&&t.result&&0==t.result.ret&&t.comment_id&&e(t.comment_id)}).error(function(){r.hide()})}},setIframeInfo:function(){window.registerCoralEvent={theme:"dark",code:1,source:9,site:"video",ownStyle:window.location.protocol+"//imgcache.gtimg.cn/tencentvideo_v1/vstyle/web/v3/style/niuping/np_vstyle.css?max_age=86400&v=20140113",loginEvent:function(){txv.login.openLogin()},publicLogined:function(){var t=txv.login.getUin(),e=txv.login.getNick(),n=txv.login.getAvatar(),i=document.getElementById(a);if(i)try{i.contentWindow.publicLogined(t,e,n)}catch(o){}},publicLogout:function(){var t=document.getElementById(a);if(t)try{t.contentWindow.publicLogout()}catch(e){}}},"undefined"!=typeof window.addCmtObj&&$.isPlainObject(window.addCmtObj)&&$.extend(window.registerCoralEvent,window.addCmtObj),txv.login.addLoginCallback(registerCoralEvent.publicLogined),txv.login.addClearLoginStatusCallback(registerCoralEvent.publicLogout)}}})},function(module,exports){module.exports=function(d){with(d)return'<iframe src = "'+url+'" frameborder="no" scrolling=no id = "'+id+'" data-adid="'+adid+'" onload="var uin = txv.login.getUin();if(parseInt(uin)>10000){'+coralEvent+'.publicLogined();}"></iframe>'}},function(t,e,n){"use strict";var i=window.PageMessage,o=n(198),a=n(199),r=n(200),s=n(201),c=n(43),l=n(52),d=n(202),u=n(22),p=u.build({url:"jsonp://liverank.video.qq.com/fcgi-bin/get_gift_rank?callback=gift_rank&low_login=1&type=52&keytype=6&liveid=1273&platform=2&otype=json"}),f=u.build({url:"jsonp://liverank.video.qq.com/fcgi-bin/get_gift_rank?low_login=1&need_idol_list=1&platform=2&otype=json"}),v={},_=l.getPeriodTime("week"),h=l.getPeriodTime("month"),m="第"+l.formatDate(new Date(_.begin),"MM.dd")+" ~ "+l.formatDate(new Date(_.end),"MM.dd")+"期",g="第"+l.formatDate(new Date(h.begin),"MM.dd")+" ~ "+l.formatDate(new Date(h.end),"MM.dd")+"期";t.exports=Reve.component("c-popular-rank",{data:function(){return{showTabIndex:0,periodTxt:"",tabsData:[],shareData:{},hasNextPage:!0,allPageNumber:0,beginShowingIndex:0}},created:function(){this.$data.periodTxt=[m,g]},ready:function(){var t=this,e=t.$el.getAttribute("data-liveid");i.wait("tvp-ready",function(){e?t.renderTotalRank():t.renderSingerRank()}),$(t.$el).on("click",".people_btn_vote",function(){var n=$(this);if(!txv.login.isStrongLogin())return void txv.login.openLogin();d.init({id:n.attr("data-pid"),name:n.attr("data-name"),pic:n.attr("data-img"),num:n.attr("data-num"),liveid:e||1273},function(i,o){i?e?t.renderTotalRank():t.switchRank(t.$data.showTabIndex,{hard:!0,starid:n.attr("data-pid")}):o&&txv.login.openLogin()})})},methods:{renderTotalRank:function(t,e){var n=this,i=n.$el.getAttribute("data-liveid"),r=$(this.$el);i&&d.getTotalRank(i).then(function(e){e.showList=[],e.black&&e.black.length&&$.each(e.item,function(t,n){for(var i=0,o=e.black.length;i<o;i++)if(n.sStarid==e.black[i])return e.black.splice(i,1),n.blocked="people_btn_vote_disabled",!0;n.blocked=" "}),e.showList=e.items&&e.items.length?e.items.map(function(t){return{id:t.sStarid,pic:t.headUrl,name:t.name,num:t.giftNum,blocked:t.blocked}}):[],r.html(c(n,o,{ranks:e.showList,liveName:e.title||""})),n.setPageBtn(r.find("._actor_rank .people_item")),d.getFansRank(i).then(function(e){var i,o=$(n.$el).find(".fans_rank_wrap");i=e.items&&e.items.length?e.items.map(function(t){return{face:t.headUrl,nick:t.nick,num:t.giftNum}}):[],o.html(c(n,a,{ranks:i})),$(".title_tabs_lg .nav_item").click(function(){var t=$(this).index();$(this).addClass("current").siblings().removeClass("current"),$(".mod_people_rank_wrap").eq(t).removeClass("none").siblings().addClass("none"),n.setPageBtn(r.find((0==t?"._actor_rank":"._fans_rank")+" .people_item"))}),t&&t()},function(){})},function(){e&&e()})},renderSingerRank:function(){var t=this,e=$(this.$el);p().then(function(n){var i=n.result;if(i&&i.result&&0==i.result.code){var o=i.tab[0];o=o.filter(function(t){return-1!=["周榜","月榜"].indexOf(t.title)}),t.$data.tabsData=o,t.$data.shareData=i.share,o.length&&f({giftkey:o[0].custom}).then(function(n){var i=n.result;i&&i.result&&0==i.result.code&&(e.html(c(t,r,{tabsData:o,singerRankDetail:i})),t.setPageBtn(e.find("._actor_rank .people_item")))})}})},getElWidthNum:function(){return $(this.$el).find(".mod_people_rank")?Math.ceil($(this.$el).find(".mod_people_rank").width()/$(this.$el).find(".people_item").outerWidth(!0)):0},updateHasNextPage:function(){this.$set("hasNextPage",this.getElWidthNum()+this.$data.beginShowingIndex<this.$data.allPageNumber)},setPageBtn:function(t,e){function n(){i.$set({beginShowingIndex:0}),i.updateHasNextPage()}var i=this;this.$set("allPageNumber",t.length),!e||e<0?n():function(t){var e=i.getElWidthNum();i.$set({beginShowingIndex:t-t%e}),i.updateHasNextPage()}(e),$(window).resize(function(){setTimeout(n,50)})},prev:function(){this.$set("beginShowingIndex",this.$data.beginShowingIndex-this.getElWidthNum()),this.updateHasNextPage()},next:function(){this.$set("beginShowingIndex",this.$data.beginShowingIndex+this.getElWidthNum()),this.updateHasNextPage()},setPageBtnOld:function(t,e,n){function i(){0===a.length?t.addClass(s):t.removeClass(s),o.getElWidthNum()<r.length?e.removeClass(s):e.addClass(s)}var o=this,a=[],r=[],s="disabled";setTimeout(i,50);for(var c=0,l=n.length;c<l;c++)r.push(n[c]);$(window).resize(function(){a=[],r=[],n.removeClass("none");for(var t=0,e=n.length;t<e;t++)r.push(n[t]);setTimeout(i,50)}),t.click(function(){for(var t=o.getElWidthNum(),e=0;e<t;e++)if(a.length){var n=a.pop();$(n).removeClass("none"),r.unshift(n)}i()}),e.click(function(){if(!(r.length<=o.getElWidthNum())){for(var t=o.getElWidthNum(),e=0;e<t;e++)if(r.length){var n=r.shift();$(n).addClass("none"),a.push(n)}i()}})},switchRank:function(t,e){function n(n){var o=$(i.$el);o.find("#_popular_rank_singer_list").html(c(i,s,{list:n.item}));var a=0;e.starid&&(a=n.item.map(function(t){return t.id}).indexOf(e.starid)),i.setPageBtn(o.find("._actor_rank .people_item"),a),i.$set("showTabIndex",t),i.$set("currentCustom",l)}e&&"object"==typeof e||(e={});var i=this,o=new Date,a=o.getFullYear(),r=o.getMonth()+1,l=this.$data.tabsData[t].custom;if(l&&(this.$data.showTabIndex!=t||e.hard))return v[l]&&!e.hard?void n(v[l]):void f({giftkey:encodeURIComponent(l),time:a+(r<10?"0"+r:r)}).then(function(t){var e=t.result;e&&e.result&&0==e.result.code&&(v[l]=e,n(e))})},showRule:function(){i&&i.emit("rule-show","popular-rank",{rule:this.$data.shareData.share_rule,title:"Young榜歌手榜单规则"})}}})},function(module,exports){module.exports=function(d){with(d)return'<div class="mod_hd">\n    <div class="mod_title mod_title_nav">\n        <ul class="title title_tabs_lg">\n            <li class="nav_item current" >'+liveName+'</span>\n            <li class="nav_item" >粉丝榜</span>\n        </ul>\n    </div>\n</div>\n<div class="mod_bd mod_people_rank">\n    <div class="mod_people_rank_wrap mod_people_rank_all_wrap">\n        \x3c!--<div class="rank_subtitle">比赛分为八个小组十六场，每场淘汰一名成员。</div>--\x3e\n        <div class="mod_people_rank_scroll figure_scroll _actor_rank">\n            <div class="mod_people_rank_container">\n                '+(ranks||[]).map(function(t,e){return'\n                <div class="people_item people_item_'+(e+1)+'" r-class="{none: '+e+' < beginShowingIndex}">\n                    <a href="'+_.dokiStarUrl({starid:t.id})+'" class="people_avatar" target="_blank">\n                        <img src="'+_.imgUrl(t.pic)+'" onerror="picerr(this,\'s\');">\n                    </a>\n                    '+(function(){return e>2?'\n                    <span class="people_nameplate people_nameplate_'+(e+1)+'">'+(e+1)+"</span>\n                    ":'\n                    <span class="people_nameplate people_nameplate_'+(e+1)+'">\n                        <i class="icon_lg icon_fire_lg">\n                            <svg class="svg_icon" viewBox="0 0 36 36" width="36" height="36">\n                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_fire_lg"></use>\n                            </svg>\n                        </i>\n                        <i class="icon_text">'+(e+1)+"</i>\n                    </span>\n                    "}()||"")+'\n                    <a href="'+_.dokiStarUrl({starid:t.id})+'" class="people_name" target="_blank">'+_(t.name)+'</a>\n                    <div class="people_score">\n                        <i class="icon_sm icon_hot_sm"><svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16"><use xlink:href="#svg_icon_hot_sm"></use></svg></i>\n                        <span class="icon_text">'+_.formatNum2(t.num)+'</span>\n                    </div>\n                    <a href="javascript:;" class="people_btn_vote '+_(t.blocked)+'" data-pid="'+t.id+'" data-name="'+t.name+'" data-img="'+_.imgUrl(t.pic)+'" data-num="'+t.num+'" _stat="popular-rank:vote">支持TA</a>\n                </div>\n                '}).join("")+'\n            </div>\n            <a href="javascript:void(0);" class="btn_prev disabled" title="上一页" r-class="{disabled: beginShowingIndex == 0}" r-on="{click: prev}">\n                <i class="icon_lg icon_prev_lg"><svg class="svg_icon svg_icon_prev_lg" viewBox="0 0 36 36" width="36" height="36"><use xlink:href="#svg_icon_prev_lg"></use></svg></i>\n            </a>\n            <a href="javascript:void(0);" class="btn_next disabled" title="下一页" r-class="{disabled: !hasNextPage}" r-on="{click: next}">\n                <i class="icon_lg icon_next_lg"><svg class="svg_icon svg_icon_next_lg" viewBox="0 0 36 36" width="36" height="36"><use xlink:href="#svg_icon_next_lg"></use></svg></i>\n            </a>\n        </div>\n    </div>\n    <div class="mod_people_rank_wrap mod_people_rank_fans_wrap fans_rank_wrap none _fans_rank">\n    </div>\n</div>\n'}},function(module,exports){module.exports=function(d){with(d)return'<div class="rank_subtitle">按粉丝贡献值排序。</div>\n<div class="mod_people_rank_scroll figure_scroll">\n    <div class="mod_people_rank_container">\n    '+(ranks||[]).map(function(t,e){return'\n        <div class="people_item people_item_'+(e+1)+'" r-class="{none: '+e+' < beginShowingIndex} ">\n                <span class="people_avatar"><img src="'+_.imgUrl(t.face)+'" onerror="picerr(this,\'s\');"></span>\n                '+(function(){return e>2?'\n                <span class="people_nameplate people_nameplate_'+(e+1)+'">'+(e+1)+"</span>\n                ":'\n                <span class="people_nameplate people_nameplate_'+(e+1)+'">\n                    <i class="icon_lg icon_fire_lg">\n                        <svg class="svg_icon" viewBox="0 0 36 36" width="36" height="36">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_fire_lg"></use>\n                        </svg>\n                    </i>\n                    <i class="icon_text">'+(e+1)+"</i>\n                </span>\n                "}()||"")+'\n                <span href="javascript:;" class="people_name">'+_(t.nick)+'</span>\n                <div class="people_desc">贡献'+_.formatNum2(t.num)+"人气</div>\n        </div>\n    "}).join("")+'\n    </div>\n\n    <a href="javascript:;" class="btn_prev disabled" title="上一页" r-class="{disabled: beginShowingIndex == 0}" r-on="{click: prev}">\n        <i class="icon_lg icon_prev_tco"><svg class="svg_icon" viewBox="0 0 36 36" width="36" height="36"><use xlink:href="#svg_icon_prev_lg"></use></svg></i>\n    </a>\n    <a href="javascript:;" class="btn_next disabled" title="下一页" r-class="{disabled: !hasNextPage}" r-on="{click: next}">\n        <i class="icon_lg icon_next_tco"><svg class="svg_icon" viewBox="0 0 36 36" width="36" height="36"><use xlink:href="#svg_icon_next_lg"></use></svg></i>\n    </a>\n</div>\n'}},function(module,exports){module.exports=function(d){with(d)return'<div class="mod_hd">\n    <div class="mod_title">\n        <h2 class="title">Young·歌手榜</h2>\n        <div class="title_tabs title_tabs_left">\n            '+(tabsData||[]).map(function(t,e){return"\n            <a r-class=\"{current: showTabIndex == '"+e+'\'}" _stat="popular-rank:switch" class="title_tab'+(0==e?" current":"")+'"\n                href="javascript:void(0);" r-on="{click: switchRank.bind(null, \''+e+"', false)}\">"+t.title+"</a>\n            "}).join("")+'\n        </div>\n        <a class="subtitle" href="'+_.youngRankUrl("geshoubang")+'" _stat="popular-rank:detail" target="_blank" r-text="inner">{periodTxt[showTabIndex]}</a>\n        <div class="title_action">\n            <ul class="mod_link_list">\n                <li class="item">\n                    <a href="javascript:void(0);" _stat="popular-rank:rule" class="link" r-on="{click: showRule}">\n                        <i class="icon_text">榜单规则</i>\n                        <i class="icon_sm icon_right_sm">\n                            <svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16">\n                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_right_sm"></use>\n                            </svg>\n                        </i>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n<div class="mod_bd">\n    <div class="mod_people_rank">\n        <div class="mod_people_rank_wrap mod_people_rank_all_wrap">\n            \x3c!-- sprite svg --\x3e\n            <svg class="svg_sprite" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                <symbol id="svg_icon_fire_lg" viewBox="0 0 36 36">\n                    <path d="M18 35.5c-5.2 0-14.9-4.4-14.9-15C3.1 8.2 18 .8 18.1.7l.4-.2V1c-.3 1.7-.3 3.5 0 5.2.6 4 2.3 6.6 5.1 7.7.1-1.4.5-5.9 3.5-7.9l.5-.3-.1.6s-.4 2.7 2.9 7.3c1.7 2.4 2.5 5.2 2.5 8.1 0 8.6-7.6 13.8-14.9 13.8z"></path>\n                </symbol>\n                <symbol id="svg_icon_fire_sm" viewBox="0 0 16 16">\n                    <path d="M8 15c-2.2 0-5.5-1.8-5.5-5.4 0-4.3 4.9-8 6.6-8.6-1.2 2.7-1.9 5.4.7 7.5 0-4.2 1.6-4.6 1.6-4.6s0 1.7 1.1 3.1c.6.8.9 1.9.9 3 .1 3.2-2.7 5-5.4 5z"></path>\n                </symbol>\n                <symbol id="svg_icon_hold_xs" viewBox="0 0 10 10">\n                    <path d="M1.5 4h7c.8 0 1.5.7 1.5 1.5S9.3 7 8.5 7h-7C.7 7 0 6.3 0 5.5S.7 4 1.5 4z"></path>\n                </symbol>\n                <symbol id="svg_icon_decline_xs" viewBox="0 0 10 10">\n                    <path d="M9.67 5.865L5.834 9.7a1.066 1.066 0 0 1-.851.302 1.07 1.07 0 0 1-.85-.302L.298 5.865a1.086 1.086 0 0 1 1.534-1.534L4 6.498v-5.5a1 1 0 0 1 2 0v5.469L8.136 4.33A1.086 1.086 0 0 1 9.67 5.865z"></path>\n                </symbol>\n                <symbol id="svg_icon_rise_xs" viewBox="0 0 10 10">\n                    <path d="M9.7 5.7c-.4.4-1.1.4-1.5 0L6 3.5V9c0 .6-.4 1-1 1s-1-.4-1-1V3.5L1.9 5.7c-.4.4-1.1.4-1.5 0C0 5.3 0 4.6.4 4.2L4.2.4c.2-.3.5-.4.8-.4.3 0 .6.1.9.3l3.8 3.8c.4.5.4 1.1 0 1.6z"></path>\n                </symbol>\n            </svg>\n            <div class="mod_people_rank_scroll figure_scroll _actor_rank">\n                <div class="mod_people_rank_container" id="_popular_rank_singer_list">\n                    '+function($value){with($value)return""+(list||[]).map(function(t,e){return'\n<div class="people_item people_item_'+(e+1)+'" r-class="{none: '+e+' < beginShowingIndex}">\n    <a href="'+_.dokiStarUrl({starid:t.id})+'" class="people_avatar" target="_blank" _stat="popular-singer-rank:avatar">\n        <img src="'+_.imgUrl(t.pic)+'" onerror="picerr(this,\'s\');">\n    </a>\n    <span class="people_nameplate people_nameplate_'+(e+1)+'">\n        '+(function(){return e<3?'\n        <i class="icon_lg icon_fire_lg">\n            <svg class="svg_icon" viewBox="0 0 36 36" width="36" height="36">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_fire_lg"></use>\n            </svg>\n        </i>\n        <i class="icon_text">'+(e+1)+"</i>\n        ":"\n        "+(e+1)+"\n        "}()||"")+'\n    </span>\n    <a href="'+_.dokiStarUrl({starid:t.id})+'" class="people_name" target="_blank" _stat="popular-singer-rank:avatar">'+_(t.name)+'</a>\n    <div class="people_score">\n        <i class="icon_sm icon_hot_sm">\n            <svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16">\n                <use xlink:href="#svg_icon_hot_sm"></use>\n            </svg>\n        </i>\n        <span class="icon_text">'+_.formatNum(t.num)+"</span>\n        "+(function(){return t.lastRank>t.rank?'\n        <i class="icon_xs icon_rise_xs">\n            <svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_rise_xs"></use>\n            </svg>\n        </i>\n        ':t.lastRank==t.rank?'\n        <i class="icon_xs icon_hold_xs">\n            <svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_hold_xs"></use>\n            </svg>\n        </i>\n        ':'\n        <i class="icon_xs icon_decline_xs">\n            <svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_decline_xs"></use>\n            </svg>\n        </i>\n        '}()||"")+'\n    </div>\n    <a href="javascript:;" class="people_btn_vote" data-pid="'+t.id+'" data-name="'+t.name+'" data-img="'+_.imgUrl(t.pic)+'"\n        data-num="'+t.num+'" _stat="popular-singer-rank:vote">支持TA</a>\n</div>\n'}).join("")}({list:singerRankDetail.item})+'\n                </div>\n                <a href="javascript:void(0);" class="btn_prev disabled" _stat="popular-singer-rank:page" r-class="{disabled: beginShowingIndex == 0}" r-on="{click: prev}" title="上一页">\n                    <i class="icon_lg icon_prev_lg">\n                        <svg class="svg_icon svg_icon_prev_lg" viewBox="0 0 36 36" width="36" height="36">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_prev_lg"></use>\n                        </svg>\n                    </i>\n                </a>\n                <a href="javascript:void(0);" class="btn_next" _stat="popular-singer-rank:page" r-class="{disabled: !hasNextPage}" r-on="{click: next}" title="下一页">\n                    <i class="icon_lg icon_next_lg">\n                        <svg class="svg_icon svg_icon_next_lg" viewBox="0 0 36 36" width="36" height="36">\n                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_next_lg"></use>\n                        </svg>\n                    </i>\n                </a>\n            </div>\n\n\n        </div>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return""+(list||[]).map(function(t,e){return'\n<div class="people_item people_item_'+(e+1)+'" r-class="{none: '+e+' < beginShowingIndex}">\n    <a href="'+_.dokiStarUrl({starid:t.id})+'" class="people_avatar" target="_blank" _stat="popular-singer-rank:avatar">\n        <img src="'+_.imgUrl(t.pic)+'" onerror="picerr(this,\'s\');">\n    </a>\n    <span class="people_nameplate people_nameplate_'+(e+1)+'">\n        '+(function(){return e<3?'\n        <i class="icon_lg icon_fire_lg">\n            <svg class="svg_icon" viewBox="0 0 36 36" width="36" height="36">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_fire_lg"></use>\n            </svg>\n        </i>\n        <i class="icon_text">'+(e+1)+"</i>\n        ":"\n        "+(e+1)+"\n        "}()||"")+'\n    </span>\n    <a href="'+_.dokiStarUrl({starid:t.id})+'" class="people_name" target="_blank" _stat="popular-singer-rank:avatar">'+_(t.name)+'</a>\n    <div class="people_score">\n        <i class="icon_sm icon_hot_sm">\n            <svg class="svg_icon" viewBox="0 0 16 16" width="16" height="16">\n                <use xlink:href="#svg_icon_hot_sm"></use>\n            </svg>\n        </i>\n        <span class="icon_text">'+_.formatNum(t.num)+"</span>\n        "+(function(){return t.lastRank>t.rank?'\n        <i class="icon_xs icon_rise_xs">\n            <svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_rise_xs"></use>\n            </svg>\n        </i>\n        ':t.lastRank==t.rank?'\n        <i class="icon_xs icon_hold_xs">\n            <svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_hold_xs"></use>\n            </svg>\n        </i>\n        ':'\n        <i class="icon_xs icon_decline_xs">\n            <svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_decline_xs"></use>\n            </svg>\n        </i>\n        '}()||"")+'\n    </div>\n    <a href="javascript:;" class="people_btn_vote" data-pid="'+t.id+'" data-name="'+t.name+'" data-img="'+_.imgUrl(t.pic)+'"\n        data-num="'+t.num+'" _stat="popular-singer-rank:vote">支持TA</a>\n</div>\n'}).join("")}},function(t,e,n){t.exports=n(203)},function(t,e,n){"use strict";var i,o,a=window.$||window.$j,r=n(204),s=n(205),c=n(206),l=n(207),d=n(208),u="x_modal_gift_0",p=!1,f=~window.location.search.indexOf("propdebug=1")?"//debugaccess.video.qq.com":"//access.video.qq.com",v=function(t){for(var e=0,n=i.length;e<n;e++)if(i[e].id==t)return i[e]},_=function(t){var e=a.Deferred();return a.ajax({url:f+"/gift/get_live_rank?vappid=89147374&vsecret=6a10d340e52d49896f188881ca26a1cbbecf12d2adbbe0bf",data:{dataKey:"curtype=6&curid="+t+"&rtype=7&rid="+t+"&starttime=&endtime="},dataType:"jsonp",jsonpCallback:"get_gift_rank"}).done(function(t){t&&0==t.ret&&t.data&&0===t.data.errCode?e.resolve(t.data):e.reject(t)}).fail(function(t){e.reject(t)}),e},h=function(t,e,n){var i=a.Deferred(),o={id:t,keytype:e||6};return n&&(o.sceneKey=n),a.ajax({url:f+"/gift/usual_get_tools?vappid=92089330&vsecret=cd21b1cef4d2ac7d600e5d3e4f1b1fb612a31b4c6ccf5c8d",data:o,type:"get",dataType:"jsonp",timeout:1e4,CSRF:!0,success:function(t){t&&0==t.ret&&t.data&&0===t.data.retcode&&t.data.propList?i.resolve(t.data):i.reject(t)}}).fail(function(t){i.reject(t)}),i},m=function(t,e,n,i,o){var r=a.Deferred(),s={id:n,propId:t,targetId:e,num:1,keytype:i||6};return o&&(s.sceneKey=o),a.ajax({url:f+"/gift/livepay_usual_give_tools?vappid=92089330&vsecret=cd21b1cef4d2ac7d600e5d3e4f1b1fb612a31b4c6ccf5c8d",data:s,type:"get",dataType:"jsonp",timeout:1e4,CSRF:!0,success:function(t){t&&0==t.ret&&t.data&&0===t.data.retcode?r.resolve(t.data):r.reject(t)}}).fail(function(t){r.reject(t)}),r},g=function(){if(0==a("link[href*='x_dialog_gift.css']").length){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href="//vm.gtimg.cn/c/=/tencentvideo/vstyle/web/common/style/x_dialog_gift.css,/tencentvideo/vstyle/web/common/style/x_dialog.css",a("head")[0].appendChild(t)}},y=function(){0==a("#mask_layer").length?a("body").append('<div id="mask_layer" class="mask_layer"></div>'):a("#mask_layer").show()},w=function(){a("#mask_layer").hide()},x=function(t){a.getScript("//vm.gtimg.cn/tencentvideo/script/txv.sea.js",function(){t&&t()})},b=function(t){x(function(){seajs.use("module/template",function(){seajs.use("module/db.prop.buy",function(e){t&&t(e)})})})},k=function(t,e){g(),p=!1,t.liveid=t.liveid||1006,t.keytype=t.keytype||6,b(function(n){a.when(h(t.liveid,t.keytype,t.giftkey),n.myProperty("1:2")).done(function(s,c){i=s.propList,o=t;var l=r({dialogId:u,person:t,_:{formatNum:d.formatNum,removeHttp:d.removeHttp}});a("body").append(l),O(),I(c),y();var f=a("#"+u),_=function(){f.remove(),w(),i=null,o=null};f.on("click",".x_close",function(t){t.preventDefault(),_(),e&&e(p)}).on("click",".x_btn",function(i){i.preventDefault();var o=a(this);if(!o.hasClass("x_disabled")){var r=o.attr("data-itemid");v(r).num>0?C(r):(f.hide(),n.propBuy({id:r,count:1,subType:3,keytype:t.keytype,liveid:t.liveid,ref:"curtype=3&curid="+t.liveid},function(t){1==t?(f.show(),n.myProperty("1:2").done(function(t){I(t)}),C(r)):(_(),e&&e(!1,-11==t))}))}})}).fail(function(t,n){var i;if(t&&-40001==t.ret?i=t:n&&-40001==n.ret&&(i=n),i){a("body").append(l({dialogId:u,errorCode:i.ret,msg:i.msg})),y();var o=a("#"+u);o.on("click",".x_btn_primary,.x_close",function(t){t.preventDefault(),o.remove(),w()})}else(t&&-11==t.ret||n&&-11==n.ret)&&e&&e(!1,!0)})})},$=function(t){var e;if(t&&t.myProperty){e={};for(var n=0,i=t.myProperty.length;n<i;n++)e["property_"+t.myProperty[n].propertyType]=t.myProperty[n].propertyCount}return e},O=function(){a("#"+u+" ._x_gift_table_body").html(c({toollist:i,_:{removeHttp:d.removeHttp}}))},I=function(t){a("#"+u+" .x_gift_footer").html(s({property:$(t)}))},C=function(t){m(t,o.id,o.liveid,o.keytype,o.giftkey).then(function(e){p=!0;for(var n=e.info,r=0,s=i.length;r<s;r++)if(i[r].id==t){i[r].num=n.canUsedCount;break}O();var c=a("#"+u),l=n.score||1;o.num=+o.num+l,c.find(".x_gift_head").addClass("x_active"),c.find(".x_people_num").append('<span class="x_num_plus">+'+l+"</span>"),setTimeout(function(){c.find(".x_people_num .x_icon_text").text(d.formatNum(o.num))},1400),setTimeout(function(){c.find(".x_gift_head").removeClass("x_active"),c.find(".x_people_num .x_num_plus").remove()},2e3)})},E=function(t){var e=a.Deferred();return a.ajax({url:f+"/gift/get_fans_rank?vappid=89147374&vsecret=6a10d340e52d49896f188881ca26a1cbbecf12d2adbbe0bf",data:{dataKey:"curtype=6&curid="+t+"&rtype=20&rid="+t+"&pageSize=10"},dataType:"jsonp"}).done(function(t){t&&0==t.ret&&t.data&&0===t.data.errCode?e.resolve(t.data):e.reject(t)}).fail(function(t){e.reject(t)}),e};t.exports={init:k,getTotalRank:_,getFansRank:E}},function(module,exports){module.exports=function(d){with(d)return'<div class="x_modal_gift" id="'+dialogId+'">\n    \x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e\n    <div class="x_modal_bd">\n        <a href="javascript:;" class="x_close" title="关闭"><i class="x_iconfont x_icon_close">&#xE624;</i></a>\n        <div class="x_gift_head">\n            <div class="x_gift_props">\n                <div class="x_gift_props_p1"></div>\n                <div class="x_gift_props_p2"></div>\n            </div>\n            <span class="x_gift_avatar"><img src="'+_.removeHttp(person.pic)+'" alt="'+person.name+'" onerror="picerr(this,\'s\');" /></span>\n            <div class="x_people_name">'+person.name+'</div>\n            <div class="x_people_num"><i class="x_iconfont x_icon_hot">&#xe62b;</i><span class="x_icon_text">'+_.formatNum(person.num)+'</span></div>\n        </div>\n        <div class="x_gift_body">\n            <table class="x_gift_table">\n            \t<tbody class="_x_gift_table_body"></tbody>\n            </table>\n        </div>\n        <div class="x_gift_footer"></div>\n    </div>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'我的钱包：<i class="x_icon_diamond"></i><span class="x_icon_text">'+property.property_1+'</span> <i class="x_icon_vcoin"></i><span class="x_icon_text">'+property.property_2+"</span>"}},function(module,exports){module.exports=function(d){with(d)return""+(toollist||[]).map(function(t,e){return"\n"+(function(e){return'\n    <tr>\n        <td class="x_gift_pic"><img src="'+_.removeHttp(e.iconUrl)+'" alt="'+e.title+'" onerror="picerr(this,\'s\');" /></td>\n        <td class="x_gift_unit"><span class="x_char_plus">+</span><i class="x_iconfont x_icon_hot">&#xe62b;</i><span class="x_icon_text">'+e.score+'</span></td>\n        <td class="x_gift_price">\n            '+(8==e.payStatus?"免费":'\n            <i class="'+(1==e.payFlag?"x_icon_diamond":"x_icon_vcoin")+'"></i><span class="x_gift_price">'+e.payPrice+'</span><span class="x_price_vip">（会员价<i class="'+(1==e.payFlag?"x_icon_diamond":"x_icon_vcoin")+'"></i><span class="x_gift_price">'+e.payPrice*e.vip_discount/100+"</span>）</span>\n            ")+'\n        </td>\n        <td class="x_gift_tool">\n            <a href="javascript:void(0);" _stat="popular-rank-gift:give" class="x_btn'+(8==e.payStatus&&0==t.num?" x_disabled":"")+'" data-itemid="'+e.productId+'">'+(8!=e.payStatus&&0==t.num?"购买":'赠送<span class="x_btn_badge">'+t.num+"</span>")+"</a>\n        </td>\n    </tr>\n"}(t.info||{})||"")+"\n"}).join("")}},function(module,exports){module.exports=function(d){with(d)return'<div class="x_modal" id="'+dialogId+'">\n    \x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e\n    <div class="x_modal_bd">\n        <a href="javascript:;" class="x_close" title="关闭"><i class="x_iconfont x_icon_close">&#xe601;</i></a>\n        <h3 class="x_title">温馨提示</h3>\n        <div class="x_desc">\n            <p class="x_desc_inner">错误码('+errorCode+"):"+msg+'</p>\n        </div>\n    </div>\n    <div class="x_modal_ft">\n        <a class="x_btn x_btn_primary" href="javascript:;">确定</a>\n    </div>\n</div>'}},function(t,e){"use strict";t.exports={removeHttp:function(t){if(t)return t.replace(/^http\w*:\/\//g,"//")},vingpic:function(){var t=arguments[0],e=arguments[1];if(!t)return"";for(var n=0;n<e.length;n++)if(t[e[n]])return t[e[n]].url.replace(/^http\w*:\/\//g,"//");return""},formatNum:function(t){if(!(t+=""))return 0;var e=t.split(""),n="";return t<1e4?t:t>=1e4&&t<1e8?(t=parseInt(t/1e3)+"",e=t.split(""),n=e.pop(),e.join("")+(n?"."+n:"")+"万"):t>=1e8?(t=parseInt(t/1e7)+"",e=t.split(""),n=e.pop(),e.join("")+(n?"."+n:"")+"亿"):void 0},scheduleTime:function(){var t=arguments[0],e=arguments[1];try{return t=t.split(" ")[0],t.split("-").join(e)}catch(n){return t}},scheduleStatus:function(){switch(arguments[0]){case 1:return"now";case 2:return"pass";case 3:return"preview"}},floor:function(){
return Math.floor(arguments[0])},getDefaultPic:function(t){return"h"===t?"//i.gtimg.cn/qqlive/images/20150608/pic_h.png":"//i.gtimg.cn/qqlive/images/20150608/pic_v.png"}}},function(t,e,n){"use strict";var i=n(43),o=n(32),a=n(210),r=n(179),s=n(3),c=n(126),l=n(211),d=n(212),u=n(61)("COMPONENT-EMOTION"),p=s({data:{emotions:{type:"request",action:{url:"vunion://902?ids={ids}",fixBefore:function(t){return t},fixAfter:function(t){var e=t.filter(function(t){return 0!=t.use_flag});if(!e.length)throw new Error("no emotion data");return e},onError:function(t){return t}}}},render:function(t){return t}});t.exports=Reve.component("c-emotion",{data:{hasPrev:!1,hasNext:!1,rawData:0,picurl:"",shareurl:""},methods:{prev:function(){this.pager.prev()},next:function(){this.pager.next()},display:function(){var t=this,e=$(this.$el),n=$(t.$el).find("ul.figure_list");return t.pager=new r({getVisibleNum:function(){var t=124,e=n.children();if(e.length)t=e.width();else{var i=$('<li class="list_item">');n.append(i),t=i.width(),i.remove()}return Math.floor(n.width()/(t+5))+1},onChanged:function(n,o,a){e.find("._list").html(i(t,l,{emotion_list:a})),t.$set({hasPrev:n,hasNext:o})}}),a({cls:"mod_layer_meme layer_hover",attr:"emoji",onShow:function(){o.stat("emotion:hover")},getView:function(e){var n=e.el,i=n.attr("data-shareurl"),o=n.attr("data-picurl");t.$set({picurl:o,shareurl:i});var a=$(d({pic:o&&o.replace(/^https?:/,""),share:i}));c({$el:a,targetName:"VShare",getTitle:function(){return"分享一个《"+COVER_INFO.title+"》的逗比表情给你"},getPic:function(){return o},getLink:function(){return i}});var r=a.find("._emotion_qrcode")[0];return new QRCode(r,{text:i,width:100,height:100,colorDark:"#000000",colorLight:"#ffffff",center:!1,correctLevel:QRCode.CorrectLevel.H}),a.find("._emotion_wechat").off().on("mouseover",function(){a.find("._emotion_qrcode").show()}).on("mouseleave",function(){a.find("._emotion_qrcode").hide()}),a}}),p({ids:COVER_INFO.emotion_ids.split("+")}).then(function(e){u("data done",e.emotions),t.pager.config({data:e.emotions}),o.event("emotion")})["catch"](function(e){$(t.$el).hide()})}}})},function(t,e,n){function i(t,e){var n=!1;t.next=o,t.leave=function(){n=!0};var r,s=e.getData;s&&(r=s(t)),l(r||{}).then(function(i){t.data=i,t.next=a,n||a(t,e)})["catch"](function(e){t.next=i})}function o(t,e){}function a(t,e){if(t.visible)return void s(t,e);t.visible=!0,c(t,e).then(function(n){m.children().hide(),e.adjust(t),n.show()});var n=e.onShow;n&&n(t)}function r(t,e){t.visible&&!t.hideHandle&&(t.hideHandle=setTimeout(function(){var n=t.$panel;if(t.hideHandle=0,!t.visible||!n)return void(t.visible=!1);t.visible=!1,n.hide();var i=e.onHide;i&&i(t,e)},100))}function s(t,e){var n=t.hideHandle;t.hideHandle=0,n&&clearTimeout(n)}function c(t,e){var n=t.$panel;if(!n){var i=e.getView;if(i)return l(i(t)).then(function(n){var i=function(){s(t,e)};n.bind("mouseenter",i);var o=function(){r(t,e)};if(n.bind("mouseleave",o),t.leave=o,_.push(t),m.append(n),t.$panel=n,_.length>e.panelMax){var a=_.shift();a.$panel.remove(),a.$panel=0}return n})}return u.resolve(n)}function l(t){return t?t.then?t:u.resolve(t):u.reject()}function d(t){t=t||{},t.panelMax=t.panelMax||h;var e=t.attr;if(!e||""==e)throw new Error("i need attr");var n=t.adjust;return n||(n=function(t){var e=t.el,n=e.outerWidth(),i=m.outerWidth(),o=e.offset();m.css({left:o.left+.5*(n-i),top:o.top-10})}),t.adjust=n,t}var u=n(2),p=0;$(window).scroll(function(){p&&(clearTimeout(p),p=0),p=setTimeout(function(){p=0},100)});var f={},v=1,_=[],h=10,m=0;t.exports=function(t){var e=t.attr,n=t.cls;m=$('<div class="'+n+'">'),$("body").append(m),t=d(t),f[e]={};var o=function(n){var a=$(n.currentTarget);if(p)return void a.one("mousemove",o);var r=a.attr("data-floatid"),s=f[e],c=r&&s[r];if(c)c=s[r];else{r=v++,a.attr("data-floatid",v),s[v]=c={el:a,next:i};var l=function(){var e=c.leave;e&&e(c,t)};a.bind("mouseleave",l)}c.next(c,t)};$("body").delegate("[data-"+e+"]","mouseenter",o)}},function(module,exports){module.exports=function(d){with(d)return(emotion_list||[]).map(function(t,e){return'\n<li class="list_item">\n    <a href="javascript:" class="figure" tabindex="-1" data-emoji="true" data-picurl="'+t.cdn_url+'" data-shareurl="'+t.share_url+'">\n        <img class="figure_pic" r-lazyload="'+_.imgUrl(t.cdn_url)+'" />\n    </a>\n</li>\n'}).join("")+"\n"}},function(module,exports){module.exports=function(d){with(d)return'<div class="layer_meme_content" data-pic="'+pic+'" data-share="'+share+'">\n    <div class="figure">\n        <img class="figure_pic _emotion_src" src="'+pic+'" alt="">\n    </div>\n    <div class="share_content">\n        <div class="text">分享表情包给好友</div>\n        <ul class="share_icon_list">\n            <li class="share_icon_wechat _emotion_wechat">\n                <a _stat="emotion:wechat" class="btn_share" href="javascript:">\n                    <i class="icon_sm icon_wechat_sm"><svg class="svg_icon svg_icon_wechat_sm" viewBox="0 0 16 16" width="16" height="16"><use xlink:href="#svg_icon_wechat_sm"></use></svg></i>\n                </a>\n            </li>\n            <li class="share_icon_weibo">\n                <a _stat="emotion:weibo" data-share-type="sinaweibo" class="btn_share" href="javascript:" title="分享到新浪微博">\n                    <i class="icon_sm icon_weibo_sm"><svg class="svg_icon svg_icon_weibo_sm" viewBox="0 0 16 16" width="16" height="16"><use xlink:href="#svg_icon_weibo_sm"></use></svg></i>\n                </a>\n            </li>\n            <li class="share_icon_qzone">\n                <a _stat="emotion:qzone" data-share-type="qzone" class="btn_share" href="javascript:" title="分享到QQ空间">\n                    <i class="icon_sm icon_qzone_sm"><svg class="svg_icon svg_icon_qzone_sm" viewBox="0 0 16 16" width="16" height="16"><use xlink:href="#svg_icon_qzone_sm"></use></svg></i>\n                </a>\n            </li>\n            <li class="share_icon_qq">\n                <a _stat="emotion:qq" data-share-type="qq" class="btn_share" href="javascript:" title="分享给QQ好友">\n                    <i class="icon_sm icon_qq_sm"><svg class="svg_icon svg_icon_qq_sm" viewBox="0 0 16 16" width="16" height="16"><use xlink:href="#svg_icon_qq_sm"></use></svg></i>\n                </a>\n            </li>\n            <li class="share_icon_douban">\n                <a _stat="emotion:douban" data-share-type="douban" class="btn_share" href="javascript:" title="分享到豆瓣">\n                    <i class="icon_sm icon_douban_sm"><svg class="svg_icon svg_icon_douban_sm" viewBox="0 0 16 16" width="16" height="16"><use xlink:href="#svg_icon_douban_sm"></use></svg></i>\n                </a>\n            </li>\n        </ul>\n        <div class="qr_pic _emotion_qrcode"></div>\n    </div>\n</div>\n'}},function(t,e,n){"use strict";var i=n(214),o=n(179),a=n(215),r=n(216),s=n(217),c=n(32),l=n(43),d=window.PageMessage,u=[1,2,3,106,9,10];t.exports=Reve.component("c-star",{data:{starLeft:0,hasPrev:!1,hasNext:!1,loading:!1,currentStarId:0,followStatus:{},nocontent:!1},created:function(){try{this.$data.stars=JSON.parse(this.$data.stars),i.setRankCache(JSON.parse(this.$data.ranks))}catch(t){this.$data.stars=[]}},ready:function(){var t=this,e=$(this.$el).find("._starlist"),n=this.$data.stars;t.fetched={},n.length&&(t.fetched[this.$data.stars[0].name_id]=2,t.$set({currentStarId:this.$data.stars[0].name_id})),t.pager=new o({getVisibleNum:function(){return Math.floor(e.parent().width()/e.find(".item").outerWidth())+1},onChanged:function(n,i,o){t.$set({hasPrev:n,hasNext:i});var a=o&&o[0];a&&(e.css("margin-left",-a.index*e.find(".item").outerWidth()+"px"),t.switchStar(a.name_id))}}),n.forEach(function(t,e){t.index=e}),this.pager.config({data:n}),~u.indexOf(COVER_INFO.type)||d.wait("vidChanged",function(){d.on("vidChanged",t.onVideoChanged),t.onVideoChanged.apply(this,arguments)}),txv.login.addReadyCallback(function(){t.getFollowStatus()}),txv.login.addLoginCallback(function(){t.getFollowStatus()})},methods:{getFollowStatus:function(){var t=this,e=this.$data.stars.map(function(t){return t.fansid});i.checkFollow(e,function(e,n){if(n.length){var i={},o={};n.forEach(function(t){i[t.fanTuanId]=t.status}),t.$data.stars.forEach(function(t){t.followStatus=i[t.fansid],o[t.name_id]=i[t.fansid]}),t.$set("followStatus",o),t.updateStarFollow()}})},updateStarFollow:function(t){t=t||this.$data.currentStarId;var e=$(this.$el).find("#follow_"+t);this.$data.followStatus[t]?e.html("已关注").addClass("btn_followed"):e.html("关注Ta").removeClass("btn_followed")},followBtnClick:function(t){if(!txv.login.isLogin())return txv.login.openLogin(),!1;var e=this;this.$data.stars.some(function(n){if(n.name_id!=t)return!1;var o=n.fansid,a=e.$data.followStatus[t];c.stat("star:click"+(a?"unfollow":"follow")),i.followStar(o,!a,function(n,i){n||i.result.ret||i.result.data.errCode||(e.$data.followStatus[t]=!a,e.updateStarFollow())})})},prev:function(){this.pager.prev()},next:function(){this.pager.next()},switchStar:function(t){if(t!=this.$data.currentStarId){var e=$(this.$el).find("._starlists"),n=this;this.$data.stars.some(function(o){var r=o.name_id==t,s=n.fetched;if(r){var d=s[t];d?1==d?n.$set({currentStarId:t,loading:!0}):2==d&&(c.stat("star:hover"),n.$set({currentStarId:t,loading:!1})):(n.$set({currentStarId:t,loading:!0}),s[t]=1,i.getVideo({tag_id:o.tag_id,star_id:o.name_id},function(i,r){var d=r&&r.list||[];d.some(function(t,e){if(t.cover_id&&t.cover_id!=COVER_INFO.cover_id)return d.splice(e,1),!0}),s[t]=2,o.followStatus=n.$data.followStatus[t],e.append(l(n,a,{starVideoAndCover:d,stars:[o],cover:{cover_id:COVER_INFO.cover_id},f_render:!0})),c.stat("star:hover"),txv.Boss&&txv.Boss.wind(),t==n.$data.currentStarId&&n.$set({currentStarId:t,loading:!1})}))}return r})}},onVideoChanged:function(t){if(t.vid){var e=this,n=t.vid;i.getStarids(n,function(t,n){var o=[];if(t||(o=n),0===o.length)return void $(e.$el).hide();i.getStar(o,function(t,n){var o=$(e.$el).find("._starlist"),a=($(e.$el).find("._starlists"),[]);if(t||(a=n),0===a.length)return void $(e.$el).hide();$(e.$el).show(),e.$set("stars",a),o.html(l(e,r,{stars:a}));var c=a.map(function(t){return t.name_id}),d=a.map(function(t){return t.fansid});i.getRank(c,d,function(t,n){t||c.forEach(function(t,i){o.find("#_a_"+t).append(l(e,s,{rank:n,star:{name_id:t,fansid:d[i]}}))})}),txv.login.isLogin()&&e.getFollowStatus(),e.switchStar(a[0].name_id)})})}}}})},function(t,e,n){"use strict";var i=n(22),o=i.build({url:"jsonp://node.video.qq.com/x/api/vplay_star"}),a=i.build({url:"jsonp://union.video.qq.com/fcgi-bin/data?otype=json&tid=598&appid=10001007&appkey=e075742beb866145&idlist={idlist}"}),r=i.build({url:"jsonp://union.video.qq.com/fcgi-bin/data?otype=json&tid=629&appid=10001007&appkey=e075742beb866145&idlist={idlist}"}),s=i.build({url:"jsonp://access.video.qq.com/fantuan/follow_request?vappid=29737725&vsecret=0ad3fe84a16e82739bea284c5c75ced12b0799fe30d300a5"}),c=i.build({url:"jsonp://node.video.qq.com/x/api/doki_check_follow"}),l=i.build({url:"jsonp://node.video.qq.com/x/api/doki_rank_detail?starids={starids}&fantuans={fantuans}"}),d=i.build({url:"jsonp://node.video.qq.com/x/api/doki_star_update?"}),u={},p={},f={},v={},_={},h=function(t,e){return t.star_id&&t.tag_id?u[t.tag_id]?e(null,u[tag_id]):void o({id:t.tag_id,starid:t.star_id}).then(function(n){u[t.tag_id]=n.result,e(null,n.result)})["catch"](function(t){e(null,[])}):e(null,[])},m=function(t,e,n){return t&&e?_[t]?n(null,_[t]):void d({starid:t,fantuanid:e}).then(function(e){_[t]=e.result,n(null,e.result)})["catch"](function(t){n(null,[])}):n(null,[])},g=function(t,e){return t?(t instanceof Array&&(t=t.join(",")),p[t]?e(null,p[t]):void a({idlist:t}).then(function(n){var i=n.result;if(0!=i.errorno||!i.results instanceof Array)return void e(i,[]);var o=i.results.filter(function(t){return t.fields&&"152462"==t.fields.is_visit_id&&t.fields.pic200x200}).map(function(t){return t.fields.tag_id=t.fields.tag_id&&t.fields.tag_id.split("+")[0],t.fields});p[t]=o,e(null,o)})["catch"](function(t){e(t,[])})):e(null,[])},y=["race_stars_id","costar_id","director_id","guests_id","leading_actor_id","mv_stars_id","presenter_id","relative_stars_id","singer_id","stars"],w=function(t,e,n){return"function"==typeof e?(n=e,e=y):e instanceof Array||(e=y),t?f[t]?n(null,f[t]):void r({idlist:t}).then(function(i){function o(){var t=[].slice.call(arguments),e={},n=[];return t.forEach(function(t){t instanceof Array&&t.forEach(function(t){t&&!e[t]&&(n.push(t),e[t]=!0)})}),n}var a=i.result;if(0!=a.errorno||!a.results||!a.results[0])return void n(a,[]);var r=a.results[0].fields,s=o.apply(null,e.map(function(t){return r[t]}));f[t]=s,n(null,s)})["catch"](function(t){n(t,[])}):n(null,[])},x=function(t,e,n){if(!txv.login.isLogin())return void txv.login.openLogin();s({fanTuanId:t,type:e?0:1,needCheck:1}).then(function(t){n(null,t)})["catch"](function(t){n(t,null)})},b=function(t,e){var n="";n=t.length?t.join(","):t,c({ftidlist:n}).then(function(t){var n=t.result;n.errCode?e(n,null):e(null,n.followList)})["catch"](function(t){e(t,null)})},k=function(t,e,n){"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),"function"==typeof e&&(n=e,e=[]);var i={},o=[],a=[];if(t.forEach(function(t,n){v[t]?i[t]=v[t]:(o.push(t),a.push(e[n]||1))}),!o.length)return void n(null,i);l({starids:o,fantuans:a}).then(function(t){var e,a=t.result;o.forEach(function(t){(e=a[t])&&e.stFanTuanScoreInfo&&(i[t]=e.stFanTuanScoreInfo.dwCurRank)}),n(null,i)})["catch"](function(t){n(t,null)})},$=function(t){v=t};t.exports={getVideo:h,getStar:g,getStarids:w,followStar:x,checkFollow:b,getRank:k,setRankCache:$,getFeed:m}},function(module,exports){module.exports=function(d){with(d)return""+(function(){return starVideoAndCover.length?'\n<div class="figure_scroll figure_scroll_h_default"\n     r-component="c-starlist"\n     r-data="{currentStarId: currentStarId;star: \''+encodeURIComponent(JSON.stringify(stars[0]))+"';stars: stars;lazyload: "+("undefined"==typeof f_render)+'}"\n     r-show="{currentStarId == '+stars[0].name_id+'}"\n     r-methods="{followBtnClick: followBtnClick; updateStarFollow: updateStarFollow}"\n     style="display: block">\n    <div class="mod_figure mod_figure_h mod_figure_h_default">\n        <ul class="figure_list _videolist">\n            '+(starVideoAndCover||[]).map(function(t,e){return"\n"+(function(){return t.vid?'\n<li class="list_item">\n    <a href="'+_.playUrl(t.vid)+'"\n       target="_blank" class="figure" tabindex="-1" title="'+t.title+'" _stat="star:clickVideo">\n        <img class="figure_pic" r-lazyload="'+_.imgUrl(t.pic_228_128)+'" alt="'+t.title+'" onerror="picerr(this, \'h\')"/>\n        '+(function(t){return"\n        "+(function(){if(t>0)return'\n        <div class="figure_count">\n            <span class="num">'+_.showTime(t)+"</span>\n        </div>\n        "}()||"")+"\n        "}(+t.duration)||"")+'\n    </a>\n    <div class="figure_detail figure_detail_genius figure_detail_two_row">\n        <strong class="figure_title figure_title_two_row">\n            <a\n                href="'+_.playUrl(t.vid)+'"\n                target="_blank"\n                _stat="star:clickVideo"\n                title="'+t.title+'"\n            >'+t.title+"</a>\n        </strong>\n    </div>\n</li>\n":"\n\n"+(function(){if(t.cover_id!=cover.cover_id)return'\n<li class="list_item">\n    <a href="'+_.playUrl(t.cover_id)+'" target="_blank" class="figure" tabindex="-1" title="'+t.title+'" _stat="star:clickVideo">\n        <img class="figure_pic" r-lazyload="'+_.coverPicSize(t.new_pic_hz,332)+'" alt="'+t.title+'" src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png" />\n        '+(function(){return t.type&&1==t.type?"\n            "+_.coverCorner(t.web20_imgtag,[2])+"\n            "+(function(t){return"\n                "+(function(){if(t>0)return'\n                  <div class="figure_count">\n                    <span class="num">'+_.showTime(t,!0)+"</span>\n                  </div>\n                "}()||"")+"\n            "}(+t.positive_vid_timelong)||"")+"\n        ":"\n            "+_.coverCorner(t.web20_imgtag,[2,3])+"\n        "}()||"")+'\n    </a>\n    <div class="figure_detail figure_detail_genius figure_detail_two_row">\n        <strong class="figure_title figure_title_two_row">\n            <a\n                href="'+_.playUrl(t.cover_id)+'"\n                target="_blank"\n                _stat="star:clickVideo"\n                title="'+t.title+'"\n            >'+t.title+"</a>\n        </strong>\n        "+(function(){return 10==t.type?'\n        <div class="figure_desc" title="'+(t.current_brief||"")+'">'+(t.current_brief||"")+"</div>\n        ":'\n        <div class="figure_desc">'+(t.second_title||"")+"</div>\n        "}()||"")+"\n    </div>\n</li>\n"}()||"")+"\n"}()||"")+"\n"}).join("")+'\n        </ul>\n    </div>\n    <a href="javascript:" wind-click="100" class="btn_prev" r-class="{disabled: !hasPrev}" r-on="{click: prev}" title="上一页" _stat="star:prev">\n        <i class="icon_lg icon_prev_lg"><svg class="svg_icon svg_icon_prev_lg" viewBox="0 0 36 36" width="36" height="36"><use xlink:href="#svg_icon_prev_lg"></use></svg></i>\n    </a>\n    <a href="javascript:" wind-click="100" class="btn_next" r-class="{disabled: !hasNext}" r-on="{click: next}" title="下一页" _stat="star:next">\n        <i class="icon_lg icon_next_lg"><svg class="svg_icon svg_icon_next_lg" viewBox="0 0 36 36" width="36" height="36"><use xlink:href="#svg_icon_next_lg"></use></svg></i>\n    </a>\n</div>\n':stars.length?'\n<div class="error_tips" r-show="{currentStarId == '+stars[0].name_id+'}" style="display: block"><div class="content">暂时没有'+stars[0].name+"主演的其他影片信息哦。</div></div>\n":void 0}()||"")}},function(module,exports){module.exports=function(d){with(d)return""+(stars||[]).map(function(v,i){return'\n<div class="item'+(0==i?" current":"")+'" id="_a_'+v.name_id+'" r-class="{current: currentStarId == '+v.name_id+'}" r-on="{mouseenter: switchStar.bind(null, \''+v.name_id+'\')}">\n    <a _stat="star:click" class="img" target="_blank" href="'+_.dokiStarUrl({starid:v.name_id,starname:v.name})+'"><img'+(function(){if(v.pic200x200)return' r-lazyload="'+_.imgUrl(v.pic200x200)+'"'}()||"")+' src="//i.gtimg.cn/qqlive/images/20150608/pic_s.png"/></a>\n    <a _stat="star:click" class="name" title="'+_(v.name)+'" href="'+_.dokiStarUrl({starid:v.name_id,starname:v.name})+'" target="_blank">\n        '+_(v.name)+"\n    </a>\n    "+(function(){if("undefined"!=typeof rank)return"\n    "+function($value){with($value)return""+(function(t){return'\n<a class="text" _stat="starrank:click" href="'+_.rankUrl({typeid:2,starid:star.name_id,fantuan:star.fansid})+'" target="_blank" title="'+t+'"><i class="icon_doki_32"><svg viewBox="0 0 32 14" width="32" height="14"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_doki_32"></use></svg></i>'+t+"</a>\n"}(rank[star.name_id]>0&&rank[star.name_id]<1e3?"第"+rank[star.name_id]+"名":"未上榜")||"")}({star:v})+"\n    "}()||"")+"\n</div>\n"}).join("")}},function(module,exports){module.exports=function(d){with(d)return""+(function(t){return'\n<a class="text" _stat="starrank:click" href="'+_.rankUrl({typeid:2,starid:star.name_id,fantuan:star.fansid})+'" target="_blank" title="'+t+'"><i class="icon_doki_32"><svg viewBox="0 0 32 14" width="32" height="14"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_doki_32"></use></svg></i>'+t+"</a>\n"}(rank[star.name_id]>0&&rank[star.name_id]<1e3?"第"+rank[star.name_id]+"名":"未上榜")||"")}},function(t,e,n){"use strict";var i=n(43),o=n(179),a=n(214),r=n(219),s=n(32),c=n(42),l=n(50);t.exports=Reve.component("c-starlist",{data:{hasPrev:!1,hasNext:!1,tag_id:""},created:function(){var t=this,e=this.$data.star;try{this.aStar=c.extend({},JSON.parse(decodeURIComponent(e)))}catch(n){this.$data.currentStarId?this.$data.stars.some(function(e){return e.name_id==t.$data.currentStarId&&(t.aStar=c.extend({},e),!0)}):(this.$set("star",this.$data.stars[0]),this.aStar=c.extend({},this.$data.stars[0]))}},ready:function(){var t=$(this.$el).find("._videolist"),e=this;setTimeout(function(){e.pager=new o({getVisibleNum:function(){return Math.floor(t.width()/(t.find("li").outerWidth()+5))+1},onChanged:function(n,i,o){e.$set({hasPrev:n,hasNext:i}),t.css("margin-left",-o[0]*(t.find("li").outerWidth()+5)+"px")}}),e.pager.config({data:[].map.call(t.find("li"),function(t,e){return e})})},16),this.$data.lazyload?l(this.$el,{once:!0},function(){e.prependFeed()}):this.prependFeed()},methods:{prev:function(){this.pager.prev()},next:function(){this.pager.next()},prependFeed:function(){var t=this.aStar,e=$(this.$el).find("._videolist"),n=this;a.getFeed(t.name_id,t.fansid,function(o,a){if(o)return void n.asyncWind(e);e.prepend(i(n,r,{feed:a.feed,fans:a.fans,star:t})),n.updateStarFollow(t.name_id),s.event("star:show"),n.asyncWind(e)})},asyncWind:function(t){$(t).children().attr("__wind",""),txv.Boss&&txv.Boss.wind()}}})},function(module,exports){module.exports=function(d){with(d)return""+(function(t){return"\n"+(function(e){return"\n"+(function(){return e.content?'\n<li class="list_item list_item_doki doki_color_'+(+Math.random().toString(4)[2]+1)+'">\n    <a _stat="star:click'+(t?"weibo":"fans")+'" href="'+_.noteDetailUrl(star.name_id,e.feedId)+'" target="_blank" class="figure">\n        '+(function(){if(star.discoloration_pic)return'<img class="doki_pic" src="'+_.imgUrl(star.discoloration_pic)+'">'}()||"")+'\n        <div class="doki_mask">\n            <span class="doki_label">'+(t?"刚刚更新了微博":"后援会更新了动态")+'</span>\n            <span class="doki_desc">'+_(e.content)+'\n            </span>\n        </div>\n    </a>\n    <div class="doki_btns">\n        \x3c!-- 已关注，添加类名 btn_followed --\x3e\n        '+(function(){return"undefined"!=typeof star.followStatus&&star.followStatus?'\n        <a href="javascript:void(0)" id="follow_'+star.name_id+'" title="取消关注" class="btn_follow btn_followed" r-on="{click: followBtnClick.bind(null, \''+star.name_id+"')}\">已关注</a>\n        ":'\n        <a href="javascript:void(0)" id="follow_'+star.name_id+'" class="btn_follow" r-on="{click: followBtnClick.bind(null, \''+star.name_id+"')}\">关注Ta</a>\n        "}()||"")+"\n    </div>\n</li>\n":'\n<li class="list_item list_item_doki doki_color_'+star.name_id%5+'">\n    <a href="'+_.dokiStarUrl({starid:star.name_id,starname:star.name,tabid:1})+'" target="_blank" class="figure">\n        '+(function(){if(star.discoloration_pic)return'<img class="doki_pic" src="'+star.discoloration_pic+'">'}()||"")+'\n        <div class="doki_mask">\n            <span class="doki_label">最近没有动态更新</span>\n            <span class="doki_desc">了解Ta的全部资讯</span>\n        </div>\n    </a>\n    <div class="doki_btns">\n        \x3c!-- 已关注，添加类名 btn_followed --\x3e\n        '+(function(){return"undefined"!=typeof star.followStatus&&star.followStatus?'\n        <a href="javascript:void(0)" id="follow_'+star.name_id+'" title="取消关注" class="btn_follow btn_followed" r-on="{click: followBtnClick.bind(null, \''+star.name_id+"')}\">已关注</a>\n        ":'\n        <a href="javascript:void(0)" id="follow_'+star.name_id+'" class="btn_follow" r-on="{click: followBtnClick.bind(null, \''+star.name_id+"')}\">关注Ta</a>\n        "}()||"")+"\n    </div>\n</li>\n"}()||"")+"\n"}(t?feed:fans)||"")+"\n"}(feed.content&&1e3*feed.time>+new Date-6048e5)||"")}},function(t,e){t.exports=Reve.component("c-ad-bottom",{data:function(){return{ismac:!1}},ready:function(){if(this.$set("ismac",txv.ua.macs),txv.clipboard){$(this.$el).find(".mod_ad_square a[data-id]").each(function(){var t=$(this),e=t.attr("href");txv.clipboard.to({el:t.find("img").get(0),text:"qqlivechannel=channel1.vad",click:function(){location.href=e}})})}},methods:{}})},function(t,e,n){var i=window.PageMessage,o=n(42),a=n(64),r=n(222),s=n(43),c=n(175)("recommends");t.exports=Reve.component("c-recommends",{data:{id:"",page:1,totalPage:0},created:function(){this.$data.recommends&&(this.$data.recommends=this.$data.recommends.split(","))},ready:function(){c.set(this.$data.recommends);var t=this;i.on("vidChanged",function(e){e.vid&&t.$data.id!==e.vid&&t.refresh(e.vid)}),i.waitandon("loadRecommends",function(e,n){t.$data.id==e?n&&n(t.$data.recommends):t.refresh(e,n)}),setTimeout(this.report)},methods:{refresh:function(t,e){var n=this;try{txv.login.getUin()}catch(i){}a("//node.video.qq.com/x/vlikecgi/related_rec?rec_num=24",{vid:t,no_login_id:n.getMobileUV(),pageContext:""},function(i,a){if(a&&a.data&&a.data.recItemList&&a.data.recItemList.length){var l=o.map(a.data.recItemList,function(t){var e=t.unionInfo||{};return{id:t.itemId,title:1==t.itemType?e.title:e.title+" "+(e.c_second_title||""),picurl:e.pic_228_128||e.pic_640_360||e.pic_url||e.pic160x90||e.horizontal_pic_url||"",seqNum:a.data.seqNum,itemType:t.itemType,recReportInfo:t.recReportInfo}});if(!l||!l.length)return;var d=$(n.$el).find("._recommends-slider"),u=s(n,r,{recommends:l});n.$set({id:t,page:1,totalPage:Math.ceil(l.length/6)}),d.html("").append(u),c.set(o.map(l,function(t){return t.id+"|"+t.title+"|"+t.picurl})),txv&&txv.Message.emit("report_recomm_refresh",d),e&&e(c.get()),n.report(),txv.Boss&&txv.Boss.wind()}})},getMobileUV:function(){try{var t=txv.cookie.get("mobileUV");if(t)return t;for(var e=parseInt(1e6*Math.random()).toString(16),n=0;n<5;n++){if(0!=e){t="1_"+(new Date).getTime().toString(16)+"_"+e,txv.cookie.set("mobileUV",t,"qq.com",!1,87600);break}e=parseInt(1e6*Math.random()).toString(16)}return t}catch(i){return""}},report:function(){var t=$(this.$el).find("._recommends-slider"),e=t.outerWidth(),n=t.find("ul").eq(this.$data.page-1),i=n.find(".list_item"),o=i.outerWidth(),a=~~(e/o),r=a;i.each(function(t,e){var n=$(e);if(t>=0&&t<r){var i=n.attr("_beReplacedByRec")||n.attr("__recommend");n.attr("_recommend",i).removeAttr("_beReplacedByRec").removeAttr("__recommend")}}),txv.Message.emit("report_recomm_refresh",t)},aChange:function(){var t=this,e=this.$data.page;e==this.$data.totalPage?e=1:e++,this.$set("page",e),setTimeout(function(){t.report()},100)}}})},function(module,exports){module.exports=function(d){with(d)return""+function(){for(var t=recommends,e=0,n="",i=0,o=t.length;i<o;i++){i%6==0&&(e++,n+='<ul class="figure_list none" r-class="{none: \''+e+"' != page}\">");var a=t[i];n+='\n\t\t<li __wind class="list_item" \n\t\t\t_beReplacedByRec="pt=vplay&m=videoRecommend_bottom&s='+a.seqNum+"&r="+a.itemType+"&a="+a.recReportInfo.algId+"&b="+a.recReportInfo.bucketId+"&rs="+a.recReportInfo.reason+"&rt="+a.recReportInfo.reasonType+"&v="+a.id+'">\n\t\t\t<a href="'+_.playUrl(a.id)+'"\n\t\t\t\ttarget="_blank" \n\t\t\t\tclass="figure" \n\t\t\t\ttabindex="-1"\n\t\t\t\ttitle="'+_(a.title)+'"\n\t\t\t\t_stat="recommends:poster">\n\t\t\t\t<img r-lazyload="'+_.imgUrl(a.picurl)+'" class="figure_pic" />\n\t\t\t</a>\n\t\t\t<strong class="figure_title figure_title_two_row"><a href="'+_.playUrl(a.id)+'" target="_blank">'+_(a.title)+"</a></strong>\n\t\t</li>",(i+1)%6==0&&(n+="</ul>")}return n}()}},function(t,e,n){var i,o=n(224),a=n(43),r=window.PageMessage,s="mod_people_rank_container",c=n(225).standard();t.exports=Reve.component("jikelist",{data:function(){return{hasPrev:!1,hasNext:!1,beginShowingIndex:0,allNum:0,eachPageNum:0}},created:function(){},ready:function(){var t=this;r.wait("tvp-starListReady",function(e){t.renderList(e)}),r.on("tvp-starListRefresh",function(e){t.refreshList(e)}),c.setApp("doki").setPage("JIKE")},methods:{renderList:function(t){var e=this;e.refreshList(t),e.bindEvent()},refreshList:function(t){var e=$(this.$el),n=this;e.html(a(n,o,{list1:t.list.weeklist,list2:t.list.alllist})),this.$set("allNum",t.list.weeklist.length),this.refreshScroll()},bindEvent:function(){var t=this,e=$(this.$el);$(window).resize(function(){setTimeout(function(){t.refreshScroll()},50)}),i=new TaskJIKE({}),e.on("click",".btn_vote",function(){var t=this;txv&&txv.login&&txv.login.isLogin()?i.support({vid:$(t).attr("data-id"),state:$(t).attr("data-state"),playtask:$(t).attr("data-playtask"),sharetask:$(t).attr("data-sharetask"),sucCallback:function(){r.emit("tvp-getStarListRefresh")},errCallback:function(){}}):txv.login.openLogin()}).on("click",".btn_comingone_go",function(){var t=$(this).attr("data-id");t&&window.open("//v.qq.com/doki/star?id="+t)}).on("click",".tit",function(){var t=$(this).attr("data-id");c.click("标题","","list_"+t),setTimeout(function(){t&&(location.href="//v.qq.com/x/page/"+t+".html"+(location.href.indexOf("debug101")>-1?"?debug101":""))},100)}).on("click",".pic",function(){var t=$(this).attr("data-id");c.click("封面","","list_"+t),setTimeout(function(){t&&(location.href="//v.qq.com/x/page/"+t+".html"+(location.href.indexOf("debug101")>-1?"?debug101":""))},100)}).on("click",".mod_tab_item",function(){t.$set("allNum",$(this).attr("data-num")),t.refreshScroll(),$(this).siblings().removeClass("mod_current"),$(this).addClass("mod_current"),s=$(this).attr("data-hook"),e.find(".mod_people_rank_container").addClass("none"),e.find("."+s).removeClass("none")}).on("click",".btn_prev",function(){t.prev()}).on("click",".btn_next",function(){t.next()})},refreshScroll:function(){this.updatePageNum(),this.updateBtn()},updateBtn:function(){this.$data.beginShowingIndex+this.$data.eachPageNum<this.$data.allNum?this.$set("hasNext",!0):this.$set("hasNext",!1),0==this.$data.beginShowingIndex?this.$set("hasPrev",!1):this.$set("hasPrev",!0)},updatePageNum:function(){this.$set("beginShowingIndex",0),this.$set("eachPageNum",Math.floor($(".mod_people_rank_scroll").width()/$("."+s).find(".jike_list_item").outerWidth(!0)))},prev:function(){var t=this.$data.beginShowingIndex;this.$set("beginShowingIndex",t-this.$data.eachPageNum),this.updateBtn()},next:function(){var t=this.$data.beginShowingIndex;this.$set("beginShowingIndex",t+this.$data.eachPageNum),this.updateBtn()}}})},function(module,exports){module.exports=function(d){
with(d)return'<div class="mod_hd">\n    <div class="mod_title">\n        <h2 class="title">即刻电音榜</h2>\n        <div class="electric_hd_tabs">\n            <span class="mod_tab_item mod_current" data-num="'+list1.length+'" data-hook="list1" _rank_module="榜" _rank_pos="周榜" _detail="list">周榜</span>\n            <span class="mod_tab_item" data-num="'+list2.length+'" data-hook="list2" _rank_module="榜" _rank_pos="总榜" _detail="list">总榜</span>\n        </div>\n    </div>\n</div>\n<div class="mod_bd">\n    <div class="mod_people_rank mod_people_rank_electric">\n        <div class="mod_people_rank_wrap mod_people_rank_all_wrap">\n            \x3c!-- sprite svg --\x3e\n            <svg class="svg_sprite" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                <symbol id="svg_icon_fire_lg" viewBox="0 0 36 36">\n                    <path d="M18 35.5c-5.2 0-14.9-4.4-14.9-15C3.1 8.2 18 .8 18.1.7l.4-.2V1c-.3 1.7-.3 3.5 0 5.2.6 4 2.3 6.6 5.1 7.7.1-1.4.5-5.9 3.5-7.9l.5-.3-.1.6s-.4 2.7 2.9 7.3c1.7 2.4 2.5 5.2 2.5 8.1 0 8.6-7.6 13.8-14.9 13.8z"></path>\n                </symbol>\n                <symbol id="svg_icon_fire_sm" viewBox="0 0 16 16">\n                    <path d="M8 15c-2.2 0-5.5-1.8-5.5-5.4 0-4.3 4.9-8 6.6-8.6-1.2 2.7-1.9 5.4.7 7.5 0-4.2 1.6-4.6 1.6-4.6s0 1.7 1.1 3.1c.6.8.9 1.9.9 3 .1 3.2-2.7 5-5.4 5z"></path>\n                </symbol>\n                <symbol id="svg_icon_hold_xs" viewBox="0 0 10 10">\n                    <path d="M1.5 4h7c.8 0 1.5.7 1.5 1.5S9.3 7 8.5 7h-7C.7 7 0 6.3 0 5.5S.7 4 1.5 4z"></path>\n                </symbol>\n                <symbol id="svg_icon_decline_xs" viewBox="0 0 10 10">\n                    <path d="M9.67 5.865L5.834 9.7a1.066 1.066 0 0 1-.851.302 1.07 1.07 0 0 1-.85-.302L.298 5.865a1.086 1.086 0 0 1 1.534-1.534L4 6.498v-5.5a1 1 0 0 1 2 0v5.469L8.136 4.33A1.086 1.086 0 0 1 9.67 5.865z"></path>\n                </symbol>\n                <symbol id="svg_icon_rise_xs" viewBox="0 0 10 10">\n                    <path d="M9.7 5.7c-.4.4-1.1.4-1.5 0L6 3.5V9c0 .6-.4 1-1 1s-1-.4-1-1V3.5L1.9 5.7c-.4.4-1.1.4-1.5 0C0 5.3 0 4.6.4 4.2L4.2.4c.2-.3.5-.4.8-.4.3 0 .6.1.9.3l3.8 3.8c.4.5.4 1.1 0 1.6z"></path>\n                </symbol>\n                <symbol id="svg_icon_num_1" viewBox="0 0 35 28" width="35" height="28">\n                    <path d="M22.172 28h-21.534l3.274-5.707h6.529l9.307-16.191h-6.568l3.444-6.102h15.376l-12.711 22.293h6.123z"></path>\n                </symbol>\n                <symbol id="svg_icon_num_2" viewBox="0 0 35 28" width="35" height="28">\n                    <path d="M10.625 11h17.375l-2.984 6h-18.016z M16.625 0h17.375l-2.984 6h-18.016z M7.625 22h17.375l-3.363 6h-17.637z M26.706 0h8.294l-9.994 17h-8.006z M10.471 11h8.129l-9.721 17h-8.279z"></path>\n                </symbol>\n                <symbol id="svg_icon_num_3" viewBox="0 0 35 28" width="35" height="28">\n                    <path d="M16.625 0h17.375l-2.984 6h-18.016z M3.422 22h14.578l-1.743 6h-16.257z M9.452 11h18.548l-3.405 6h-18.595z M26.816 0h8.184l-16.124 28-7.876-.02z"></path>\n                </symbol>\n            </svg>\n            <div class="mod_people_rank_scroll figure_scroll">\n                <div class="mod_people_rank_container list1">\n                    '+(list1||[]).map(function(t,e){return'\n\n                    <div class="list_item jike_list_item" r-class="{none: '+e+' < beginShowingIndex}">\n                        <a class="pic" data-id="'+t.stData.strVideoId+'">\n                            <img src="'+t.stData.strImg+'" alt="" >\n                            <span class="rank_num" style="background-image:url(https://puui.qpic.cn/vupload/0/20181113_1542078871330_49p6f1ngik5.png/0)">\n                                '+(function(){if(1==t.stData.iRank)return'\n                                <span class="hg" style="background-image:url(https://puui.qpic.cn/vupload/0/20181113_1542078802199_s79r14xv6d.png/0)"></span>\n                                '}()||"")+'\n                                <span class="num">\n                                    No.'+t.stData.iRank+'\n                                </span>\n                            </span>\n                        </a>\n                        <a class="tit" data-id="'+t.stData.strVideoId+'" >'+t.stData.strVideoName+'</a>\n                        <span class="source">'+(function(){if("true"==t.stData.strActorOut)return"【暂离】"}()||"")+t.stData.strActorName+'</span>\n                        <span class="num_ticket">'+t.stData.lScore+"赞</span>\n                        "+(function(){if(0==t.stData.iState)return'\n                            <button class="btn_vote" data-state="'+t.stData.iState+'" data-id="'+t.stData.strVideoId+'" _rank_module="点赞" _rank_pos="点赞" _detail="list_'+t.stData.strVideoId+'">点赞</button>\n                        '}()||"")+"\n                        "+(function(){if(1==t.stData.iState)return"\n                                    "+t.stData.lScore+"赞\n                        "}()||"")+"\n                        "+(function(){if(2==t.stData.iState)return'\n                        <button class="btn_vote disable" data-state="'+t.stData.iState+'" data-id="'+t.stData.strVideoId+'" data-playtask="'+t.stData.stPlayTask.iFinish+'" data-sharetask="'+t.stData.stShareTask.iFinish+'" _rank_module="点赞" _rank_pos="继续赚赞" _detail="list_'+t.stData.strVideoId+'">继续点赞</button>\n                        '}()||"")+"\n                    </div>\n                    "}).join("")+'\n\n                </div>\n                <div class="mod_people_rank_container none list2">\n                    '+(list2||[]).map(function(t,e){return'\n\n                    <div class="list_item jike_list_item" r-class="{none: '+e+' < beginShowingIndex}">\n                        <a class="pic" data-id="'+t.stData.strVideoId+'">\n                            <img src="'+t.stData.strImg+'" alt="" >\n                            <span class="rank_num" style="background-image:url(https://puui.qpic.cn/vupload/0/20181113_1542078871330_49p6f1ngik5.png/0)">\n                                '+(function(){if(1==t.stData.iRank)return'\n                                <span class="hg" style="background-image:url(https://puui.qpic.cn/vupload/0/20181113_1542078802199_s79r14xv6d.png/0)"></span>\n                                '}()||"")+'\n\n                                <span class="num">\n                                    No.'+t.stData.iRank+'\n                                </span>\n                            </span>\n                        </a>\n                        <a class="tit" data-id="'+t.stData.strVideoId+'" >'+t.stData.strVideoName+'</a>\n                        <span class="source">'+(function(){if("true"==t.stData.strActorOut)return"【暂离】"}()||"")+t.stData.strActorName+'</span>\n                        <span class="num_ticket">'+t.stData.lScore+"赞</span>\n                        "+(function(){if(0==t.stData.iState)return'\n                            <button class="btn_vote" data-state="'+t.stData.iState+'" data-id="'+t.stData.strVideoId+'" _rank_module="点赞" _rank_pos="点赞" _detail="list_'+t.stData.strVideoId+'">点赞</button>\n                        '}()||"")+"\n                        "+(function(){if(1==t.stData.iState)return"\n                                    "+t.stData.lScore+"赞\n                        "}()||"")+"\n                        "+(function(){if(2==t.stData.iState)return'\n                        <button class="btn_vote disable" data-state="'+t.stData.iState+'" data-id="'+t.stData.strVideoId+'" data-playtask="'+t.stData.stPlayTask.iFinish+'" data-sharetask="'+t.stData.stShareTask.iFinish+'" _rank_module="点赞" _rank_pos="继续点赞"  _detail="list_'+t.stData.strVideoId+'">继续点赞</button>\n                        '}()||"")+"\n                    </div>\n                    "}).join("")+'\n\n                </div>\n                <a href="javascript:void(0);" class="btn_prev disabled" title="上一页" r-class="{disabled: !hasPrev}">\n                    <i class="icon_lg icon_prev_lg"><svg class="svg_icon svg_icon_prev_lg" viewBox="0 0 36 36" width="36"\n                            height="36">\n                            <use xlink:href="#svg_icon_prev_lg"></use>\n                        </svg></i>\n                </a>\n                <a href="javascript:void(0);" class="btn_next" title="下一页" r-class="{disabled: !hasNext}">\n                    <i class="icon_lg icon_next_lg"><svg class="svg_icon svg_icon_next_lg" viewBox="0 0 36 36" width="36"\n                            height="36">\n                            <use xlink:href="#svg_icon_next_lg"></use>\n                        </svg></i>\n                </a>\n            </div>\n\n\n        </div>\n    </div>\n</div>\n'}},function(t,e,n){"use strict";function i(t){this._con=t}function o(){return l||window.jQuery||window.$||m}function a(t){return"array"!==p.type(t)?"":p.map(t,function(t){return p.map(t,function(t){return encodeURIComponent(t)}).join(",")}).join("|")}function r(t){return"string"!=typeof t?[]:p.map(t.split("|"),function(t){return p.map(t.split(","),function(t){return decodeURIComponent(t)})})}function s(t){function e(t,e){return e=e||{},e.loaded=!0,_.hot(t,p.extend({},O,e))}function n(t,n,i){return e([x,"event",t,n,i||""]),this}function i(t,n,i){return e([x,"click",t,n||"",i]),this}function v(t,n,i){return e([x,"pageview",t,n||"",i||""]),this}function m(t,e){switch(t){case"click":i.apply(this,e);break;case"pageview":v.apply(this,e);break;case"event":n.apply(this,e)}}function g(t){var e=Array.prototype.slice.call(arguments,1);if(h)try{var n=localStorage.getItem(b);try{n=r(n)}catch(i){}return"array"!==p.type(n)&&(n=[]),n.push([t].concat(e)),void localStorage.setItem(b,a(n))}catch(i){}m(t,e)}function y(){}var w="index",x="boss_common",b=x+"_lazy_reports",k=t&&t.standard,$=t&&t.loaded,O={},I={create:s,ptag:_.ptag,standard:function(t){return s(p.extend({standard:!0},t))},click:function(t,e){var n=(t+"."+(e||"")).split(".");return i(w,n[0],n[1])},event:function(t,e){var i=(t+"."+(e||"")).split(".");return n(w,i[0],i[1])},pv:function(t,e,n){var i=(t+"."+(e||"")+"."+(n||"")).split(".");v(i[0],i[1],i[2])},pagestat:function(t){var n=Array.prototype.slice.call(arguments,1);return n.unshift(x,t,w),e(n),this},stat:function(){var t=Array.prototype.slice.call(arguments);return t.unshift(x),e(t),this},setApp:function(t){return x=t,b=t+"_lazy_reports",setTimeout(function(){I.flush()},1e3),this},setPage:function(t){return w=t,this},setJQ:function(t){return l=t,this},set:function(t){return p.objEach(t,function(t,e){switch(t){case"loaded":$=!!e;break;case"source":O[t]=e}}),this},bind2d:function(t,e,n,i,a){var r=o(),s=this;return r(t).on("click","["+n+"]",function(t){var o=t.currentTarget,c=r(o),l=c.attr(n),d=c.attr(i),u=[];a&&(u=(c.attr(a)||"").split(/\,\s*/));for(var p,f=10;f&&o&&!(p=r(o).attr(e));)f--,o=o.parentNode;p&&s.click.apply(s,[p,l,d].concat(u))}),this},bind:function(t,e){var n=o();return n(t).on("click","["+e+"]",function(t){var o=t.currentTarget,a=n(o),r=a.attr(e),s=(r+".").split(".");if("A"==o.tagName){var c=a.attr("href"),l=a.attr("target"),d=(c||"").match(/^([a-zA-Z]+)\:/);if(d=d?d[1]:"",!/^(javascript:|#)/.test(c)&&!l&&(!d||/^https?$/.test(d)))return void g("click",w,s[0],s[1])}i(w,s[0],s[1])}),this},bindLazy:function(t,e){var n=o();return n(t).on("click","["+e+"]",function(t){var i=t.currentTarget,o=n(i),a=o.attr(e);g("click",w,a,"")}),this},flush:function(){if(localStorage)try{var t=localStorage.getItem(b);localStorage.removeItem(b),t&&(t=r(t),p.forEach(t,function(t){m(t[0],t.slice(1))}))}catch(e){}return this},uuidGetter:function(t){return d=t,this},referrerGetter:function(t){return u=t,this},host:function(t){return _.host&&_.host(t),this}};if(k){var C=I.bind2d,E=document.body,T="_module",V="_pos",P=[];I.bind=function(t,e,n,i){return E=t||E,T=e||T,V=n||V,C.call(I,E,T,V,i||"_detail","_exts")},I.bind2d=I.bind;var S={},q=0;p.extend(I,{stat:y,pagestat:y,bindExpose:function(t,e,n,i){var a=o(),r=t||E,s=e||T,l=n||V;if(i=i||{},!r.querySelectorAll)return this;var d=r.querySelectorAll("["+l+"]");return p.forEach(d,function(t){if(!t._binded_expose){t._binded_expose=!0;var e=c(T,t),n=q++;if(e){var o=a(e),r=a(t),d=f(t,{inview:!!i.inview,once:!0,enter:!0,recalc:!0,offset:i.inview?20:0,horiz:e.hasAttribute&&e.hasAttribute("_horiz"),listenHoriz:!0},function(){var t=o.attr(s)||"",e=r.attr(l)||"",i=r.attr("_detail")||"",a=(r.attr("_exts")||"").split(/\,\s*/);t&&I.expose.apply(I,[t,e,i].concat(a)),d&&(delete S[n],d())});S[n]=d}}}),this},updateExpose:function(){return f.message.emit("update"),this},click:function(t,n,i){return arguments.length<2&&(n=t,t=""),e([x,"click",w,t,n,i].concat(this.getExts(3,arguments)).concat(P),{standard:k}),this},event:function(t,n,i){return arguments.length<2&&(n=t,t=""),e([x,"event",w,t,n,i].concat(this.getExts(3,arguments)).concat(P),{standard:k}),this},expose:function(t,n,i){return e([x,"expose",w,t,n,i].concat(this.getExts(3,arguments)).concat(P),{standard:k}),this},pv:function(t,n,i,o){return e([x,"pageview",t||w,n,i,o].concat(this.getExts(4,arguments)).concat(P),{standard:k}),this},exts:function(){var t=[].slice.call(arguments,0);return P=t,this},getExts:function(t,e){return e=[].slice.call(e,0),e.slice(t).concat(new Array(4)).slice(0,4)}})}return I}function c(t,e){for(var n=o(),i=10;i&&e&&!n(e).attr(t);)i--,e=e.parentNode;return e}var l,d,u,p=n(42),f=n(50),v=n(133),_=n(226),h="localStorage"in window&&null!==window.localStorage,m=function(t){return new i(t)};i.prototype.on=function(t,e,n){v(this._con,e,t,function(t){n({currentTarget:t.delegateTarget})})},i.prototype.attr=function(t){return this._con.getAttribute(t)},_.uuidGetter&&_.uuidGetter(function(){if(d)try{return d()}catch(t){}}),_.referrerGetter&&_.referrerGetter(function(){if(u)try{return u()}catch(t){}}),t.exports=s()},function(t,e,n){"use strict";function i(t){var e=document.referrer||t.referrer||"",n=O||u.get("openid"),i=u.get("o_cookie")||u.get("uin")||u.get("luin"),o=u.get("appid"),r=u.get("main_login");return x+(t.standard?C:I)+"&s_uuid="+(y()||a())+(e?"&s_referrer="+encodeURIComponent(e):"")+(n?"&s_openid="+n:"")+(i?"&s_uin="+i:"")+(o?"&s_appid="+o:"")+(r?"&s_mainlogin="+r:"")+"&s_url="+encodeURIComponent(location.href.split("?")[0])}function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[t(),t(),t(),t()].join("")}function a(){if(b)return b;var t=u.get("tvfe_boss_uuid");if(!t){t=o();try{u.set("tvfe_boss_uuid",t,"qq.com",!1,87600)}catch(e){u.set("tvfe_boss_uuid",t,"",!1,87600)}}return b=t,t}function r(t,e){e=e||{};var n=e.loaded,o="number"==v.type(n)?n:500;"string"==v.type(t)?(t=t.replace(/\.$/,"").split("."),(t.length<3||t.length>5)&&console.warn("按钮名分段数不对，可能会导致数据丢失")):"array"!=v.type(t)&&(t=[]);var a="";if(e.standard){a=i({standard:!0,referrer:w()});var r=["s_app","s_behave","s_page","s_module","s_pos","s_detail","s_psdesc","s_ext2","s_ext3","s_ext4","s_pgdetail","s_value2","s_value3","s_value4"];v.forEach(r,function(e,n){var i=t[n];null!==i&&i!==undefined&&""!==i&&e&&(a+="&"+e+"="+encodeURIComponent(i))})}else{var c=e.source||"";if("function"==v.type(c))try{c=c()}catch(u){}a=i({referrer:w()}),a+="&s_app="+encodeURIComponent(t[0]||"")+"&s_module="+encodeURIComponent(t[1]||"")+"&s_behave="+encodeURIComponent(t[2]||"")+"&s_sub="+encodeURIComponent(t[3]||"")+"&s_fifth="+encodeURIComponent(t[4]||"")+(c?"&s_source="+encodeURIComponent(c):"")}a+=$?"&s_ptag="+encodeURIComponent($):"",a+="&_dc="+Math.ceil(1e7*Math.random());var d=function(){if(e&&e.lazy)f.push(a);else if(n){var t=v.once(function(){p(a)});s(t),setTimeout(t,o)}else p(a)};e.standard?(l.os.iphone&&(a+="&s_platform=5"),l.os.android&&(a+="&s_platform=3"),h(function(t){var e=t.bucketId;e&&(a+="&plat_bucketid="+e);var n=t.omgid;n&&(a+="&s_omgid="+n);var i=t.idfa;i&&(a+="&s_idfa="+i);var o=t.imei;o&&(a+="&s_imei="+o),d()})):d()}function s(t){if(E)t();else if(T)var e=m.on("ready",function(){e(),t()});else{var n=v.once(function(){T=!1,E=!0;try{t()}finally{m.emit("ready")}});window.addEventListener?window.addEventListener("load",n):window.attachEvent?window.attachEvent("onload",n):n(),setTimeout(n,5e3)}}var c,l=n(34)(),d=n(35),u=n(37),p=n(227),f=n(38),v=n(42),_=n(41),h=n(230),m=new _,g=function(){},y=g,w=g,x="//btrace.video.qq.com";try{c=window.jQuery||window.Zepto||window.tvp&&window.tvp.$}catch(V){}c&&c(document.body).on("click","[_boss]",function(t){r(c(t.currentTarget).attr("_boss"))});var b,k=window.sessionStorage||{getItem:function(){return""}},$=d.get("ptag")||k.getItem("ptag")||u.get("ptag"),O=d.get("openid"),I="/kvcollect?BossId=3255&Pwd=2118551257&s_ua="+navigator.userAgent+"&s_browser="+l.browser.name,C="/kvcollect?BossId=5982&Pwd=1952884855&s_ua="+navigator.userAgent;t.exports={uuid:function(){return a()},uuidGetter:function(t){y=t||g},referrerGetter:function(t){w=t||g},ptag:function(t){$=t},host:function(t){x=t},hot:r,uid:a};var E,T},function(t,e,n){"use strict";var i=n(228),o=/\.qq\.com$/.test(document.domain);(i.isAndroid()||i.isIOS())&&o?t.exports=n(229):t.exports=n(31)},function(t,e){"use strict";var n=navigator.userAgent,i=n.toLowerCase();t.exports={isIE:function(){return/; msie\b|; trident\b|\bedge\//.test(i)},isWX:function(){return/micromessenger/.test(i)},isQQ:function(){return/\bqq\b/.test(i)},isQQBrowser:function(){return/mqqbrowser/.test(i)},isQQLive:function(){return/qqlive/.test(i)},isQQLiveBroadcast:function(){return/qqlivebroadcast/.test(i)},isMobile:function(){return!!(n.match(/Android/i)||n.match(/android/i)||n.match(/iPhone/i)||n.match(/iPod/i)||n.match(/webOS/i)||n.match(/BlackBerry/i)||n.match(/BB/i)||n.match(/Windows Phone/i)||n.match(/iPad.*MicroMessenger/i)||n.match(/IEMobile/i))},isIOS:function(){return/iPad|iPhone|iPod/.test(n)&&!window.MSStream},isMac:function(){return/\bmac\b/.test(i)},isPC:function(){return/Win/.test(n)},isAndroid:function(){return/android/.test(i)},isChrome:function(){return/Chrome\//.test(n)},wxVer:function(){var t=i.match(/micromessenger\/([\d\.]+)/);return t?t[1]:""},androidVer:function(){var t=i.match(/android\s([0-9\.]*)/);return t?t[1]:""}}},function(t,e){t.exports=function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.withCredentials=!0,e.send()}},function(t,e,n){function i(t){window.TenvideoJSBridge?t(TenvideoJSBridge):document.addEventListener("onTenvideoJSBridgeReady",function(){t(TenvideoJSBridge)},!1)}var o=n(34)(),a="",r="",s="",c="",l="",d=!1,u=!1,p=!1,f=[];d=u=!o.browser.QQvideo,t.exports=function(t){if(d&&u)return void t({omgid:a,guid:r,idfa:s,imei:c,bucketId:l});if(f.push(t),!p){p=!0;var e=!1,n=function(){if(!e&&d&&u){e=!0;var t=f;f=[];for(var n={omgid:a,guid:r,idfa:s,imei:c,bucketId:l},i=0,o=t.length;i<o;i++)setTimeout(t[i],0,n)}};setTimeout(function(){d=u=!0,n()},3e3),i(function(t){t.invoke("getDeviceInfo",null,function(t){d=!0;var e;try{e=JSON.parse(t).result}catch(i){}e||(e={}),a=e.omgid,s=e.idfa,c=e.imei,r=e.guid,n()}),t.invoke("getAppInfo",null,function(t){u=!0;var e;try{e=JSON.parse(t).result}catch(i){}e||(e={}),l=e.bucketId,n()})})}}},function(t,e){"use strict";t.exports=Reve.component("c-liveshow-gift",{ready:function(){var t=this;window.COVER_INFO.column_id==$(this.$el).attr("data-columnid")&&$.getScript("//vm.gtimg.cn/tencentvideo/script/giftlist/play/index.min.js?v=20170808",function(){window.liveshowGift&&window.liveshowGift.init({container:t.$el,type:"play_v2"}),window.liveshowGift=null})}})},function(t,e){t.exports=Reve.component("c-tools",{ready:function(){$(this.$el).find("._recommends-slider"),setTimeout(function(){var t=null;$(window).scroll(function(){clearTimeout(t),t=setTimeout(this.handleBacktop,300)}.bind(this)),$("#btn_backtop").on("click",function(){$(window).scrollTop(0)})}.bind(this),300)},methods:{handleBacktop:function(){var t=$(".container_player"),e=t.offset().top+t.height(),n=$(window).scrollTop();$("#btn_backtop")[n>e?"show":"hide"]()}}})},function(t,e,n){n(43);t.exports=Reve.component("c-relate-news",{ready:function(){},methods:{show:function(){return!1}}})},function(module,exports){module.exports=function(d){with(d)return""+(list||[]).map(function(t,e){return'\n<li class="list_item">\n    <a href="'+t.url+'" target="_blank;" class="figure" title="'+t.title+"\" _stat='relate-news:pic'>\n        <img src=\""+t.image+'" alt="'+t.title+'"  class="figure_pic" onerror="picerr(this,\'h\')"/>\n    </a>\n    <div class="figure_detail">\n        <div class="figure_detail_two_row">\n            <strong class="figure_title">\n                <a href=\''+t.url+"' target=\"_blank;\" title='"+t.title+"' _stat='relate-news:title'>"+t.title+"</a>\n            </strong>\n        </div>\n    </div>\n</li>"}).join("")}},function(t,e,n){var i=n(43);t.exports=Reve.component("c-vip-benefit",{ready:function(){},methods:{show:function(){var t=this,e=$(t.$el);$.ajax({url:"//node.video.qq.com/x/vip/api/common/?_m=film.getVipWelfare()",dataType:"jsonp"}).done(function(o){if(o&&o.data&&o.data.film&&o.data.film.vipWelfare&&o.data.film.vipWelfare.length>0){for(var a=o.data.film.vipWelfare,r={list:[]},s=0,c=0;c<a.length;c++)s<4&&a[c].web_url&&a[c].web_url.length&&(s++,r.list.push(a[c]));if(s>0){var l=n(236),d=i(t,l,r);return e.find(".figure_list").html(d),void e.find(".mod_title").show()}}e.remove()}).fail(function(){e.remove()})}}})},function(module,exports){module.exports=function(d){with(d)return(list||[]).map(function(t,e){return'\n<li class="list_item">\n    <a href="'+t.web_url+'" target="_blank;" class="figure" title="'+t.title+"\" _stat='vip-benefit:pic'>\n        <img src=\""+_.imgUrl(t.pic_453x254)+'" alt="'+t.title+'"  class="figure_pic" onerror="picerr(this,\'h\')"/>\n    </a>\n    <div class="figure_detail">\n        <div class="figure_detail_two_row">\n            <strong class="figure_title">\n                <a href="'+t.web_url+'" target="_blank;" title=\''+t.title+"' _stat='vip-benefit:title'>"+t.title+"</a>\n            </strong>\n        </div>\n    </div>\n</li>"}).join("")+"\n"}},function(t,e,n){"use strict";var i=window.PageMessage,o=n(22).build({url:"jsonp://like.video.qq.com/fcgi-bin/dataout?auto_id=1539&{custom}&otype=json"}),a=n(43),r=n(52),s=n(238),c=n(32),l={};t.exports=Reve.component("c-mv-rank",{data:{showMore:!1,currentIndex:0,customContext:"",posterData:{},timeTxt:""},created:function(){this.$data.customContext=this.$data.customContext.split(",");var t=this.$data.posterData;if("string"==typeof t)try{this.$data.posterData=JSON.parse(unescape(t))}catch(e){this.$data.posterData={}}},ready:function(){var t=r.getPeriodTime("week");this.$set("timeTxt",r.formatDate(new Date(t.begin),"MM/dd")+" - "+r.formatDate(new Date(t.end),"MM/dd"))},methods:{switchTab:function(t){function e(e){n.$set("currentIndex",t),$(n.$el).find("#_mv_rank_list").html(a(n,s,{list:e.list})),txv.Boss&&txv.Boss.wind()}var n=this,i=this.$data.customContext[t];if(l[i])return void e(l[i]);o({custom:this.$data.customContext[t]}).then(function(t){var n=t.result;0==n.returncode&&(l[i]=n,e(n))})},toggleMore:function(){if(this.$set("showMore",!this.$data.showMore),this.$data.showMore)c.click("mv-rank:open");else{c.click("mv-rank:close");var t=0;if(COVER_INFO.type){var e=$(".mod_player_section");t=e.offset().top+e.height()}else{t=$(this.$el).offset().top-($("#new_vs_header").height()||75)}$(window).scrollTop(t-1)}},showRule:function(){i.emit("rule-show","mv-rank",{rule:this.$data.posterData.share_rule,title:"Young榜MV榜单规则"})}}})},function(module,exports){module.exports=function(d){with(d)return""+(list||[]).map(function(t,e){return"\n"+(function(n,i){return'\n<li __wind class="list_item" '+(function(){if(e>3)return'style="display:none;" r-show="{showMore}"'}()||"")+'>\n    <a _stat="mv-rank:play" href="'+t.url+'" class="figure" title="'+n+'" target="_blank">\n        <img src="http://i.gtimg.cn/qqlive/images/20150608/pic_h.png  " r-lazyload="'+_.imgUrl(t.pic)+'" alt="'+n+'" class="figure_pic">\n        <div class="figure_count">\n            <span class="rank_num'+(function(){if(i<=3)return" rank_num"+i}()||"")+'">'+i+'</span>\n        </div>\n    </a>\n    <div class="figure_detail">\n        <strong class="figure_title">\n            <a href="'+t.url+'" _stat="mv-rank:play" target="_blank">'+n+'</a>\n        </strong>\n        <div class="figure_desc">'+t.singer_name+'</div>\n        <div class="figure_num">\n            <span class="num">'+(t.view_scores&&t.view_scores.toFixed(2)||0)+"</span>\n            "+(function(){return i>t.last_rank?'\n            <i class="icon_xs icon_decline_xs">\n                <svg class="svg_icon svg_icon_decline_xs" viewBox="0 0 10 10" width="10" height="10">\n                    <path d="M9.67 5.865L5.834 9.7a1.066 1.066 0 0 1-.851.302 1.07 1.07 0 0 1-.85-.302L.298 5.865a1.086 1.086 0 0 1 1.534-1.534L4 6.498v-5.5a1 1 0 0 1 2 0v5.469L8.136 4.33A1.086 1.086 0 0 1 9.67 5.865z"></path>\n                </svg>\n            </i>\n            ':i==t.last_rank?'\n            <i class="icon_xs icon_hold_xs">\n                <svg class="svg_icon svg_icon_hold_xs" viewBox="0 0 10 10" width="10" height="10">\n                    <path d="M1.5 4h7c.8 0 1.5.7 1.5 1.5S9.3 7 8.5 7h-7C.7 7 0 6.3 0 5.5S.7 4 1.5 4z"></path>\n                </svg>\n            </i>\n            ':'\n            <i class="icon_xs icon_rise_xs">\n                <svg class="svg_icon svg_icon_rise_xs" viewBox="0 0 10 10" width="10" height="10">\n                    <path d="M9.7 5.7c-.4.4-1.1.4-1.5 0L6 3.5V9c0 .6-.4 1-1 1s-1-.4-1-1V3.5L1.9 5.7c-.4.4-1.1.4-1.5 0C0 5.3 0 4.6.4 4.2L4.2.4c.2-.3.5-.4.8-.4.3 0 .6.1.9.3l3.8 3.8c.4.5.4 1.1 0 1.6z"></path>\n                </svg>\n            </i>\n            '}()||"")+"\n        </div>\n    </div>\n</li>\n"}(_(t.title),e+1)||"")+"\n"}).join("")}},function(t,e,n){function i(t){var e=this;e.speed=t.speed,e.render=t.getView,e.$dom=t.$dom,e.onEnd=t.onEnd,e.onLoop=a(1),e.views=[],e.x=_,e.state=f,e.translate(_)}function o(){g++,setTimeout(function(){var t=m.length,e=0;for(h=!1;e<t;){var n=m[e];if(n&&!(g%n.freq)){var i=n.fn;i&&(i(),h=!0)}e++}h&&o()},40)}function a(t){var e={freq:t||1};return m.push(e),function(t){h||(h=!0,o()),e.fn=t}}function r(){return(new Date).getTime()}var s=n(43),c=n(27),l=n(240),d=n(241),u=window.PageMessage,p="float-comments-close";t.exports=Reve.component("c-float-comments",{ready:function(){var t=this,e=$(t.$el),n=txv.ua.chrome||txv.ua.safari,o=!1;if(n)try{var a=+localStorage.getItem(p);a&&r()-a<2592e5&&(o=!0)}catch(h){o=!0}if(!n||o)return void e.hide();var c=t.managers={},f=[{cls:"fc_track_1",speed:3},{cls:"fc_track_2",speed:2.5}],v=function(){t.clear(),t.load()},_=function(){t.clear()};u.waitandon("tvp-adStart",v),u.waitandon("tvp-playing",_),e.html(s(t,l)),f.forEach(function(n){var o=n.cls,a=e.find("."+o),r=new i({$dom:a,speed:n.speed,getView:function(){var e=(t.comments||[]).shift();if(e)return e.key=o,a.append(s(t,d,e)),a.find(".fc_item:last")},onEnd:function(){Object.keys(c).every(function(t){return c[t].isEnd()})&&e.hide()}});c[o]=r})},methods:{load:function(){var t=this,e=(t.managers,COVER_INFO.cover_id),n=VIDEO_INFO.category_map;if(n&&n.indexOf("正片")>=0){$.ajax({type:"POST",url:"//debugaccess.video.qq.com/fcgi/video_hottest_comment?vappid=65390405&vsecret=c725d665f8d68a9666a2b6bc382cd2d7dd8cc1d5fb08b807",data:'{"iRequestNum":30,"vecReqDataList":[{"iIdType": 1,"strId": "'+e+'"}]}',dataType:"text",success:function(t){var n;if(t){try{var o=t.replace(/^data=/,""),a=JSON.parse(o),r=c(a,"data.mapCommDataList."+e+".vecHotCommData");r&&(n=r.filter(function(t){var e=t.strContent;return e&&""!=e}).map(function(t){return{head:t.strHeadUrl.replace(/^https:/,""),text:t.strContent}}))}catch(s){n=[]}i(n)}},error:function(t){i([])}});var i=function(e){var n=t.managers||{};t.comments=e,Object.keys(n).forEach(function(t){var e=n[t];e.reset(),e.start()}),$(t.$el).show()}}},clear:function(){var t=this,e=t.managers||{};Object.keys(e).forEach(function(t){e[t].pause()}),$(t.$el).hide()},close:function(){this.clear();try{localStorage.setItem(p,r())}catch(t){}},getEnter:function(t){var e=this.managers[t];return function(){e.pause()}},getLeave:function(t){var e=this.managers[t];return function(){e.start()}},toComment:function(){u.emit("scrollToComment")}}});var f=0,v=$(window),_=v.width();v.resize(function(){_=v.width()}),i.prototype.reset=function(){var t=this,e=t.views;for(t.x=_,t.views=[];e.length>0;){e.shift().$el.remove()}},i.prototype.translate=function(t){var e="translateX("+t+"px)";this.$dom.css({"-webkit-transform":e,transform:e})},i.prototype.start=function(){var t=this,e=($(window),t.views);t.onEnd;t.state=1,t.onLoop(function(){var n=t.x,i=e[e.length-1];if(i&&i.left+n+i.width<_||!i){var o=t.render();if(o){var a=o.find(".fc_avatar").outerWidth(!0)+o.find(".fc_content").outerWidth(!0),r=o.position().left;e.push({$el:o,width:a,left:r})}else if(!i)return void t.end()}var s=e[0];if(s&&n<-s.width){var c=e[1];if(!c)return void t.end();var r=c.left;e.forEach(function(t){t.left-=r}),n+=r,e.shift(),s.$el.remove()}t.translate(n),t.x=n-t.speed})},i.prototype.pause=function(){var t=this;t.onLoop(),t.state=f},i.prototype.end=function(){var t=this,e=t.onEnd;t.pause(),t.state=-1,e&&e()},i.prototype.isEnd=function(){return-1==this.state};var h=!1,m=[],g=0},function(module,exports){module.exports=function(d){with(d)return'<div class="fc_track fc_track_1"></div>\n<div class="fc_track fc_track_2"></div>\n<div class="fc_close" r-on="{click:close}">\n  <div class="fc_close_bg"></div>\n  <i class="icon icon_close"><svg class="svg_icon svg_icon_close" viewBox="0 0 20 20" width="20" height="20"><path d="M19.4 18.4l-.9.9-8.5-8.4-8.4 8.4-.9-.9L9.1 10 .6 1.6l.9-.9L10 9.1 18.4.7l.9.9-8.4 8.4 8.5 8.4z"></path></svg></i>\n</div>'}},function(module,exports){module.exports=function(d){with(d)return'<div class="fc_item" r-on="{mouseenter:getEnter(\''+key+"');mouseleave:getLeave('"+key+'\')}">\n  <span class="fc_avatar">\n    <img src="'+head+'" class="fc_avatar_pic">\n  </span>\n  <div class="fc_content">'+_(text)+'</div>\n  <span class="fc_more" r-on="{click:toComment}">更多评论</span>\n</div>'}},function(t,e){var n=window.PageMessage;t.exports=Reve.component("c-player-helper",{data:function(){return{showHelper:!1}},ready:function(){function t(t){var e=$(".mod_player_section")[0].getBoundingClientRect(),n=$(document),i=n.scrollTop(),a=n.scrollLeft();o.css({width:e.width,position:"absolute",left:e.left+a+"px",top:e.top+i+"px",zIndex:1e3}),t&&t.reloc&&r.css({position:"absolute",left:t.left+"px",top:t.top+"px"})}var e=this,i=$(this.$el),o=i.find("._player_mask_tips"),a=i.find("._mask_layer"),r=a.find("._visual_player_helper");n.on("playerHelper",function(n,i){"flash"!=PLAYER.getPlayerType()&&(n?(t({reloc:!0,top:i.top,left:i.left}),$("[data-role=txp-control-wrap]").hide(),$(".txp_alert_info").addClass("txp_none")):$("[data-role=txp-control-wrap]").show(),e.$set("showHelper",n))}),n.on("topFollowSeries-collapse",function(){t()})},methods:{hideHelper:function(){n.emit("playerHelper",!1)},stopBubble:function(t){return t.stopPropagation(),!1}}})},function(t,e,n){var i=window.PageMessage,o=n(244),a=n(43);t.exports=Reve.component("c-rank-rule",{data:{show:!1,currentRuleId:0},ready:function(){var t=this,e=$(this.$el);i.waitandon("rule-show",function(n,i){t.$data.currentRuleId!=n&&(e.find("._mod_pop_inner").html(a(t,o,{rule:i})),t.$data.currentRuleId=n),t.$set("show",!0);var r=e.find("._mod_pop_rules");r.css("margin-top",0-r.outerHeight()/2)})},methods:{hiden:function(){this.$set("show",!1)}}})},function(module,exports){module.exports=function(d){with(d)return'<h3 class="pop_title">'+rule.title+"</h3>\n"+(rule.rule||[]).map(function(t,e){return'\n<h4 class="pop_label">'+t.rule_title+'</h4>\n<p class="pop_desc">\n    '+t.rule_desc+"\n</p>\n"}).join("")}}]);